###########################
# German Foreign Events
###########################
# By Levi, Zarasophos and Zankoas
###########################
add_namespace = gerfor

### British Landing in Denmark

country_event = { # The Union of Britain invade Denmark
    id = gerfor.1
    title = gerfor.1.t
    desc = gerfor.1.d

    mean_time_to_happen = {
        days = 15
    }

    fire_only_once = yes

    trigger = {
        tag = GER
        ENG = {
            has_war_with = DEN
        }
        NOT = {
            has_war_with = FRA
            has_war_with = ENG
            has_war_with = DEN
            DEN = {
                OR = {
                    is_in_faction_with = CAN
                    is_in_faction_with = RUS
                    is_in_faction_with = FRA
                }
            }
        }
        controls_state = 64
    }

    option = { # Ultimatum 
        name = gerfor.1.a
        ai_chance = {
            factor = 80
        }
        add_opinion_modifier = {
            target = DEN modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = ENG modifier = DEN_position_minus
        }
        add_named_threat = {
            threat = 1 name = DEN_ENG_ultimatum
        }
        add_political_power = 60
        ENG = {
            country_event = {
                id = gerfor.2 days = 1
            }
        }
        DEN = {
            country_event = {
                id = gerfor.3 days = 1
            }
        }
    }

    option = { #let it go 
        name = gerfor.1.b
        ai_chance = {
            factor = 20
        }
        add_opinion_modifier = {
            target = ENG modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = DEN modifier = DEN_position_minus
        }
        add_named_threat = {
            threat = -3 name = DEN_abandon
        }
        add_political_power = -60
    }
}

country_event = { # The Germans Send an Ultimatum
    id = gerfor.2
    title = gerfor.2.t
    desc = gerfor.2.d
    picture = UK_country_parliament

    is_triggered_only = yes

    option = { # Back down 
        name = gerfor.2.a
        ai_chance = {
            factor = 75
        }
        white_peace = DEN
        add_opinion_modifier = {
            target = DEN modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = GER modifier = DEN_position_plus
        }
        add_named_threat = {
            threat = -3 name = DEN_ENG_back_down
        }
        add_political_power = -60
        GER = {
            country_event = {
                id = gerfor.4 days = 1
            }
        }
        DEN = {
            country_event = {
                id = gerfor.6 days = 1
            }
        }
    }

    option = { # Fuck Germany 
        name = gerfor.2.b
        ai_chance = {
            factor = 25
        }
        add_opinion_modifier = {
            target = DEN modifier = DEN_position_minus
        }
        add_opinion_modifier = {
            target = GER modifier = DEN_position_minus
        }
        add_political_power = 60
        GER = {
            country_event = {
                id = gerfor.5 days = 1
            }
        }
    }
}

country_event = { # The Ultimatum, Berlin Warns London
    id = gerfor.3
    title = gerfor.3.t
    desc = gerfor.3.d
    picture = reichstag2

    is_triggered_only = yes

    option = {
        name = gerfor.3.a
        add_political_power = 60
    }
}

country_event = { # Union of britian backs down 
    id = gerfor.4
    title = gerfor.4.t
    desc = gerfor.4.d
    picture = Diplomacy1

    is_triggered_only = yes

    option = {
        name = gerfor.4.a
        add_political_power = 100
        white_peace = FRA
    }
}

country_event = { # The Brits ignore our ultimatum 
    id = gerfor.5
    title = gerfor.5.t
    desc = gerfor.5.d
    picture = copenhagen

    is_triggered_only = yes

    option = { # War 
        name = gerfor.5.a
        ai_chance = {
            factor = 95
        }
        declare_war_on = {
            target = ENG type = annex_everything
        }
        add_to_faction = DEN
    }

    option = { # Pull out 
        name = gerfor.5.b
        ai_chance = {
            factor = 5
        }
        add_political_power = -60
        add_opinion_modifier = {
            target = DEN modifier = DEN_position_minus
        }
    }
}

country_event = { # The brits pull out 
    id = gerfor.6
    title = gerfor.6.t
    desc = gerfor.6.d
    picture = evacuate
    is_triggered_only = yes
    option = {
        name = gerfor.6.a
        add_political_power = 200
        white_peace = FRA
        add_opinion_modifier = {
            target = GER modifier = DEN_thank
        }
    }
}

### Italian Federation

country_event = { #The Syndicalist invade Italy
    id = gerfor.7
    title = gerfor.7.t
    desc = gerfor.7.d

    trigger = {
        tag = GER
        FRA = {
            has_war_with = ITA
        }
        NOT = {
            has_war_with = FRA
            has_war_with = ITA
            is_in_faction_with = ITA
            ITA = {
                OR = {
                    is_in_faction_with = CAN
                    is_in_faction_with = AUS
                }
            }
        }
        controls_state = 64
        ITA = {
            is_subject = no
        }
    }

    mean_time_to_happen = {
        days = 15
    }

    fire_only_once = yes

    option = { # Send ultimatum 
        name = gerfor.1.a
        ai_chance = {
            factor = 80
        }
        add_opinion_modifier = {
            target = ITA modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = FRA modifier = DEN_position_minus
        }
        add_named_threat = {
            threat = 1 name = DEN_ENG_ultimatum
        }
        add_political_power = 60
        FRA = {
            country_event = {
                id = gerfor.8 days = 1
            }
        }
        ITA = {
            country_event = {
                id = gerfor.9 days = 1
            }
        }
    }

    option = { # Let it go 
        name = gerfor.1.b
        ai_chance = {
            factor = 20
        }
        add_opinion_modifier = {
            target = FRA modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = ITA modifier = DEN_position_minus
        }
        add_named_threat = {
            threat = -3 name = DEN_abandon
        }
        add_political_power = -60
    }

}

country_event = { # The Germans Send an Ultimatum
    id = gerfor.8
    title = gerfor.8.t
    desc = gerfor.8.d

    is_triggered_only = yes

    option = { # Back down 
        name = gerfor.2.a
        ai_chance = {
            factor = 70
        }
        white_peace = ITA
        white_peace = AUS
        add_opinion_modifier = {
            target = ITA modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = GER modifier = DEN_position_plus
        }
        add_named_threat = {
            threat = -3 name = DEN_ENG_back_down
        }
        add_political_power = -60
        GER = {
            country_event = {
                id = gerfor.11 days = 1
            }
        }
        ITA = {
            country_event = {
                id = gerfor.10 days = 1
            }
        }
    }
    option = { # Fuck Germany 
        name = gerfor.2.b
        ai_chance = {
            factor = 30
        }
        add_opinion_modifier = {
            target = ITA modifier = DEN_position_minus
        }
        add_opinion_modifier = {
            target = GER modifier = DEN_position_minus
        }
        add_political_power = 60
        GER = {
            country_event = {
                id = gerfor.12 days = 1
            }
        }
    }
}

country_event = { # The Ultimatum, Berlin Warns Paris
    id = gerfor.9
    title = gerfor.9.t
    desc = gerfor.9.d

    is_triggered_only = yes

    option = {
        name = gerfor.3.a
        add_political_power = 60
    }
}

country_event = { # Commune of France pull out
    id = gerfor.10
    title = gerfor.10.t
    desc = gerfor.10.d

    is_triggered_only = yes

    option = {
        name = gerfor.6.a
        add_political_power = 200
        add_opinion_modifier = {
            target = GER modifier = DEN_thank
        }
    }
}
country_event = { #commune of france  backs down 
    id = gerfor.11
    title = gerfor.11.t
    desc = gerfor.11.d

    is_triggered_only = yes

    option = {
        name = gerfor.4.a
        add_political_power = 100
    }
}
country_event = { # The French ignore our ultimatum 
    id = gerfor.12
    title = gerfor.12.t
    desc = gerfor.12.d

    is_triggered_only = yes

    option = { # War 
        name = gerfor.5.a
        ai_chance = {
            factor = 95
        }
        declare_war_on = {
            target = FRA type = annex_everything
        }
        add_to_faction = ITA
    }

    option = { # Pull out 
        name = gerfor.5.b
        ai_chance = {
            factor = 5
        }
        add_political_power = -60
        add_opinion_modifier = {
            target = ITA modifier = DEN_position_minus
        }
    }
}

### French Invasion of Spain

country_event = { # The Syndicalists invade Spain 
    id = gerfor.13
    title = gerfor.13.t
    desc = gerfor.13.d

    trigger = {
        tag = GER
        FRA = {
            has_war_with = SPR
        }
        NOT = {
            has_war_with = FRA
            has_war_with = SPR
            is_in_faction_with = SPR
            SPR = {
                OR = {
                    is_in_faction_with = CAN
                    is_in_faction_with = AUS
                }
            }
        }
        controls_state = 64
        SPR = {
            is_subject = no
        }
    }

    mean_time_to_happen = {
        days = 15
    }

    fire_only_once = yes

    option = { # Send ultimatum 
        name = gerfor.1.a
        ai_chance = {
            factor = 80
        }
        add_opinion_modifier = {
            target = SPR modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = FRA modifier = DEN_position_minus
        }
        add_named_threat = {
            threat = 1 name = DEN_ENG_ultimatum
        }
        add_political_power = 60
        FRA = {
            country_event = {
                id = gerfor.14 days = 1
            }
        }
        SPR = {
            country_event = {
                id = gerfor.15 days = 1
            }
        }
    }

    option = { # Let it go 
        name = gerfor.1.b
        ai_chance = {
            factor = 20
        }
        add_opinion_modifier = {
            target = FRA modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = SPR modifier = DEN_position_minus
        }
        add_named_threat = {
            threat = -3 name = DEN_abandon
        }
        add_political_power = -60
    }
}

country_event = { # The Germans Send an Ultimatum
    id = gerfor.14
    title = gerfor.14.t
    desc = gerfor.14.d

    is_triggered_only = yes

    option = { # Back down 
        name = gerfor.2.a
        ai_chance = {
            factor = 70
        }
        white_peace = SPR
        white_peace = AUS
        add_opinion_modifier = {
            target = SPR modifier = DEN_position_plus
        }
        add_opinion_modifier = {
            target = GER modifier = DEN_position_plus
        }
        add_named_threat = {
            threat = -3 name = DEN_ENG_back_down
        }
        add_political_power = -60
        GER = {
            country_event = {
                id = gerfor.11 days = 1
            }
        }
        SPR = {
            country_event = {
                id = gerfor.16 days = 1
            }
        }
    }

    option = { # Fuck Germany 
        name = gerfor.2.b
        ai_chance = {
            factor = 30
        }
        add_opinion_modifier = {
            target = SPR modifier = DEN_position_minus
        }
        add_opinion_modifier = {
            target = GER modifier = DEN_position_minus
        }
        add_political_power = 60
        GER = {
            country_event = {
                id = gerfor.17 days = 1
            }
        }
    }
}

country_event = { # The Ultimatum, Berlin warns Paris
    id = gerfor.15
    title = gerfor.9.t
    desc = gerfor.9.d

    is_triggered_only = yes

    option = {
        name = gerfor.3.a
        add_political_power = 60
    }
}

country_event = { # Commune of France pull out
    id = gerfor.16
    title = gerfor.16.t
    desc = gerfor.16.d

    is_triggered_only = yes

    option = {
        name = gerfor.6.a
        add_political_power = 200
        add_opinion_modifier = {
            target = GER modifier = DEN_thank
        }
    }
}

country_event = { # The French ignore our ultimatum 
    id = gerfor.17
    title = gerfor.17.t
    desc = gerfor.17.d

    is_triggered_only = yes

    option = { # War 
        name = gerfor.5.a
        ai_chance = {
            factor = 95
        }
        declare_war_on = {
            target = FRA type = annex_everything
        }
        add_to_faction = SPR
    }

    option = { # Pull out 
        name = gerfor.5.b
        ai_chance = {
            factor = 5
        }
        add_political_power = -60
        add_opinion_modifier = {
            target = SPR modifier = DEN_position_minus
        }
    }
}

### Flandern-Wallonien

country_event = { # Liberation of Flandern-Wallonien
    id = gerfor.18
    title = gerfor.18.t
    desc = gerfor.18.d

    trigger = {
        tag = GER
        has_war_with = FRA
        NOT = {
            country_exists = BEL
            country_exists = FLN
            country_exists = WLL
        }
        controls_state = 6
        controls_state = 34
    }

    mean_time_to_happen = {
        days = 20
    }

    fire_only_once = yes

    option = { # Restore BEL 
        name = gerfor.18.a
        ai_chance = {
            factor = 55
        }
        BEL = {
            transfer_state = 6
            transfer_state = 34
        }
        puppet = BEL
        add_to_faction = BEL
        send_equipment = {
            target = BEL type = infantry_equipment amount = 6000
        }
        add_political_power = 60
    }

    option = { # Divide Flanders-Wallonia !
        name = gerfor.18.b
        ai_chance = {
            factor = 35
        }
        FLN = {
            transfer_state = 6
        }
        puppet = FLN
        add_to_faction = FLN
        send_equipment = {
            target = FLN type = infantry_equipment amount = 3000
        }
        WLL = {
            transfer_state = 34
        }
        puppet = WLL
        add_to_faction = WLL
        send_equipment = {
            target = WLL type = infantry_equipment amount = 3000
        }
        add_political_power = 60
    }

    option = { # Occupy 
        name = gerfor.18.c
        ai_chance = {
            factor = 10
        }
        add_named_threat = {
            threat = 3 name = occupy_wall
        }
    }
}

country_event = { # Fate of southern Wallonia
    id = gerfor.19
    title = gerfor.19.t
    desc = gerfor.19.d

    trigger = {
        tag = GER
        controls_state = 741
        controls_state = 778
        OR = {
            GER = {
                controls_state = 16
            }
            any_other_country = {
                is_in_faction_with = GER
                controls_state = 16
            }
        }
        OR = {
            is_in_faction_with = BEL
            is_in_faction_with = WLL
        }
    }

    mean_time_to_happen = {
        days = 30
    }

    fire_only_once = yes

    option = { # Return it 
        name = gerfor.19.a
        ai_chance = {
            factor = 50
        }
        add_political_power = -40
        if = {
            limit = {
                is_in_faction_with = BEL
                BEL = {
                    exists = yes
                }
            }
            BEL = {
                transfer_state = 741
            }
        }
        if = {
            limit = {
                is_in_faction_with = WLL
                WLL = {
                    exists = yes
                }
            }
            WLL = {
                transfer_state = 741
            }
        }
        remove_state_claim = 741
        remove_state_claim = 778
        add_opinion_modifier = {
            target = BEL modifier = return_wll
        }
        add_opinion_modifier = {
            target = WLL modifier = return_wll
        }
        if = {
            limit = {
                is_in_faction_with = WLL
            }
            WLL = {
                country_event = {
                    id = gerfor.21 days = 1
                }
            }
        }
        if = {
            limit = {
                is_in_faction_with = BEL
            }
            BEL = {
                country_event = {
                    id = gerfor.20 days = 1
                }
            }
        }
    }

    option = { # Integrate 
        name = gerfor.19.b
        ai_chance = {
            factor = 50
        }
        add_political_power = -140
        add_state_core = 741
        add_opinion_modifier = {
            target = BEL modifier = wll_int
        }
        add_opinion_modifier = {
            target = WLL modifier = wll_int
        }
        add_named_threat = {
            threat = 3 name = wll_int
        }
    }
}

country_event = { # Southern Wallonia
    id = gerfor.20
    title = gerfor.20.t
    desc = gerfor.20.d
    is_triggered_only = yes

    option = {
        name = gerfor.20.a
        add_political_power = 60
        add_state_core = 741
    }
}

country_event = { # Southern Wallonia
    id = gerfor.21
    title = gerfor.20.t
    desc = gerfor.20.d

    is_triggered_only = yes

    option = {
        name = gerfor.20.a
        add_political_power = 60
        add_state_core = 741
    }
}

country_event = { # The partitioning of the Netherlands
    id = gerfor.22
    title = gerfor.22.t
    desc = gerfor.22.d

    trigger = {
        tag = GER
        controls_state = 7
        controls_state = 35
        controls_state = 36
    }

    mean_time_to_happen = {
        days = 30
    }

    fire_only_once = yes

    option = { # Partition Netherlands
        name = gerfor.22.a
        ai_chance = {
            factor = 70
        }
        trigger = {
            OR = {
                is_in_faction_with = BEL
                is_in_faction_with = FLN
            }
            NOT = {
                is_in_faction_with = HOL
            }

            #NEED TO ADD INDONESIAN TRIGGERS 

        }
        add_political_power = -20
        add_state_claim = 36
        if = {
            limit = {
                is_in_faction_with = BEL
                BEL = {
                    exists = yes
                }
            }
            BEL = {
                transfer_state = 7
                transfer_state = 35
                country_event = {
                    id = gerfor.23 days = 1
                }
                add_opinion_modifier = {
                    target = GER modifier = give_holl
                }
            }
        }
        if = {
            limit = {
                is_in_faction_with = FLN
                FLN = {
                    exists = yes
                }
            }
            FLN = {
                transfer_state = 7
                transfer_state = 35
                country_event = {
                    id = gerfor.23 days = 1
                }
                add_opinion_modifier = {
                    target = GER modifier = give_holl
                }
            }
        }
    }

    option = { # Restore Netherlands 
        name = gerfor.22.b
        ai_chance = {
            factor = 60
        }
        trigger = {
            HOL = {
                exists = no
            }
        }
        add_political_power = 20
        release = HOL
        add_to_faction = HOL
        HOL = {
            add_political_power = 100
            load_oob = HOL_LIBER
        }

        # Some Indonesian bullshit
    }

    option = { # Occupy 
        name = gerfor.22.c
        ai_chance = {
            factor = 5
        }
        add_political_power = -60
    }
}

country_event = { # The partitioning of the Netherlands
    id = gerfor.23
    title = gerfor.23.t
    desc = gerfor.23.d

    is_triggered_only = yes

    option = {
        name = gerfor.23.a
        add_political_power = 60
        add_state_core = 7
    }
}

###  War events 	

country_event = { # Enemy at the gates
    id = gerfor.24
    title = gerfor.24.t
    desc = gerfor.24.d

    trigger = {
        63 = {
            OR = {
                is_owned_by = RUS
                is_owned_by = SOV
            }
        }
        86 = {
            OR = {
                is_owned_by = RUS
                is_owned_by = SOV
            }
        }
        68 = {
            OR = {
                is_owned_by = RUS
                is_owned_by = SOV
            }
        }
        controls_state = 64
        OR = {
            has_war_with = SOV
            has_war_with = RUS
        }
    }

    fire_only_once = yes

    option = {
        name = gerfor.24.a
        add_political_power = -40
        add_manpower = 120000
        load_oob = GER_RUS_WAR
        if = {
            limit = {
                controls_state = 64
            }
            64 = {
                add_building_construction = {
                    type = bunker
                    province = 3207
                    level = 3
                    instant_build = yes
                }
                add_building_construction = {
                    type = bunker
                    province = 6521
                    level = 5
                    instant_build = yes
                }
                add_building_construction = {
                    type = bunker
                    province = 9496
                    level = 3
                    instant_build = yes
                }
                add_building_construction = {
                    type = bunker
                    province = 9472
                    level = 3
                    instant_build = yes
                }
                add_building_construction = {
                    type = bunker
                    province = 11415
                    level = 3
                    instant_build = yes
                }
            }
        }
    }
}

country_event = { # Die Wacht am Rhein
    id = gerfor.25
    title = gerfor.25.t
    desc = gerfor.25.d
    trigger = {
        tag = GER
        has_war_with = FRA
        FRA = {
            controls_state = 781
            controls_state = 42
        }
    }

    fire_only_once = yes

    option = {
        name = gerfor.25.a
        add_political_power = -40
        add_manpower = 120000
        load_oob = GER_FRA_WAR
        if = {
            limit = {
                controls_state = 51
            }
            51 = {
                add_building_construction = {
                    type = bunker
                    province = 3512
                    level = 3
                    instant_build = yes
                }
                add_building_construction = {
                    type = bunker
                    province = 6469
                    level = 5
                    instant_build = yes
                }
                add_building_construction = {
                    type = bunker
                    province = 6570
                    level = 3
                    instant_build = yes
                }
                add_building_construction = {
                    type = bunker
                    province = 529
                    level = 3
                    instant_build = yes
                }
            }
        }
    }
}

country_event = { # The Fate of Spanish Morocco
    id = gerfor.26
    title = gerfor.26.t
    desc = gerfor.26.d

    trigger = {
        tag = GER
        NOT = {
            country_exists = CAR
            country_exists = SPR
            OR = {
                has_war_with = CNT
                is_in_faction_with = CNT
            }
        }
        country_exists = CNT
    }

    mean_time_to_happen = {
        days = 5
    }

    fire_only_once = yes

    option = { # Occupy
        name = gerfor.26.a
        ai_chance = {
            factor = 95
        }
        add_equipment_to_stockpile = {
            type = infantry_equipment_1 amount = -10
        }
        add_equipment_to_stockpile = {
            type = support_equipment_1 amount = -20
        }
        add_manpower = -100
        CNT = {
            country_event = {
                id = gerfor.27 days = 1
            }
            add_opinion_modifier = {
                target = GER modifier = occupy_mor
            }
        }
    }

    option = { # Ignore 
        name = gerfor.26.b
        ai_chance = {
            factor = 5
        }
        add_political_power = -20
    }
}

country_event = { # German Empire occupies Spanish Morocco
    id = gerfor.27
    title = gerfor.27.t
    desc = gerfor.27.d

    is_triggered_only = yes

    option = { # Nothing we can do 
        name = gerfor.27.a
        ai_chance = {
            factor = 100
        }
        add_political_power = -40
        GER = {
            transfer_state = 699
            transfer_state = 290
        }
    }

    option = { # War
        name = gerfor.27.b
        ai_chance = {
            factor = 0
        }
        add_political_power = -200
        GER = {
            transfer_state = 699
            transfer_state = 290
        }
        create_wargoal = {
            type = annex_everything target = GER
        }
    }
}

### Madagascar

country_event = { # Logging in Madagascar
    id = gerfor.28
    title = gerfor.28.t
    desc = gerfor.28.d

    trigger = {
        tag = GER
        controls_state = 543
        NOT = {
            has_war_with = FRA
            has_war_with = RUS
            has_war_with = SOV
            country_exists = MAG
        }
        date > 1942.1.1
    }

    mean_time_to_happen = {
        days = 50
    }

    fire_only_once = yes

    option = { # Yes
        name = gerfor.28.a
        ai_chance = {
            factor = 80
        }
        add_political_power = -40
        add_equipment_to_stockpile = {
            type = support_equipment_1 amount = -300
        }
        set_country_flag = madagascar_logging
    }

    option = { # No 
        name = gerfor.28.b
        ai_chance = {
            factor = 20
        }
        add_political_power = -20
    }
}

country_event = { # Logging in Madagascar has been expanded!
    id = gerfor.29
    title = gerfor.29.t
    desc = gerfor.29.d

    trigger = {
        tag = GER
        has_country_flag = madagascar_logging
        controls_state = 543
    }

    mean_time_to_happen = {
        days = 105
    }

    fire_only_once = yes

    option = { # Yes 
        name = gerfor.29.a
        ai_chance = {
            factor = 80
        }
        add_equipment_to_stockpile = {
            type = support_equipment_1 amount = -500
        }
        543 = {
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 1
                instant_build = yes
            }
        }
        set_country_flag = madagascar_factory
    }

    option = { # No 
        name = gerfor.29.b
        ai_chance = {
            factor = 20
        }
        add_political_power = -20
        543 = {
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 1
                instant_build = yes
            }
        }
        set_country_flag = madagascar_unemployment
    }
}

country_event = { # The processing complex has opened
    id = gerfor.30
    title = gerfor.30.t
    desc = gerfor.30.d

    trigger = {
        tag = GER
        has_country_flag = madagascar_factory
        controls_state = 543
    }

    mean_time_to_happen = {
        days = 105
    }

    fire_only_once = yes

    option = {
        name = gerfor.30.a
        add_political_power = 20
        543 = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = {
                type = industrial_complex
                level = 3
                instant_build = yes
            }
        }
        543 = {
            add_building_construction = {
                type = infrastructure
                level = 1
                instant_build = yes
            }
        }
    }
}

country_event = { # Colonial revolt in Madagascar 
    id = gerfor.31
    title = gerfor.31.t
    desc = gerfor.31.d

    trigger = {
        tag = GER
        has_country_flag = madagascar_unemployment
        controls_state = 543
    }

    mean_time_to_happen = {
        days = 50
    }

    fire_only_once = yes

    option = {
        name = gerfor.31.a
        add_political_power = -40
        MAG = {
            transfer_state = 543
            create_wargoal = {
                type = annex_everything target = GER
            }
            set_politics = {
                ruling_party = social_democrat elections_allowed = no
            }
        }
    }
}

### The Second Peace with Honour

country_event = { # Peace with Honour
    id = gerfor.32
    title = gerfor.32.t
    desc = gerfor.32.d
    trigger = {
        tag = GER
        has_war_with = ENG
        FRA = {
            exists = no
        }
        ENG = {
            controls_state = 126
        }
        any_country = {
            AND = {
                is_in_faction_with = GER
                controls_state = 16
            }
        }
    }

    mean_time_to_happen = {
        days = 450
    }

    fire_only_once = yes

    option = { # Offer Peace with Honour
        name = gerfor.32.a
        ai_chance = {
            factor = 80
        }
        ENG = {
            country_event = {
                id = gerfor.33 days = 1
            }
        }
    }

    option = { # No peace 
        name = gerfor.32.b
        ai_chance = {
            factor = 20
        }
        add_political_power = -20
    }
}

country_event = { # Peace with Honour ENG
    id = gerfor.33
    title = gerfor.33.t
    desc = gerfor.33.d

    is_triggered_only = yes

    option = { # Accept German proposal
        name = gerfor.33.a
        ai_chance = {
            factor = 40
        }
        add_political_power = -200
        white_peace = GER
        set_country_flag = PWH2
        GER = {
            country_event = {
                id = gerfor.34 days = 1
            }
        }
    }

    option = { # No CSA 
        trigger = {
            NOT = {
                is_in_faction_with = CSA
            }
        }
        name = gerfor.33.b
        ai_chance = {
            factor = 20
        }
        add_political_power = -80
        GER = {
            country_event = {
                id = gerfor.35 days = 1
            }
        }
    }

    option = { # With CSA 
        trigger = {
            is_in_faction_with = CSA
        }
        name = gerfor.33.b
        ai_chance = {
            factor = 60
        }
        add_political_power = -20
        GER = {
            country_event = {
                id = gerfor.35 days = 1
            }
        }
    }
}

country_event = { # Britain agrees
    id = gerfor.34
    title = gerfor.34.t
    desc = gerfor.34.d

    is_triggered_only = yes

    option = {
        name = gerfor.34.a
        add_political_power = 40
    }
}

country_event = { # Britain refuses 
    id = gerfor.35
    title = gerfor.35.t
    desc = gerfor.35.d

    is_triggered_only = yes

    option = {
        name = gerfor.35.a
        add_political_power = -20
    }
}

country_event = { # Ethnic conflicts in Sri Lanka
    id = gerfor.36
    title = gerfor.36.t
    desc = gerfor.36.d

    trigger = {
        date > 1936.7.1
        controls_state = 422
    }

    fire_only_once = yes

    option = {
        name = gerfor.36.a
        add_political_power = -40
    }
}

### British invasion in Norway

country_event = { # The Union of Britain invades Norway 
    id = gerfor.37
    title = gerfor.37.t
    desc = gerfor.37.d

    trigger = {
        tag = GER
        ENG = {
            has_war_with = NOR
        }
        NOT = {
            has_war_with = FRA
            has_war_with = ENG
            has_war_with = NOR
            NOR = {
                OR = {
                    is_in_faction_with = CAN
                    is_in_faction_with = RUS
                    is_in_faction_with = FRA
                }
            }
        }
        controls_state = 64
    }

    mean_time_to_happen = {
        days = 15
    }

    fire_only_once = yes

    option = { # Ultimatum 
        name = gerfor.1.a
        ai_chance = {
            factor = 80
        }
        reverse_add_opinion_modifier = {
            target = NOR modifier = DEN_position_plus
        }
        add_named_threat = {
            threat = 1 name = DEN_ENG_ultimatum
        }
        add_political_power = 60
        ENG = {
            country_event = {
                id = gerfor.38 days = 1
            }
            add_opinion_modifier = {
                target = GER modifier = DEN_position_minus
            }
        }
        DEN = {
            country_event = {
                id = gerfor.39 days = 1
            }
        }
    }

    option = { # Let it go 
        name = gerfor.1.b
        ai_chance = {
            factor = 20
        }
        reverse_add_opinion_modifier = {
            target = ENG modifier = DEN_position_plus
        }
        reverse_add_opinion_modifier = {
            target = NOR modifier = DEN_position_minus
        }
        add_named_threat = {
            threat = -3 name = DEN_abandon
        }
        add_political_power = -60
    }
}

country_event = { # The Germans Send an Ultimatum
    id = gerfor.38
    title = gerfor.38.t
    desc = gerfor.38.d

    is_triggered_only = yes

    option = { # Back down 
        name = gerfor.2.a
        ai_chance = {
            factor = 95
        }
        white_peace = NOR
        add_named_threat = {
            threat = -3 name = DEN_ENG_back_down
        }
        add_political_power = -60
        GER = {
            country_event = {
                id = gerfor.40 days = 1
            }
            add_opinion_modifier = {
                target = ENG modifier = DEN_position_plus
            }
        }
        NOR = {
            country_event = {
                id = gerfor.42 days = 1
            }
            add_opinion_modifier = {
                target = NOR modifier = DEN_position_plus
            }
        }
    }

    option = { # Fuck Germany 
        name = gerfor.2.b
        ai_chance = {
            factor = 5
        }
        reverse_add_opinion_modifier = {
            target = NOR modifier = DEN_position_minus
        }
        reverse_add_opinion_modifier = {
            target = GER modifier = DEN_position_minus
        }
        add_political_power = 60
        GER = {
            country_event = {
                id = gerfor.41 days = 1
            }
        }
    }
}

country_event = { # The Ultimatum, Berlin Warns London
    id = gerfor.39
    title = gerfor.39.t
    desc = gerfor.39.d

    is_triggered_only = yes

    option = {
        name = gerfor.3.a
        add_political_power = 60
    }
}

country_event = { # Union of Britain backs down 
    id = gerfor.40
    title = gerfor.40.t
    desc = gerfor.40.d

    is_triggered_only = yes

    option = {
        name = gerfor.4.a
        add_political_power = 100
    }
}

country_event = { # The Brits ignore our ultimatum 
    id = gerfor.41
    title = gerfor.41.t
    desc = gerfor.41.d

    is_triggered_only = yes

    option = { # War 
        name = gerfor.5.a
        ai_chance = {
            factor = 95
        }
        create_wargoal = {
            type = annex_everything target = ENG
        }
        add_to_faction = NOR
    }

    option = { # Pull out 
        name = gerfor.5.b
        ai_chance = {
            factor = 5
        }
        add_political_power = -60
        reverse_add_opinion_modifier = {
            target = NOR modifier = DEN_position_minus
        }
    }
}

country_event = { # The Brits pull out 
    id = gerfor.42
    title = gerfor.42.t
    desc = gerfor.42.d

    is_triggered_only = yes

    option = {
        name = gerfor.6.a
        add_political_power = 200
        reverse_add_opinion_modifier = {
            target = GER modifier = DEN_thank
        }
    }
}
### Treaty with Ireland

country_event = { # Treaty with Ireland 
    id = gerfor.43
    title = gerfor.43.t
    desc = gerfor.43.d

    is_triggered_only = yes

    option = { # military aid
        name = gerfor.43.a
        IRE = {
            country_event = {
                id = gerfor.44 days = 1
            }
        }
    }
}

country_event = { # Offer from Germany 
    id = gerfor.44
    title = gerfor.44.t
    desc = gerfor.44.d

    is_triggered_only = yes

    option = { # yes
        name = gerfor.44.a
        ai_chance = {
            factor = 50
        }
        add_political_power = -20
        GER = {
            country_event = {
                id = gerfor.45 days = 1
            }
        }
    }

    option = { # no 
        name = gerfor.44.b
        ai_chance = {
            factor = 50
        }
        add_political_power = 20
        GER = {
            country_event = {
                id = gerfor.46 days = 1
            }
        }
    }
}

country_event = { # The Irish accept!
    id = gerfor.45
    title = gerfor.45.t
    desc = gerfor.45.d

    is_triggered_only = yes

    option = {
        name = gerfor.45.a
        add_equipment_to_stockpile = {
            type = support_equipment_1 amount = -3000
        }
        set_country_flag = GER_IRE_buildup
        add_to_faction = IRE
    }
}

country_event = { # The Irish refuses
    id = gerfor.46
    title = gerfor.46.t
    desc = gerfor.46.d

    is_triggered_only = yes

    option = {
        name = gerfor.46.a
        add_political_power = -20
    }
}

country_event = { # Delivery to ireland is ready 
    id = gerfor.47
    title = gerfor.47.t
    desc = gerfor.47.d

    trigger = {
        tag = GER
        has_country_flag = GER_IRE_buildup
    }

    mean_time_to_happen = {
        days = 150
    }

    fire_only_once = yes

    option = {
        name = gerfor.47.a
        IRE = {
            country_event = {
                id = gerfor.48 days = 1
            }
        }
    }
}

country_event = { # Delivery arrives 
    id = gerfor.48
    title = gerfor.48.t
    desc = gerfor.48.d

    is_triggered_only = yes

    option = {
        name = gerfor.48.a
        random_owned_state = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = {
                type = industrial_complex
                level = 3
                instant_build = yes
            }
        }
        add_equipment_to_stockpile = {
            type = infantry_equipment_2 amount = 6000 producer = GER
        }
        add_equipment_to_stockpile = {
            type = artillery_equipment_2 amount = 400 producer = GER
        }
        add_equipment_to_stockpile = {
            type = light_tank_equipment_2 amount = 250 producer = GER
        }
        add_equipment_to_stockpile = {
            type = fighter_equipment_2 amount = 100 producer = GER
        }
        add_equipment_to_stockpile = {
            type = tac_bomber_equipment_2 amount = 50 producer = GER
        }
    }
}

country_event = { # Delivery not possible 
    id = gerfor.49
    title = gerfor.49.t
    desc = gerfor.49.d

    trigger = {
        tag = GER
        has_country_flag = GER_IRE_buildup
        OR = {
            IRE = {
                exists = no
            }
            IRE = {
                is_in_faction_with = ENG
            }
            IRE = {
                is_in_faction_with = FRA
            }
            IRE = {
                is_in_faction_with = CSA
            }
            IRE = {
                is_in_faction_with = CAN
            }
            IRE = {
                has_war_with = GER
            }
        }
    }

    mean_time_to_happen = {
        days = 10
    }

    fire_only_once = yes

    option = {
        name = gerfor.49.a
        clr_country_flag = GER_IRE_buildup
        random_owned_state = {
            add_extra_state_shared_building_slots = 3
            add_building_construction = {
                type = industrial_complex
                level = 3
                instant_build = yes
            }
        }
        add_equipment_to_stockpile = {
            type = infantry_equipment_2 amount = 6000 producer = GER
        }
        add_equipment_to_stockpile = {
            type = artillery_equipment_2 amount = 400 producer = GER
        }
        add_equipment_to_stockpile = {
            type = light_tank_equipment_2 amount = 250 producer = GER
        }
        add_equipment_to_stockpile = {
            type = fighter_equipment_2 amount = 100 producer = GER
        }
        add_equipment_to_stockpile = {
            type = tac_bomber_equipment_2 amount = 50 producer = GER
        }
    }
}


##### Germany losing war asking for help #####


### Appeal to old friends
country_event = {
    id = gerfor.50
    title = gerfor.50.t
    desc = gerfor.50.d

    fire_only_once = yes

    trigger = {
        tag = GER
        OR = {
            has_war_with = FRA
            has_war_with = SOV
            has_war_with = ENG
            has_war_with = CSA
        }
        is_subject = no
        NOT = {
            AUS = {
                is_subject_of = GER
            }
            is_in_faction_with = AUS
            has_war_with = AUS
            has_global_flag = GER_Capitulation
        }
        OR = {
            country_exists = AUS
            country_exists = BUL
        }
        surrender_progress > 0.4

    }

    mean_time_to_happen = {
        days = 1
    }

    option = {
        name = gerfor.50.a #Ask for help
        ai_chance = {
            factor = 45
        }
        AUS = {
            country_event = {
                id = gerfor.51 days = 1
            }
        }
        BUL = {
            country_event = {
                id = gerfor.52 days = 1
            }
        }
        OTT = {
            country_event = {
                id = gerfor.53 days = 1
            }
        }
    }

    option = {
        name = gerfor.50.b #Just ask Austria
        ai_chance = {
            factor = 45
        }
        AUS = {
            country_event = {
                id = gerfor.51 days = 1
            }
        }

    }
    option = {
        name = gerfor.50.c #We don't need any help
        ai_chance = {
            factor = 10
        }
        add_political_power = -100

    }
}

### Germany needs Austrian help
country_event = {
    id = gerfor.51
    title = gerfor.51.t
    desc = gerfor.51.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.51.a #Yes
        ai_chance = {
            factor = 70
            modifier = {
                factor = 0.28
                OR = {
                    has_war_with = HUN
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = ITA
                    has_war_with = RUS
                }
            }
        }
        add_to_war = {
            targeted_alliance = GER enemy = FRA
        }
        add_political_power = 40
        GER = {
            country_event = {
                id = gerfor.54 days = 1
            }
        }
    }

    option = {
        name = gerfor.51.b #No
        ai_chance = {
            factor = 5
            modifier = {
                factor = 4
                OR = {
                    has_war_with = HUN
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = ITA
                    has_war_with = RUS
                }
            }
        }
        add_political_power = -20
        GER = {
            country_event = {
                id = gerfor.57 days = 1
            }
        }
    }

    option = {
        name = gerfor.51.c #Send aid
        ai_chance = {
            factor = 25
            modifier = {
                factor = 2.4
                OR = {
                    has_war_with = HUN
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = ITA
                    has_war_with = RUS
                }
            }
        }
        add_manpower = -10000
        send_equipment = {
            target = GER
            type = infantry_equipment
            amount = 10000
        }
        GER = {
            country_event = {
                id = gerfor.60 days = 1
            }
        }
    }

}

### Germany needs Ottoman help
country_event = {
    id = gerfor.52
    title = gerfor.52.t
    desc = gerfor.52.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.52.a #Yes
        ai_chance = {
            factor = 50
            modifier = {
                factor = 0.2
                OR = {
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = RUS
                }
            }
        }
        add_to_war = {
            targeted_alliance = GER enemy = FRA
        }
        add_political_power = 40
        GER = {
            country_event = {
                id = gerfor.55 days = 1
            }
        }
    }

    option = {
        name = gerfor.52.b #No
        ai_chance = {
            factor = 20
            modifier = {
                factor = 1.5
                OR = {
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = RUS
                }
            }
        }
        add_political_power = -20
        GER = {
            country_event = {
                id = gerfor.58 days = 1
            }
        }
    }

    option = {
        name = gerfor.52.c #Send aid
        ai_chance = {
            factor = 30
            modifier = {
                factor = 2
                OR = {
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = RUS
                }
            }
        }
        add_manpower = -10000
        send_equipment = {
            target = GER
            type = infantry_equipment
            amount = 10000
        }
        GER = {
            country_event = {
                id = gerfor.61 days = 1
            }
        }
    }
}

### Germany needs Bulgarian help
country_event = {
    id = gerfor.53
    title = gerfor.53.t
    desc = gerfor.53.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.53.a #Yes
        ai_chance = {
            factor = 40
            modifier = {
                factor = 0.125
                OR = {
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = RUS
                }
            }
        }
        add_to_war = {
            targeted_alliance = GER enemy = FRA
        }
        add_political_power = 40
        GER = {
            country_event = {
                id = gerfor.56 days = 1
            }
        }
    }

    option = {
        name = gerfor.53.b #No
        ai_chance = {
            factor = 20
            modifier = {
                factor = 1.75
                OR = {
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = RUS
                }
            }
        }
        add_political_power = -20
        GER = {
            country_event = {
                id = gerfor.59 days = 1
            }
        }

    }

    option = {
        name = gerfor.53.c #Send aid
        ai_chance = {
            factor = 40
            modifier = {
                factor = 1.5
                OR = {
                    has_war_with = ROM
                    has_war_with = SER
                    has_war_with = GRE
                    has_war_with = RUS
                }
            }
        }
        add_manpower = -10000
        send_equipment = {
            target = GER
            type = infantry_equipment
            amount = 10000
        }
        GER = {
            country_event = {
                id = gerfor.62 days = 1
            }
        }
    }
}

### Austria will help
country_event = {
    id = gerfor.54
    title = gerfor.54.t
    desc = gerfor.54.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.54.a
        add_political_power = 60
    }
}

### Ottomans will help
country_event = {
    id = gerfor.55
    title = gerfor.55.t
    desc = gerfor.55.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.55.a
        add_political_power = 40
    }
}

### Bulgaria will help
country_event = {
    id = gerfor.56
    title = gerfor.56.t
    desc = gerfor.56.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.56.a
        add_political_power = 40
    }
}

### Austria won't help
country_event = {
    id = gerfor.57
    title = gerfor.57.t
    desc = gerfor.57.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.57.a
        add_political_power = -60
    }
}

### Ottomans won't help
country_event = {
    id = gerfor.58
    title = gerfor.58.t
    desc = gerfor.58.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.58.a
        add_political_power = -40
    }
}

### Bulgaria won't help
country_event = {
    id = gerfor.59
    title = gerfor.59.t
    desc = gerfor.59.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.59.a
        add_political_power = -40
    }
}

### Austria sends aid
country_event = {
    id = gerfor.60
    title = gerfor.60.t
    desc = gerfor.60.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.60.a
        add_manpower = 10000
        custom_effect_tooltip = received_equipment_10000
    }
}

### Ottomans sends aid
country_event = {
    id = gerfor.61
    title = gerfor.61.t
    desc = gerfor.61.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.61.a
        add_manpower = 10000
        custom_effect_tooltip = received_equipment_10000
    }
}

### Bulgaria sends aid
country_event = {
    id = gerfor.62
    title = gerfor.62.t
    desc = gerfor.62.d

    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = gerfor.62.a
        add_manpower = 10000
        custom_effect_tooltip = received_equipment_10000
    }
}
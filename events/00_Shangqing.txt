###############################
# Shanqing Events
###############################

add_namespace = shanqing

############################################################
############### Shanqing events by esmaerla ################
############################################################

country_event = { # A like minded revolution
	id = shanqing.1
	title = shanqing.1.t
	desc = shanqing.1.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		has_war = no
		is_puppet = no
		CHI = { is_puppet = no }
		NOT = { is_in_faction_with = CHI }
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.1.a

		ai_chance = { factor = 80 }

		hidden_effect = { CHI = { country_event = { id = repchi.4 days = 0 }}}
	}

	option = {
		name = shanqing.1.b

		ai_chance = { factor = 20 }

		add_political_power = 20
	}
}

####################
### Empire of Manchuria
####################

country_event = { # A like minded revolution
	id = shanqing.2
	title = shanqing.2.t
	desc = shanqing.2.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = GER
		country_exists = FNG
		country_exists = JAP
		FNG = { is_puppet_of = JAP }
		SQI = { is_puppet = no }
		JAP = { is_puppet = no }
		NOT = {
			has_war_with = JAP
			country_exists = QIE
			is_in_faction_with = CHI
			JAP = { is_in_faction_with = CHI }
		}
		controls_state = 609
		controls_state = 744
		controls_state =  64
		SQI = {
			controls_state = 608
			controls_state = 613
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.2.a

		ai_chance = { factor = 95 }

		add_opinion_modifier = { target = JAP modifier = GER_MANCHU_EMP } # 50
		hidden_effect = { JAP = { country_event = { id = shanqing.3 days = 0 }}}
	}

	option = {
		name = shanqing.2.b

		ai_chance = { factor = 5 }

		add_political_power = -40
	}
}

country_event = { # Offer from the German Empire
	id = shanqing.3
	title = shanqing.3.t
	desc = shanqing.3.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.3.a

		ai_chance = { factor = 95 }

		add_opinion_modifier = { target = JAP modifier = JAP_PuYi_YES } # 50
		hidden_effect = { FNG = { country_event = { id = shanqing.4 days = 0 }}}
	}

	option = {
		name = shanqing.3.b

		ai_chance = { factor = 5 }

		add_opinion_modifier = { target = JAP modifier = JAP_PuYi_NO } # -10
	}
}

country_event = { # Death of Zhang Zuolin
	id = shanqing.4
	title = shanqing.4.t
	desc = shanqing.4.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.4.a

		add_political_power = -200

		add_popularity = {
            ideology = paternal_autocratist
            popularity = 0.2
        }

        set_politics = { ruling_party = paternal_autocratist elections_allowed = no }

        hidden_effect = { kill_country_leader = yes }

		create_country_leader = {
			name = "D.H.D.B.X. Asin-Gioro Puyi"
			desc = "ANTE_PUYI_DESC"
			picture = "Portrait_China_Puyi.tga"
			expire = "1965.1.1"
			ideology = paternal_autocratist_subtype
			traits = {}
		}

		add_ideas = FNG_Nitobe_Inazo_hog_npo

		set_country_flag = zhang_zuolin_killed
		set_global_flag = Man_puyi

		hidden_effect = { FNG = { country_event = { id = shanqing.5 days = 0 }}}
	}
}

country_event = { # Great Empire of Manchuria
	id = shanqing.5
	title = shanqing.5.t
	desc = shanqing.5.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.5.a

		MAN = { annex_country = { target = FNG transfer_troops = yes } change_tag_from = FNG }

		add_manpower = 30000

		hidden_effect = { MAN = { country_event = { id = shanqing.150 days = 0 }}}

		load_oob = MAN

		every_state = { 
			limit = { is_core_of = FNG } 

			add_core_of = MAN
			remove_core_of = FNG
		}
	}
}

country_event = { # Rebirth of the Qing
	id = shanqing.6
	title = shanqing.6.t
	desc = shanqing.6.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		is_puppet = no
		NOT = { country_exists = QIE }
		controls_state = 608
		controls_state = 613
		has_global_flag = Man_puyi
		country_exists = MAN
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.6.a

		ai_chance = { factor = 5 }

		declare_war_on = { target = JAP type = annex_everything	}
		declare_war_on = { target = MAN type = annex_everything	}
	}

	option = {
		name = shanqing.6.b

		ai_chance = { factor = 95 }

		add_political_power = -20
	}
}

country_event = { # Revolution in the South
	id = shanqing.7
	title = shanqing.7.t
	desc = shanqing.7.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		is_puppet = no
		NOT = { country_exists = QIE country_exists = CHI AOG = { is_in_faction_with = CHI }}
		controls_state = 606
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.7.a

		ai_chance = { factor = 75 }

		add_manpower = -20000
		add_opinion_modifier = { target = AOG modifier = SQI_Funds_rev_south } # -150
		set_global_flag = SQI_revolt
	}

	option = {
		name = shanqing.7.b

		ai_chance = { factor = 25 }

		add_political_power = 20
	}
}

country_event = { # Revolution in the South
	id = shanqing.8
	title = shanqing.8.t
	desc = shanqing.8.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		NOT = { country_exists = QIE country_exists = CHI }
		has_global_flag = SQI_revolt
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.8.a

		hidden_effect = { AOG = { country_event = { id = repchi.1 days = 1 }}}

		set_global_flag = SQI_funded_revolution
	}
}

country_event = { # Revolution in the South
	id = shanqing.9
	title = shanqing.9.t
	desc = shanqing.9.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		has_war = no
		is_puppet = no
		country_exists = YUN
		AOG = { has_war_with = YUN }
		NOT = { has_global_flag = shangqing_25_a }
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.9.a

		ai_chance = { factor = 70 }

		declare_war_on = { target = YUN type = annex_everything	}
		add_political_power = 20
		set_global_flag = SQI_revolt
	}

	option = {
		name = shanqing.9.b

		ai_chance = { factor = 30 }

		add_political_power = -60
	}
}

country_event = { # China is Chinese and now it needs one Government!
	id = shanqing.10
	title = shanqing.10.t
	desc = shanqing.10.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		is_in_faction_with = CHI
		has_war = no
		is_puppet = no
		NOT = {
			country_exists = YUN
			country_exists = AOG
		}
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.10.a

		ai_chance = { factor = 100 }

		hidden_effect = { CHI = { country_event = { id = shanqing.11 days = 2 }}}
	}

	option = {
		name = shanqing.10.b

		ai_chance = { factor = 0 }

		add_political_power = -60
	}
}

country_event = { # The Shangqing are pressing for a united China
	id = shanqing.11
	title = shanqing.11.t
	desc = shanqing.11.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.11.a

		ai_chance = { factor = 70 }

		hidden_effect = { SQI = { country_event = { id = shanqing.12 days = 0 }}}
		add_political_power = 20
	}

	option = {
		name = shanqing.11.b

		ai_chance = { factor = 10 }

		hidden_effect = { SQI = { country_event = { id = shanqing.13 days = 0 }}}
	}

	option = {
		name = shanqing.11.c

		ai_chance = { factor = 20 }

		hidden_effect = { SQI = { country_event = { id = shanqing.14 days = 0 }}}
	}

	option = {
		name = shanqing.11.e

		ai_chance = { factor = 40 }

		hidden_effect = { SQI = { country_event = { id = shanqing.15 days = 0 }}}
	}
}

country_event = { # The Republicans have refused to accept the Mandate of Heaven!
	id = shanqing.12
	title = shanqing.12.t
	desc = shanqing.12.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.12.a

		ai_chance = { factor = 70 }

		if = {
			limit = { is_faction_leader = yes }

			SQI = { dismantle_faction = yes }
		}

		if = {
			limit = { is_in_faction_with = CHI }

			SQI = { remove_from_faction = SQI }
		}

		declare_war_on = { target = CHI type = annex_everything	}

		every_state = { 
			limit = { is_core_of = CHI is_core_of = YUN } 

			add_core_of = SQI
		}		
	}

	option = {
		name = shanqing.12.b

		ai_chance = { factor = 30 }

		add_political_power = -60
	}
}

country_event = { # Unity for China!
	id = shanqing.13
	title = shanqing.13.t
	desc = shanqing.13.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.13.a

		annex_country = { target = CHI transfer_troops = no }

		every_state = { 
			limit = { is_core_of = CHI is_core_of = YUN } 

			add_core_of = SQI
		}		
	}
}

country_event = { # Automony?
	id = shanqing.14
	title = shanqing.14.t
	desc = shanqing.14.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.14.a

		ai_chance = { factor = 70 }

		puppet = CHI	
	}

	option = {
		name = shanqing.14.b

		ai_chance = { factor = 30 }

		if = {
			limit = { is_faction_leader = yes }

			SQI = { dismantle_faction = yes }
		}

		if = {
			limit = { is_in_faction_with = CHI }

			SQI = { remove_from_faction = SQI }
		}

		declare_war_on = { target = CHI type = annex_everything	}

		every_state = { 
			limit = { is_core_of = CHI is_core_of = YUN } 

			add_core_of = SQI
		}	
	}
}

country_event = { # One Government, One Religion
	id = shanqing.15
	title = shanqing.15.t
	desc = shanqing.15.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.15.a

		ai_chance = { factor = 70 }

		CHI = { change_tag_from = SQI }

		hidden_effect = { CHI = { country_event = { id = shanqing.16 days = 1 }}}
	}

	option = {
		name = shanqing.15.b

		ai_chance = { factor = 30 }

		if = {
			limit = { is_faction_leader = yes }

			SQI = { dismantle_faction = yes }
		}

		if = {
			limit = { is_in_faction_with = CHI }

			SQI = { remove_from_faction = SQI }
		}

		declare_war_on = { target = CHI type = annex_everything	}

		every_state = { 
			limit = { is_core_of = CHI is_core_of = YUN } 

			add_core_of = SQI
		}	
	}
}

country_event = { # One Government, One Religion
	id = shanqing.16
	title = shanqing.16.t
	desc = shanqing.16.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.16.a

		annex_country = { target = SQI transfer_troops = no }

		every_state = { 
			limit = { is_core_of = SQI } 

			add_core_of = CHI
		}
	}
}

country_event = { # A New Home for The Path of Consistence
	id = shanqing.17
	title = shanqing.17.t
	desc = shanqing.17.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		controls_state = 608
		controls_state = 613
		controls_state = 622
		owns_state = 608
		owns_state = 613
		owns_state = 622
		NOT = {
			country_exists = QIE
		}
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.17.a

		ai_chance = { factor = 60 }

		set_capital = 608
	}

	option = {
		name = shanqing.17.b

		ai_chance = { factor = 30 }

		set_capital = 613
	}

	option = {
		name = shanqing.17.c

		ai_chance = { factor = 10 }

		set_capital = 622
	}
}

country_event = { # The AoG has been defeated
	id = shanqing.18
	title = shanqing.18.t
	desc = shanqing.18.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		controls_state = 592
		NOT = {
			country_exists = AOG
		}
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.18.a

		every_state = { 
			limit = { is_core_of = AOG } 

			add_core_of = SQI
			remove_core_of = AOG
		}

		load_oob = SQI_AOG_Conq

		add_political_power = 60	
	}
}

country_event = { # Yunnan has been defeated!
	id = shanqing.19
	title = shanqing.19.t
	desc = shanqing.19.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		controls_state = 325
		NOT = {
			country_exists = YUN
		}
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.19.a

		every_state = { 
			limit = { is_core_of = YUN } 

			add_core_of = SQI
		}

		load_oob = SQI_YUN_Conq

		add_political_power = 60	
	}
}

country_event = { # Fengtien has been defeated	id = shanqing.20
	title = shanqing.20.t
	desc = shanqing.20.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		controls_state = 328
		NOT = {
			country_exists = FNG
			country_exists = MAN
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.20.a

		every_state = { 
			limit = { is_core_of = FNG is_core_of = MAN state = 612 state = 610 } 

			add_core_of = SQI
		}

		add_political_power = 60	
	}
}

country_event = { # Zhang Tianran has died!
	id = shanqing.21
	title = shanqing.21.t
	desc = shanqing.21.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI }
		has_country_flag = zhang_tinaran
		date > 1947.9.19
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.21.a

		ai_chance = { factor = 60 }

		kill_country_leader = yes

		create_country_leader = {
			name = "Sun Suzhen"
			desc = "POLITICS_SUN_SUZHEN_DESC"
			picture = "Portrait_SQI_Sun_Suzhen.tga"
			expire = "1965.1.1"
			ideology = national_populist_subtype
			traits = {}
		}

		remove_ideas_with_trait = head_of_government

		add_ideas = SQI_Sun_Suzhen_hog_npo

		add_political_power = -40

		clr_country_flag = zhang_tinaran
	}

	option = {
		name = shanqing.21.b

		ai_chance = { factor = 40 }

		kill_country_leader = yes

		create_country_leader = {
			name = "Zhang Guotao"
			desc = "POLITICS_ZHANG_GUOTAO_DESC"
			picture = "Portrait_SQI_Zhang_Guotao.tga"
			expire = "1965.1.1"
			ideology = national_populist_subtype
			traits = {}
		}

		remove_ideas_with_trait = head_of_government

		add_ideas = SQI_Zhang_Guotao_hog_npo

		add_political_power = -100

		clr_country_flag = zhang_tinaran	
	}
}

country_event = { # Zhang Tianran has died!
	id = shanqing.22
	title = shanqing.22.t
	desc = shanqing.22.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI }
		NOT = { has_country_flag = zhang_tinaran }
		date > 1947.9.19
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.22.a

		add_political_power = -20

		clr_country_flag = zhang_tinaran
	}
}

country_event = { # China reunited!
	id = shanqing.23
	title = shanqing.23.t
	desc = shanqing.23.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI }
		has_war = no
		owns_state = 592
		owns_state = 325
		owns_state = 604
		owns_state = 622
		owns_state = 328
		owns_state = 608
		NOT = {
			country_exists = AOG
			country_exists = CHI
			country_exists = FNG
			country_exists = YUN
			country_exists = XSM
		}
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.23.a

		add_political_power = 100
		add_ideas = china_united_sqi
		set_global_flag = SQI_united
	}
}

country_event = { # New directions
	id = shanqing.24
	title = shanqing.24.t
	desc = shanqing.24.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		has_global_flag = SQI_united
		is_puppet = no
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.24.a

		ai_chance = { factor = 70 }

		trigger = {	
			NOT = {
				is_in_faction_with = RUS
				owns_state = 408
			}	
		}

		clr_global_flag = CSX_united
		add_political_power = -300
		add_state_claim = 408
		add_state_claim = 409
		add_opinion_modifier = { target = RUS modifier = SQI_DEM_VLA } # -100
		add_opinion_modifier = { target = TRM modifier = SQI_DEM_VLA } # -100
		add_opinion_modifier = { target = SIB modifier = SQI_DEM_VLA } # -100
		add_opinion_modifier = { target = SOV modifier = SQI_DEM_VLA } # -100
		add_opinion_modifier = { target = JAP modifier = SQI_DEM_VLA } # -100
	}

	option = {
		name = shanqing.24.b

	    ai_chance = { factor = 20 }

	    trigger = {
	    	NOT = {
				is_in_faction_with = GER
				owns_state = 671
			}
	    }

	    clr_global_flag = CSX_united
	    add_political_power = -300
	    add_opinion_modifier = { target = GER modifier = SQI_DEM_SAS_GER } # -50
	    add_opinion_modifier = { target = GER modifier = SQI_DEM_SAS } # -25
	    add_opinion_modifier = { target = BHC modifier = SQI_DEM_SAS } # -25
	    add_opinion_modifier = { target = AST modifier = SQI_DEM_SAS } # -25
	}

	option = {
		name = shanqing.24.c

	    ai_chance = { factor = 10 }

	    clr_global_flag = SQI_united
	}	
}

###############################################################
############### Tian Empire events by esmaerla ################
###############################################################

country_event = { # Refugeese from AOG
	id = shanqing.25
	title = shanqing.25.t
	desc = shanqing.25.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		date > 1936.6.6
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.25.a

		ai_chance = { factor = 10 }

		set_global_flag = shangqing_25_a
		add_political_power = -80
		add_ideas =  AOG_refugeese

		load_oob = SQI_AOG_Refugee
	}

	option = {
		name = shanqing.25.b

	    ai_chance = { factor = 90 }

	    set_global_flag = shangqing_25_b
	    add_political_power = 40
	    
	    load_oob = SQI_AOG_Refugeese
	}	
}

country_event = { # Founding of an new Empire
	id = shanqing.26
	title = shanqing.26.t
	desc = shanqing.26.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		OR = { tag = SQI tag = TIE }
		has_global_flag = shangqing_25_a
		controls_state = 608
		is_puppet = no
		NOT = { country_exists = QIE has_global_flag = shangqing_25_b }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.26.a

		ai_chance = { factor = 50 }

		TIE = { annex_country = { target = SQI transfer_troops = yes } change_tag_from = SQI }

		hidden_effect = { TIE = { country_event = { id = shanqing.151 days = 0 }}}
		hidden_effect = { TIE = { country_event = { id = shanqing.27 days = 1 }}}

		every_state = { 
			limit = { is_core_of = SQI } 

			add_core_of = TIE
			remove_core_of = SQI
		}

		set_global_flag = shangqing_26_a
	}

	option = {
		name = shanqing.26.b

	    ai_chance = { factor = 50 }

	    set_global_flag = shangqing_26_b
	    add_political_power = 20
	}	
}

country_event = { # The new imperial court established!
	id = shanqing.27
	title = shanqing.27.t
	desc = shanqing.27.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.27.a
		
		add_political_power = 200

		set_country_flag = TIAN_MINISTERS

		hidden_effect = { remove_ideas_with_trait = head_of_government }

		add_ideas = SQI_Fang_Zhimin_hog_npo

		set_country_flag = zhang_tinaran

		hidden_effect = { TIE = { country_event = { id = shanqing.28 days = 1 }}}
		hidden_effect = { TIE = { country_event = { id = shanqing.30 days = 1 }}}
	}	
}

country_event = { # Airforce and Navy!
	id = shanqing.28
	title = shanqing.28.t
	desc = shanqing.28.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.28.a

		set_country_flag = MILITARY_REORGANISATION

		load_oob = TIE_nav_air

		hidden_effect = { TIE = { country_event = { id = shanqing.29 days = 1 }}}
	}	
}

country_event = { # Airforce and Navy!
	id = shanqing.29
	title = shanqing.29.t
	desc = shanqing.29.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.29.a

		ai_chance = { factor = 33 }

		set_capital = 613

		613 = { 
			add_building_construction = { 
				type = industrial_complex 
				level = 2 
				instant_build = yes 
			}
			add_building_construction = { 
				type = arms_factory 
				level = 2 
				instant_build = yes 
			}

			add_extra_state_shared_building_slots = 4

			add_resource = { type = steel amount = 15 state = 613 }
		}
	}

	option = {
		name = shanqing.29.b

		ai_chance = { factor = 34 }

		set_capital = 608

		608 = { 
			add_building_construction = { 
				type = industrial_complex 
				level = 2 
				instant_build = yes 
			}
			add_building_construction = { 
				type = arms_factory 
				level = 2 
				instant_build = yes 
			}

			add_extra_state_shared_building_slots = 4

			add_resource = { type = steel amount = 20 state = 608 }
		}
	}

	option = {
		name = shanqing.29.c

		ai_chance = { factor = 33 }

		set_capital = 622

		622 = { 
			add_building_construction = { 
				type = industrial_complex 
				level = 2 
				instant_build = yes 
			}
			add_building_construction = { 
				type = arms_factory 
				level = 2 
				instant_build = yes 
			}

			add_extra_state_shared_building_slots = 4

			add_resource = { type = steel amount = 10 state = 622 }
			add_resource = { type = aluminium amount = 5 state = 622 }
		}
	}	
}

country_event = { # New imperial Army
	id = shanqing.30
	title = shanqing.30.t
	desc = shanqing.30.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.30.a

		set_country_flag = MILITARY_REORGANISATION_ARMY

		load_oob = TIE_army

		hidden_effect = { TIE = { country_event = { id = shanqing.33 days = 250 }}}
	}	
}

country_event = { # Zhang Tianran has died!
	id = shanqing.31
	title = shanqing.31.t
	desc = shanqing.31.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = zhang_tinaran
		date > 1947.9.29
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.31.a

		ai_chance = { factor = 90 }

		kill_country_leader = yes

		create_country_leader = {
			name = "Zhu Rongji"
			desc = "POLITICS_ZHU_RONGJI_DESC"
			picture = "Portrait_TIE_Zhu_Rongji.tga"
			expire = "1965.1.1"
			ideology = national_populist_subtype
			traits = {}
		}

		remove_ideas_with_trait = head_of_government

		add_ideas = SQI_Zhou_Enlai_hog_npo

		add_political_power = -40

		clr_country_flag = zhang_tinaran
	}

	option = {
		name = shanqing.31.b

		ai_chance = { factor = 10 }

		kill_country_leader = yes

		create_country_leader = {
			name = "Zhang Guotao"
			desc = "POLITICS_ZHANG_GUOTAO_DESC"
			picture = "Portrait_TIE_Zhang_Guotao.tga"
			expire = "1965.1.1"
			ideology = national_populist_subtype
			traits = {}
		}

		remove_ideas_with_trait = head_of_government

		add_ideas = SQI_Zhang_Guotao_hog_npo

		add_political_power = -100

		clr_country_flag = zhang_tinaran	
	}
}

country_event = { # Zhang Tianran has died!
	id = shanqing.32
	title = shanqing.32.t
	desc = shanqing.32.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		NOT = { has_country_flag = zhang_tinaran }
		date > 1947.9.29
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.32.a

		add_political_power = -20

		clr_country_flag = zhang_tinaran
	}
}

country_event = { # Path to Reunification
	id = shanqing.33
	title = shanqing.33.t
	desc = shanqing.33.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.south

		ai_chance = { factor = 100 }

		trigger = {
			NOT = {
				controls_state = 743
				controls_state = 592
				controls_state = 325
			}
		}

		set_global_flag = TIAN_south

		if = {
			limit = { country_exists = AOG country_exists = CHI } 

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20
			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.36 days = 5 }}
		}

		if = {
			limit = { country_exists = AOG NOT = { country_exists = CHI }}

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20

			TIE = { country_event = { id = shanqing.34 days = 5 }}
		}

		if = {
			limit = { country_exists = CHI NOT = { country_exists = AOG }}

			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.35 days = 5 }}
		}
	}

	option = {
		name = shanqing.west

		ai_chance = { factor = 0 }

		trigger = {
			NOT = {
				controls_state = 617
				controls_state = 322
			}
		}

		set_global_flag = TIAN_west

		add_opinion_modifier = { target = MON modifier = TIAN_west_MON } # -20
		add_opinion_modifier = { target = XSM modifier = TIAN_west_XSM } # -10

		if = {
			limit = { country_exists = XSM country_exists = MON }

			hidden_effect = { XSM = { country_event = { id = shanqing.63 days = 1 }}}
		}

		if = {
			limit = { NOT = { country_exists = XSM } country_exists = MON }

			hidden_effect = { MON = { country_event = { id = shanqing.68 days = 1 }}}
		}
	}

	option = {
		name = shanqing.north

		ai_chance = { factor = 0 }

		trigger = {
			NOT = {
				controls_state = 328
				controls_state = 745
			}
		}

		set_global_flag = TIAN_north

		add_opinion_modifier = { target = FNG modifier = TIAN_north } # -20
		add_opinion_modifier = { target = MAN modifier = TIAN_north } # -20
		add_opinion_modifier = { target = JAP modifier = TIAN_north } # -20

		TIE = { country_event = { id = shanqing.86 days = 5 }}
	}

	option = {
		name = shanqing.go.en

		ai_chance = { factor = 1 }

		add_opinion_modifier = { target = FNG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = MAN modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = AOG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = GER modifier = TIAN_no_expansion } # 10

		add_political_power = -200
	}
}

####################
### "Tian dynasty Southern campaign"
####################

country_event = { # Move into Southern regions against the AOG
	id = shanqing.34
	title = shanqing.34.t
	desc = shanqing.34.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.34.a

		ai_chance = { factor = 90 }

		declare_war_on = { target = AOG type = annex_everything	}
	}

	option = {
		name = shanqing.34.b

		ai_chance = { factor = 10 }

		add_political_power = -100
	}
}

country_event = { # Move into Southern regions against the Republicans
	id = shanqing.35
	title = shanqing.35.t
	desc = shanqing.35.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.35.a

		ai_chance = { factor = 35 }

		declare_war_on = { target = CHI type = annex_everything	}
	}

	option = {
		name = shanqing.35.b

		ai_chance = { factor = 60 }

		hidden_effect = { CHI = { country_event = { id = shanqing.37 days = 2 }}}
	}

	option = {
		name = shanqing.35.c

		ai_chance = { factor = 5 }

		add_political_power = -100
	}
}

country_event = { # Move into Southern regions
	id = shanqing.36
	title = shanqing.36.t
	desc = shanqing.36.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.36.a

		ai_chance = { factor = 30 }

		declare_war_on = { target = AOG type = annex_everything	}
		declare_war_on = { target = CHI type = annex_everything	}
	}

	option = {
		name = shanqing.36.b

		ai_chance = { factor = 65 }

		declare_war_on = { target = AOG type = annex_everything	}
		hidden_effect = { CHI = { country_event = { id = shanqing.37 days = 2 }}}
	}

	option = {
		name = shanqing.36.c

		ai_chance = { factor = 5 }

		add_political_power = -100
	}
}

country_event = { # New Imperial Dynasty from the north are pressing for a united China
	id = shanqing.37
	title = shanqing.37.t
	desc = shanqing.37.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.37.a

		ai_chance = { factor = 30 }

		add_political_power = 20
		hidden_effect = { TIE = { country_event = { id = shanqing.38 days = 1 }}}
	}

	option = {
		name = shanqing.37.b

		ai_chance = { factor = 10 }

		hidden_effect = { TIE = { country_event = { id = shanqing.39 days = 1 }}}
	}

	option = {
		name = shanqing.37.c

		ai_chance = { factor = 20 }

		hidden_effect = { TIE = { country_event = { id = shanqing.40 days = 1 }}}
	}

	option = {
		name = shanqing.37.c

		ai_chance = { factor = 10 }

		declare_war_on = { target = TIE type = annex_everything	}
	}
}

country_event = { # The Republicans have refused to accept the Mandate of Heaven!
	id = shanqing.38
	title = shanqing.38.t
	desc = shanqing.38.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.38.a

		ai_chance = { factor = 90 }

		if = {
			limit = { is_in_faction_with = CHI is_faction_leader = yes }

			dismantle_faction = yes
		}

		if = {
			limit = { is_in_faction_with = CHI is_faction_leader = no }

			CHI = { remove_from_faction = TIE }
		}

		declare_war_on = { target = CHI type = annex_everything	}
	}

	option = {
		name = shanqing.38.b

		ai_chance = { factor = 10 }

		add_political_power = -200
	}
}

country_event = { # Unity for China!
	id = shanqing.39
	title = shanqing.39.t
	desc = shanqing.39.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.39.a

		annex_country = { target = CHI transfer_troops = no }

		every_state = { 
			limit = { is_core_of = CHI } 

			add_core_of = TIE
			remove_core_of = CHI
		}
	}
}

country_event = { # Republican conditions
	id = shanqing.40
	title = shanqing.40.t
	desc = shanqing.40.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.40.a

		ai_chance = { factor = 5 }

		annex_country = { target = CHI transfer_troops = no }

		every_state = { 
			limit = { is_core_of = CHI } 

			add_core_of = TIE
			remove_core_of = CHI
		}

		add_political_power = -60

		add_popularity = {
            ideology = social_democratist
            popularity = 0.15
        }
        add_popularity = {
            ideology = social_liberalist
            popularity = 0.1
        }
        add_popularity = {
            ideology = market_liberalist
            popularity = 0.15
        }
	}

	option = {
		name = shanqing.40.b

		ai_chance = { factor = 95 }

		if = {
			limit = { is_in_faction_with = CHI is_faction_leader = yes }

			dismantle_faction = yes
		}

		if = {
			limit = { is_in_faction_with = CHI is_faction_leader = no }

			CHI = { remove_from_faction = TIE }
		}

		declare_war_on = { target = CHI type = annex_everything	}
	}
}

country_event = { # The Legation Cities
	id = shanqing.41
	title = shanqing.41.t
	desc = shanqing.41.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_south
		country_exists = LEC
		has_war = no
		is_puppet = no
		NOT = {
			country_exists = CHI
			country_exists = AOG
			country_exists = QIE
		}
		date > 1938.3.1
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.41.a

		ai_chance = { factor = 90 }

		every_state = { 
			limit = { is_core_of = LEC } 

			add_core_of = TIE
		}

		add_political_power = 200

		add_opinion_modifier = { target = GER modifier = TIAN_south_LEC_70 } # -70
		add_opinion_modifier = { target = USA modifier = TIAN_south_LEC_70 } # -70
		add_opinion_modifier = { target = CAN modifier = TIAN_south_LEC_70 } # -70
		add_opinion_modifier = { target = RUS modifier = TIAN_south_LEC_30 } # -30
		add_opinion_modifier = { target = SOV modifier = TIAN_south_LEC_30 } # -30
		add_opinion_modifier = { target = JAP modifier = TIAN_south_LEC_70 } # -70

		hidden_effect = { LEC = { country_event = { id = shanqing.42 days = 1 }}}
	}

	option = {
		name = shanqing.41.b

		ai_chance = { factor = 9 }

		hidden_effect = { LEC = { country_event = { id = shanqing.42 days = 1 }}}

		add_political_power = -40

		add_opinion_modifier = { target = GER modifier = TIAN_south_LEC_20 } # -20
		add_opinion_modifier = { target = USA modifier = TIAN_south_LEC_10 } # -10
		add_opinion_modifier = { target = CAN modifier = TIAN_south_LEC_10 } # -10
		add_opinion_modifier = { target = RUS modifier = TIAN_south_LEC_10 } # -10
		add_opinion_modifier = { target = SOV modifier = TIAN_south_LEC_10 } # -10
		add_opinion_modifier = { target = JAP modifier = TIAN_south_LEC_20 } # -20
	}

	option = {
		name = shanqing.41.c

		ai_chance = { factor = 1 }

		add_political_power = -100

		add_opinion_modifier = { target = GER modifier = TIAN_south_LEC_ps_20 } # 20
		add_opinion_modifier = { target = USA modifier = TIAN_south_LEC_ps_10 } # 10
		add_opinion_modifier = { target = CAN modifier = TIAN_south_LEC_ps_10 } # 10
		add_opinion_modifier = { target = RUS modifier = TIAN_south_LEC_ps_10 } # 10
		add_opinion_modifier = { target = SOV modifier = TIAN_south_LEC_ps_10 } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_south_LEC_ps_20 } # 20
	}
}

country_event = { # Demands of the new Empire
	id = shanqing.42
	title = shanqing.42.t
	desc = shanqing.42.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.42.a

		ai_chance = { factor = 5 }

		hidden_effect = { TIE = { country_event = { id = shanqing.49 days = 1 }}}
	}

	option = {
		name = shanqing.42.b

		ai_chance = { factor = 95 }

		hidden_effect = { TIE = { country_event = { id = shanqing.44 days = 1 }}}

		add_political_power = -200
	}
}

country_event = { # Demands of the new Empire
	id = shanqing.43
	title = shanqing.43.t
	desc = shanqing.43.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.43.a

		ai_chance = { factor = 10 }

		hidden_effect = { TIE = { country_event = { id = shanqing.47 days = 1 }}}

		TIE = {
			transfer_state = 743
		}
	}

	option = {
		name = shanqing.43.b

		ai_chance = { factor = 90 }

		hidden_effect = { TIE = { country_event = { id = shanqing.44 days = 1 }}}

		add_political_power = -200
	}
}

country_event = { # Legation Cities refuse!
	id = shanqing.44
	title = shanqing.44.t
	desc = shanqing.44.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.44.a

		ai_chance = { factor = 90 }

		LEC = { country_event = { id = shanqing.45 days = 5 }}

		add_timed_idea = { idea = trads_bribe days = 60 }
	}

	option = {
		name = shanqing.44.b

		ai_chance = { factor = 10 }

		declare_war_on = { target = LEC type = annex_everything	}

		add_opinion_modifier = { target = GER modifier = TIAN_attack_LEC } # -20
		add_opinion_modifier = { target = JAP modifier = TIAN_attack_LEC } # -20
	}
}

country_event = { # Criminal Activities!
	id = shanqing.45
	title = shanqing.45.t
	desc = shanqing.45.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.45.a

		hidden_effect = { TIE = { country_event = { id = shanqing.46 days = 5 }}}

		add_political_power = -100
	}
}

country_event = { # Gangs in Legation Cities
	id = shanqing.46
	title = shanqing.46.t
	desc = shanqing.46.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.46.a

		hidden_effect = { LEC = { country_event = { id = shanqing.47 days = 0 }}}

		add_political_power = -100
	}
}

country_event = { # Revolt!
	id = shanqing.47
	title = shanqing.47.t
	desc = shanqing.47.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.47.a

		hidden_effect = { TIE = { country_event = { id = shanqing.49 days = 0 }}}
	}
}

country_event = { # Legation Cities accept
	id = shanqing.48
	title = shanqing.48.t
	desc = shanqing.48.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.48.a

		every_state = { 
			limit = { is_core_of = LEC } 

			remove_core_of = TIE
			remove_claim_by = TIE
		}

		puppet = LEC
	}
}

country_event = { # Legation Cities accept
	id = shanqing.49
	title = shanqing.49.t
	desc = shanqing.49.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.49.a

		annex_country = { target = LEC transfer_troops = no }

		every_state = { 
			limit = { is_core_of = LEC } 

			remove_core_of = LEC
		}
	}
}

country_event = { # Dealing with Yunnan
	id = shanqing.50
	title = shanqing.50.t
	desc = shanqing.50.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_south
		OR = { country_exists = YUN country_exists = NPA }
		has_war = no
		is_puppet = no
		controls_state = 592
		NOT = {
			country_exists = CHI
			country_exists = AOG
			country_exists = QIE
		}
		date > 1938.6.29
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.50.a

		ai_chance = { factor = 40 }

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			hidden_effect = { YUN = { country_event = { id = shanqing.51 days = 1 }}}
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			hidden_effect = { NPA = { country_event = { id = shanqing.51 days = 1 }}}
		}	
	}

	option = {
		name = shanqing.50.b

		ai_chance = { factor = 60 }

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			hidden_effect = { YUN = { country_event = { id = shanqing.52 days = 1 }}}
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			hidden_effect = { NPA = { country_event = { id = shanqing.52 days = 1 }}}
		}
	}

	option = {
		name = shanqing.50.c

		ai_chance = { factor = 0 }

		add_political_power = -300
	}
}

country_event = { # Tian Empire have Threatened Us!
	id = shanqing.51
	title = shanqing.51.t
	desc = shanqing.51.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.51.a

		ai_chance = { factor = 40 }

		hidden_effect = { TIE = { country_event = { id = shanqing.53 days = 1 }}}
	}

	option = {
		name = shanqing.51.b

		ai_chance = { factor = 40 }

		hidden_effect = { TIE = { country_event = { id = shanqing.54 days = 2 }}}
	}

	option = {
		name = shanqing.51.c

		ai_chance = { factor = 20 }

		declare_war_on = { target = TIE type = annex_everything	}

		add_political_power = -300
	}
}

country_event = { # Tian Empire want to talk
	id = shanqing.52
	title = shanqing.52.t
	desc = shanqing.52.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.52.a

		ai_chance = { factor = 30 }

		hidden_effect = { TIE = { country_event = { id = shanqing.53 days = 1 }}}
	}

	option = {
		name = shanqing.52.b

		ai_chance = { factor = 40 }

		hidden_effect = { TIE = { country_event = { id = shanqing.54 days = 2 }}}
	}

	option = {
		name = shanqing.52.c

		ai_chance = { factor = 30 }

		hidden_effect = { TIE = { country_event = { id = shanqing.55 days = 1 }}}
	}
}

country_event = { # The Warlord has given in
	id = shanqing.53
	title = shanqing.53.t
	desc = shanqing.53.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.53.a

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			annex_country = { target = YUN transfer_troops = no }

			every_state = { 
				limit = { is_core_of = YUN } 

				add_core_of = TIE
			}
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			annex_country = { target = NPA transfer_troops = no }

			every_state = { 
				limit = { is_core_of = NPA } 

				add_core_of = TIE
				remove_core_of = NPA
			}
		}
	}
}

country_event = { # Tian Empire want to talk
	id = shanqing.54
	title = shanqing.54.t
	desc = shanqing.54.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.54.a

		ai_chance = { factor = 55 }

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			hidden_effect = { YUN = { country_event = { id = shanqing.56 days = 1 }}}
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			hidden_effect = { NPA = { country_event = { id = shanqing.56 days = 1 }}}
		}
	}

	option = {
		name = shanqing.54.b

		ai_chance = { factor = 40 }

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			declare_war_on = { target = YUN type = annex_everything	}
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			declare_war_on = { target = NPA type = annex_everything	}
		}
	}

	option = {
		name = shanqing.54.c

		ai_chance = { factor = 5 }

		add_political_power = -300
	}
}

country_event = { # The Yunnan Offer
	id = shanqing.55
	title = shanqing.55.t
	desc = shanqing.55.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.55.a

		ai_chance = { factor = 10 }

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			puppet = YUN
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			puppet = NPA
		}

		add_political_power = -100 
	}

	option = {
		name = shanqing.55.b

		ai_chance = { factor = 70 }

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			hidden_effect = { YUN = { country_event = { id = shanqing.56 days = 1 }}}
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			hidden_effect = { NPA = { country_event = { id = shanqing.56 days = 1 }}}
		}
	}

	option = {
		name = shanqing.55.c

		ai_chance = { factor = 20 }

		if = { 
			limit = { country_exists = YUN NOT = { country_exists = NPA }}

			declare_war_on = { target = YUN type = annex_everything	}
		}

		if = { 
			limit = { country_exists = NPA NOT = { country_exists = YUN }}

			declare_war_on = { target = NPA type = annex_everything	}
		}
	}
}

country_event = { # Tian Empire have mobilized troops
	id = shanqing.56
	title = shanqing.56.t
	desc = shanqing.56.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.56.a

		ai_chance = { factor = 80 }

		hidden_effect = { TIE = { country_event = { id = shanqing.53 days = 1 }}}
	}

	option = {
		name = shanqing.56.b

		ai_chance = { factor = 20 }

		declare_war_on = { target = TIE type = annex_everything	}

		add_political_power = -300
	}
}

country_event = { # Focus in international policy
	id = shanqing.57
	title = shanqing.foc.int.pol
	desc = shanqing.57.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_south
		has_war = no
		is_puppet = no
		OR = {
			NOT = { any_allied_country = { controls_state = 328 }}
			NOT = { any_allied_country = { controls_state = 617 }} 
			NOT = { any_allied_country = { controls_state = 322 }} 
			NOT = { any_allied_country = { controls_state = 745 }}  
		}
		controls_state = 608
		controls_state = 613
		controls_state = 622
		any_allied_country = { controls_state = 743 }
		any_allied_country = { controls_state = 592 }
		any_allied_country = { controls_state = 325 }
		date > 1938.1.1
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.north

		ai_chance = { factor = 80 }

		trigger = {
			NOT = { any_allied_country = { controls_state = 328 }}
			NOT = { any_allied_country = { controls_state = 745 }} 
		}

		set_global_flag = TIAN_north

		add_opinion_modifier = { target = FNG modifier = TIAN_north } # -20
		add_opinion_modifier = { target = MAN modifier = TIAN_north } # -20
		add_opinion_modifier = { target = JAP modifier = TIAN_north } # -20

		TIE = { country_event = { id = shanqing.86 days = 5 }}
	}

	option = {
		name = shanqing.west

		ai_chance = { factor = 19 }

		trigger = {
			NOT = { any_allied_country = { controls_state = 617 }}
			NOT = { any_allied_country = { controls_state = 322 }} 
		}

		set_global_flag = TIAN_west

		add_opinion_modifier = { target = MON modifier = TIAN_west_MON } # -20
		add_opinion_modifier = { target = XSM modifier = TIAN_west_XSM } # -10

		if = {
			limit = { country_exists = XSM country_exists = MON }

			hidden_effect = { XSM = { country_event = { id = shanqing.63 days = 1 }}}
		}

		if = {
			limit = { NOT = { country_exists = XSM } country_exists = MON }

			hidden_effect = { MON = { country_event = { id = shanqing.68 days = 1 }}}
		}
	}

	option = {
		name = shanqing.go.en

		ai_chance = { factor = 1 }

		add_opinion_modifier = { target = FNG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = MAN modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = GER modifier = TIAN_no_expansion } # 10

		add_political_power = -300
	}
}

country_event = { # Focus in international policy
	id = shanqing.58
	title = shanqing.foc.int.pol
	desc = shanqing.58.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_west # After successful western campaign
		has_war = no
		is_puppet = no
		OR = {
			NOT = { any_allied_country = { controls_state = 328 }}
			NOT = { any_allied_country = { controls_state = 743 }}
			NOT = { any_allied_country = { controls_state = 592 }}
			NOT = { any_allied_country = { controls_state = 325 }}
			NOT = { any_allied_country = { controls_state = 745 }}  
		}
		any_allied_country = { controls_state = 617 }
		any_allied_country = { controls_state = 322 }
		controls_state = 608
		controls_state = 613
		controls_state = 622
		date > 1938.1.1
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.south

		ai_chance = { factor = 80 }

		trigger = {
			NOT = {
				controls_state = 743
				controls_state = 592
				controls_state = 325
			}
		}

		set_global_flag = TIAN_south

		if = {
			limit = { country_exists = AOG country_exists = CHI } 

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20
			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.36 days = 5 }}
		}

		if = {
			limit = { country_exists = AOG NOT = { country_exists = CHI }}

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20

			TIE = { country_event = { id = shanqing.34 days = 5 }}
		}

		if = {
			limit = { country_exists = CHI NOT = { country_exists = AOG }}

			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.35 days = 5 }}
		}
	}

	option = {
		name = shanqing.north

		ai_chance = { factor = 19 }

		trigger = {
			NOT = { any_allied_country = { controls_state = 328 }}
			NOT = { any_allied_country = { controls_state = 745 }} 
		}

		set_global_flag = TIAN_north

		add_opinion_modifier = { target = FNG modifier = TIAN_north } # -20
		add_opinion_modifier = { target = MAN modifier = TIAN_north } # -20
		add_opinion_modifier = { target = JAP modifier = TIAN_north } # -20

		TIE = { country_event = { id = shanqing.86 days = 5 }}
	}

	option = {
		name = shanqing.58.c

		ai_chance = { factor = 1 }

		add_opinion_modifier = { target = FNG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = MAN modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = GER modifier = TIAN_no_expansion } # 10

		add_political_power = -300
	}
}

country_event = { # Focus in international policy
	id = shanqing.59
	title = shanqing.foc.int.pol
	desc = shanqing.59.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_north # After successful northern campaign
		has_war = no
		is_puppet = no
		OR = {
			NOT = { any_allied_country = { controls_state = 617 }}
			NOT = { any_allied_country = { controls_state = 743 }}
			NOT = { any_allied_country = { controls_state = 592 }}
			NOT = { any_allied_country = { controls_state = 325 }}
			NOT = { any_allied_country = { controls_state = 322 }}  
		}
		any_allied_country = { controls_state = 328 }
		any_allied_country = { controls_state = 745 }
		controls_state = 608
		controls_state = 613
		controls_state = 622
		date > 1938.1.1
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.south

		ai_chance = { factor = 50 }

		trigger = {
			NOT = {
				controls_state = 743
				controls_state = 592
				controls_state = 325
			}
		}

		set_global_flag = TIAN_south

		if = {
			limit = { country_exists = AOG country_exists = CHI } 

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20
			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.36 days = 5 }}
		}

		if = {
			limit = { country_exists = AOG NOT = { country_exists = CHI }}

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20

			TIE = { country_event = { id = shanqing.34 days = 5 }}
		}

		if = {
			limit = { country_exists = CHI NOT = { country_exists = AOG }}

			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.35 days = 5 }}
		}
	}

	option = {
		name = shanqing.west

		ai_chance = { factor = 49 }

		trigger = {
			NOT = { any_allied_country = { controls_state = 617 }}
			NOT = { any_allied_country = { controls_state = 322 }} 
		}

		set_global_flag = TIAN_west

		add_opinion_modifier = { target = MON modifier = TIAN_west_MON } # -20
		add_opinion_modifier = { target = XSM modifier = TIAN_west_XSM } # -10

		if = {
			limit = { country_exists = XSM country_exists = MON }

			hidden_effect = { XSM = { country_event = { id = shanqing.63 days = 1 }}}
		}

		if = {
			limit = { NOT = { country_exists = XSM } country_exists = MON }

			hidden_effect = { MON = { country_event = { id = shanqing.68 days = 1 }}}
		}
	}

	option = {
		name = shanqing.go.en

		ai_chance = { factor = 1 }

		add_opinion_modifier = { target = FNG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = MAN modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = GER modifier = TIAN_no_expansion } # 10

		add_political_power = -300
	}
}

country_event = { # Focus in international policy
	id = shanqing.60
	title = shanqing.foc.int.pol
	desc = shanqing.60.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_north # After successful northern campaign
		has_country_flag = TIAN_south # After successful southern campaign
		has_war = no
		is_puppet = no
		OR = {
			NOT = { any_allied_country = { controls_state = 617 }}
			NOT = { any_allied_country = { controls_state = 322 }}
		}
		any_allied_country = { controls_state = 328 }
		any_allied_country = { controls_state = 743 }
		any_allied_country = { controls_state = 592 }
		any_allied_country = { controls_state = 325 }
		any_allied_country = { controls_state = 745 }
		controls_state = 608
		controls_state = 613
		controls_state = 622
		date > 1938.1.1
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.west

		ai_chance = { factor = 99 }

		trigger = {
			NOT = { any_allied_country = { controls_state = 617 }}
			NOT = { any_allied_country = { controls_state = 322 }} 
		}

		set_global_flag = TIAN_west

		add_opinion_modifier = { target = MON modifier = TIAN_west_MON } # -20
		add_opinion_modifier = { target = XSM modifier = TIAN_west_XSM } # -10

		if = {
			limit = { country_exists = XSM country_exists = MON }

			hidden_effect = { XSM = { country_event = { id = shanqing.63 days = 1 }}}
		}

		if = {
			limit = { NOT = { country_exists = XSM } country_exists = MON }

			hidden_effect = { MON = { country_event = { id = shanqing.68 days = 1 }}}
		}
	}

	option = {
		name = shanqing.go.en

		ai_chance = { factor = 1 }

		add_opinion_modifier = { target = FNG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = MAN modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = GER modifier = TIAN_no_expansion } # 10

		add_political_power = -100
	}
}

country_event = { # Focus in international policy
	id = shanqing.61
	title = shanqing.foc.int.pol
	desc = shanqing.61.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_west # After successful western campaign
		has_country_flag = TIAN_south # After successful southern campaign
		has_war = no
		is_puppet = no
		OR = {
			NOT = { any_allied_country = { controls_state = 328 }}
			NOT = { any_allied_country = { controls_state = 745 }}
		}
		any_allied_country = { controls_state = 322 }
		any_allied_country = { controls_state = 743 }
		any_allied_country = { controls_state = 592 }
		any_allied_country = { controls_state = 325 }
		controls_state = 608
		controls_state = 613
		controls_state = 622
		date > 1938.1.1
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.north

		ai_chance = { factor = 99 }

		trigger = {
			NOT = { any_allied_country = { controls_state = 328 }}
			NOT = { any_allied_country = { controls_state = 745 }} 
		}

		set_global_flag = TIAN_north

		add_opinion_modifier = { target = FNG modifier = TIAN_north } # -20
		add_opinion_modifier = { target = MAN modifier = TIAN_north } # -20
		add_opinion_modifier = { target = JAP modifier = TIAN_north } # -20

		TIE = { country_event = { id = shanqing.86 days = 5 }}
	}

	option = {
		name = shanqing.go.en

		ai_chance = { factor = 1 }

		add_opinion_modifier = { target = FNG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = MAN modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = GER modifier = TIAN_no_expansion } # 10

		add_political_power = -100
	}
}

country_event = { # Focus in international policy
	id = shanqing.62
	title = shanqing.foc.int.pol
	desc = shanqing.62.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_country_flag = TIAN_west # After successful western campaign
		has_country_flag = TIAN_south # After successful southern campaign
		has_war = no
		is_puppet = no
		OR = {
			NOT = { any_allied_country = { controls_state = 743 }}
			NOT = { any_allied_country = { controls_state = 592 }}
			NOT = { any_allied_country = { controls_state = 325 }}
		}
		any_allied_country = { controls_state = 322 }
		any_allied_country = { controls_state = 617 }
		any_allied_country = { controls_state = 328 }
		any_allied_country = { controls_state = 745 }
		controls_state = 608
		controls_state = 613
		controls_state = 622
		date > 1938.1.1
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.south

		ai_chance = { factor = 99 }

		trigger = {
			NOT = {
				controls_state = 743
				controls_state = 592
				controls_state = 325
			}
		}

		set_global_flag = TIAN_south

		if = {
			limit = { country_exists = AOG country_exists = CHI } 

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20
			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.36 days = 5 }}
		}

		if = {
			limit = { country_exists = AOG NOT = { country_exists = CHI }}

			add_opinion_modifier = { target = AOG modifier = TIAN_south_AOG } # -20

			TIE = { country_event = { id = shanqing.34 days = 5 }}
		}

		if = {
			limit = { country_exists = CHI NOT = { country_exists = AOG }}

			add_opinion_modifier = { target = CHI modifier = TIAN_south_CHI } # -10

			TIE = { country_event = { id = shanqing.35 days = 5 }}
		}
	}

	option = {
		name = shanqing.go.en

		ai_chance = { factor = 1 }

		add_opinion_modifier = { target = FNG modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = MAN modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = JAP modifier = TIAN_no_expansion } # 10
		add_opinion_modifier = { target = GER modifier = TIAN_no_expansion } # 10

		add_political_power = -100
	}
}

####################
### "Tian dynasty Western campaign"
####################

country_event = { # Move into Western regions against the Hui Warlords
	id = shanqing.63
	title = shanqing.63.t
	desc = shanqing.63.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.63.a

		ai_chance = { factor = 60 }

		hidden_effect = { XSM = { country_event = { id = shanqing.64 days = 5 }}}
	}

	option = {
		name = shanqing.63.b

		ai_chance = { factor = 39 }

		declare_war_on = { target = XSM type = annex_everything	}
	}

	option = {
		name = shanqing.63.c

		ai_chance = { factor = 1 }

		add_political_power = -100
	}
}

country_event = { # The Heavenly Dynasty claims the Northwest
	id = shanqing.64
	title = shanqing.64.t
	desc = shanqing.64.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.64.a

		ai_chance = { factor = 60 }

		hidden_effect = { TIE = { country_event = { id = shanqing.65 days = 1 }}}
	}

	option = {
		name = shanqing.64.b

		ai_chance = { factor = 39 }

		declare_war_on = { target = TIE type = annex_everything	}
	}

	option = {
		name = shanqing.64.c

		ai_chance = { factor = 1 }

		hidden_effect = { TIE = { country_event = { id = shanqing.66 days = 1 }}}
	}
}

country_event = { # The Hui Resolve
	id = shanqing.65
	title = shanqing.65.t
	desc = shanqing.65.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.65.a

		annex_country = { target = XSM transfer_troops = no }

		every_state = { 
			limit = { is_core_of = XSM } 

			add_core_of = TIE
			remove_core_of = XSM
		}

		add_political_power = 100
	}
}

country_event = { # The Heavenly Dynasty claims the Northwest
	id = shanqing.66
	title = shanqing.66.t
	desc = shanqing.66.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.66.a

		ai_chance = { factor = 95 }

		add_political_power = -200

		declare_war_on = { target = XSM type = annex_everything	}

		set_global_flag = TN_CXBwar
	}

	option = {
		name = shanqing.66.b

		ai_chance = { factor = 5 }

		add_political_power = -200

		puppet = XSM

		every_state = { 
			limit = { is_core_of = XSM } 

			remove_core_of = TIE
			remove_claim_by = TIE
		}
	}
}

country_event = { # The Heavenly Dynasty claims the Northwest
	id = shanqing.67
	title = shanqing.67.t
	desc = shanqing.67.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		NOT = { 617 = { is_core_of = TIE }}
		owns_state = 617
		controls_state = 617
		NOT = { country_exists = XSM }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.67.a

		add_political_power = 60

		every_state = { 
			limit = { is_core_of = XSM } 

			add_core_of = TIE
		}
	}
}

country_event = { # Move into Western regions against Mongols
	id = shanqing.68
	title = shanqing.68.t
	desc = shanqing.68.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.68.a

		ai_chance = { factor = 65 }

		hidden_effect = { MON = { country_event = { id = shanqing.100 days = 1 }}}
	}

	option = {
		name = shanqing.68.b

		ai_chance = { factor = 30 }

		declare_war_on = { target = MON type = annex_everything	}
	}

	option = {
		name = shanqing.68.c

		ai_chance = { factor = 5 }

		add_political_power = -300
	}
}

country_event = { # Dealing with the Tian Empire
	id = shanqing.69
	title = shanqing.69.t
	desc = shanqing.69.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.69.a

		ai_chance = { factor = 40 }

		hidden_effect = { TIE = { country_event = { id = shanqing.70 days = 1 }}}
	}

	option = {
		name = shanqing.69.b

		ai_chance = { factor = 60 }

		hidden_effect = { TIE = { country_event = { id = shanqing.71 days = 1 }}}
	}
}

country_event = { # Negotiations with Mongolians
	id = shanqing.100
	title = shanqing.100.t
	desc = shanqing.100.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.100.a

		ai_chance = { factor = 50 }

		hidden_effect = { MON = { country_event = { id = shanqing.72 days = 1 }}}
	}

	option = {
		name = shanqing.100.b

		ai_chance = { factor = 10 }

		hidden_effect = { MON = { country_event = { id = shanqing.75 days = 1 }}}
	}
}

country_event = { # Mongolia Refuses
	id = shanqing.70
	title = shanqing.70.t
	desc = shanqing.70.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.70.a

		ai_chance = { factor = 5 }

		add_political_power = -100
	}

	option = {
		name = shanqing.70.b

		ai_chance = { factor = 95 }

		declare_war_on = { target = MON type = annex_everything	}
	}
}

country_event = { # Tian Empire are asking for everything
	id = shanqing.71
	title = shanqing.71.t
	desc = shanqing.71.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.71.a

		ai_chance = { factor = 20 }

		trigger = {
			TIE = {
				controls_state = 621
			}
		}

		hidden_effect = { TIE = { country_event = { id = shanqing.72 days = 1 }}}
	}

	option = {
		name = shanqing.71.b

		ai_chance = { factor = 85 }

		hidden_effect = { TIE = { country_event = { id = shanqing.70 days = 1 }}}
	}

	option = {
		name = shanqing.71.c

		ai_chance = { factor = 5 }

		hidden_effect = { TIE = { country_event = { id = shanqing.74 days = 1 }}}

		TIE = {
			transfer_state = 616
			transfer_state = 283
			transfer_state = 604
			transfer_state = 287
			transfer_state = 619
			transfer_state = 617
			transfer_state = 618
		}

		if = {
			limit = {
				XSM = { is_puppet_of = MON }
			}

			TIE = { annex_country = { target = XSM transfer_troops = no }}
		}
	}
}

country_event = { # We have recieved the Mongol offer
	id = shanqing.72
	title = shanqing.72.t
	desc = shanqing.72.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.72.a

		ai_chance = { factor = 40 }

		TIE = {
			add_state_core = 616
			add_state_core = 283
			add_state_core = 604
			add_state_core = 287
			add_state_core = 619
			add_state_core = 617
			add_state_core = 618
		}

		add_timed_idea = { idea = deal_with_mongolia days = 120 }

		add_manpower = -50000

		MON = { transfer_state = 621 }

		hidden_effect = { MON = { country_event = { id = shanqing.73 days = 1 }}}
	}

	option = {
		name = shanqing.72.b

		ai_chance = { factor = 60 }

		declare_war_on = { target = MON type = annex_everything	}
	}

	option = {
		name = shanqing.72.c

		ai_chance = { factor = 5 }

		add_political_power = -100
	}
}

country_event = { # They Accepted
	id = shanqing.73
	title = shanqing.73.t
	desc = shanqing.73.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.73.a

		ai_chance = { factor = 40 }

		TIE = {
			transfer_state = 616
			transfer_state = 283
			transfer_state = 604
			transfer_state = 287
			transfer_state = 619
			transfer_state = 617
			transfer_state = 618

			add_state_core = 616
			add_state_core = 283
			add_state_core = 604
			add_state_core = 287
			add_state_core = 619
			add_state_core = 617
			add_state_core = 618
		}

		if = {
			limit = {
				XSM = { is_puppet_of = MON }
			}

			TIE = { annex_country = { target = XSM transfer_troops = no }}
		}

		add_manpower = 50000
	}
}

country_event = { # Mongolia accepts our demands
	id = shanqing.74
	title = shanqing.74.t
	desc = shanqing.74.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.74.a

		ai_chance = { factor = 40 }

		TIE = {
			transfer_state = 616
			transfer_state = 283
			transfer_state = 604
			transfer_state = 287
			transfer_state = 619
			transfer_state = 617
			transfer_state = 618
		}

		if = {
			limit = {
				XSM = { is_puppet_of = MON }
			}

			TIE = { annex_country = { target = XSM transfer_troops = no }}
		}

		add_manpower = 50000
	}
}

country_event = { # Tian empire are asking for a split
	id = shanqing.75
	title = shanqing.75.t
	desc = shanqing.75.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.75.a

		ai_chance = { factor = 75 }

		hidden_effect = { TIE = { country_event = { id = shanqing.76 days = 1 }}}
	}

	option = {
		name = shanqing.75.b

		ai_chance = { factor = 25 }

		add_political_power = 20
		hidden_effect = { TIE = { country_event = { id = shanqing.70 days = 1 }}}
	}
}

country_event = { # Mongolians response
	id = shanqing.76
	title = shanqing.76.t
	desc = shanqing.76.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.76.a

		hidden_effect = { MON = { country_event = { id = shanqing.77 days = 1 }}}

		add_timed_idea = { idea = deal_with_mongolia days = 120 }

		add_manpower = -5000

		TIE = {
			transfer_state = 616
			transfer_state = 283
			transfer_state = 604
			transfer_state = 618

			add_state_core = 616
			add_state_core = 283
			add_state_core = 604
			add_state_core = 618

			remove_state_core = 287
			remove_state_core = 619
			remove_state_core = 617
		}

		if = {
			limit = {
				XSM = { is_puppet_of = MON }
			}

			TIE = { annex_country = { target = XSM transfer_troops = no }}
		}

		MON = {
			transfer_state = 287
			transfer_state = 619
			transfer_state = 617
		}
	}
}

country_event = { # They Accepted
	id = shanqing.77
	title = shanqing.77.t
	desc = shanqing.77.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.77.a

		add_timed_idea = { idea = deal_with_china days = 120 }

		add_manpower = 5000

		MON = {
			add_state_core = 287
			add_state_core = 619
			add_state_core = 617
			add_state_core = 618
		}
	}
}

country_event = { # War with the Tian Empire
	id = shanqing.78
	title = shanqing.78.t
	desc = shanqing.78.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = MON
		has_war_with = TIE
		is_puppet = no
		TIE = { is_puppet = no }
		TIE = {
			controls_state = 617
			controls_state = 330
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.78.a

		ai_chance = { factor = 99 }

		hidden_effect = { TIE = { country_event = { id = shanqing.79 days = 1 }}}
	}

	option = {
		name = shanqing.78.b

		ai_chance = { factor = 1 }

		add_political_power = -100
	}
}

country_event = { # We have recieved the Mongol offer
	id = shanqing.79
	title = shanqing.79.t
	desc = shanqing.79.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.79.a

		ai_chance = { factor = 99 }

		hidden_effect = { MON = { country_event = { id = shanqing.80 days = 1 }}}

		white_peace = MON

		if = {
			limit = {
				XSM = { is_puppet_of = MON }
			}

			TIE = { annex_country = { target = XSM transfer_troops = no }}
		}

		TIE = {
			add_state_core = 616
			add_state_core = 283
			add_state_core = 604
			add_state_core = 287
			add_state_core = 619
			add_state_core = 617
			add_state_core = 618
		}
	}

	option = {
		name = shanqing.79.b

		ai_chance = { factor = 1 }

		add_political_power = -100
	}
}

country_event = { # They Accepted
	id = shanqing.80
	title = shanqing.80.t
	desc = shanqing.80.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.80.a

		TIE = {
			transfer_state = 616
			transfer_state = 283
			transfer_state = 604
			transfer_state = 287
			transfer_state = 619
			transfer_state = 617
			transfer_state = 618
		}
	}
}

country_event = { # Fate of Tibet
	id = shanqing.81
	title = shanqing.81.t
	desc = shanqing.81.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_global_flag = TIAN_west
		has_war = no
		is_puppet = no
		country_exists = TIB
		any_allied_country = { controls_state = 617 }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.81.a

		ai_chance = { factor = 50 }

		add_opinion_modifier = { target = TIB modifier = Tian_neg_TIB } # 10
		hidden_effect = { TIB = { country_event = { id = shanqing.82 days = 1 }}}
	}

	option = {
		name = shanqing.81.b

		ai_chance = { factor = 50 }

		declare_war_on = { target = TIB type = annex_everything	}
	}
}

country_event = { # War with the Tian Empire
	id = shanqing.82
	title = shanqing.82.t
	desc = shanqing.82.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.82.a

		ai_chance = { factor = 20 }

		hidden_effect = { TIB = { country_event = { id = shanqing.83 days = 1 }}}
	}

	option = {
		name = shanqing.82.b

		ai_chance = { factor = 50 }

		hidden_effect = { TIB = { country_event = { id = shanqing.84 days = 1 }}}
	}

	option = {
		name = shanqing.82.c

		ai_chance = { factor = 30 }

		hidden_effect = { TIB = { country_event = { id = shanqing.85 days = 1 }}}
		add_opinion_modifier = { target = TIE modifier = TIB_send_dipl_away } # -50
		add_political_power = -100
	}
}

country_event = { # Tibet gives up
	id = shanqing.83
	title = shanqing.83.t
	desc = shanqing.83.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.83.a

		annex_country = { target = TIB transfer_troops = no }

		every_owned_state = {
			limit = { is_core_of = TIB }

			add_core_of = TIE
		}

		add_political_power = 60
	}
}

country_event = { # Tibet wants to be semi-idependent
	id = shanqing.84
	title = shanqing.84.t
	desc = shanqing.84.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.84.a

		ai_chance = { factor = 15 }

		puppet = TIB

		every_owned_state = {
			limit = { is_core_of = TIB }

			remove_core_of = TIE
			remove_claim_by = TIE
		}

		add_political_power = -20
	}	

	option = {
		name = shanqing.84.b

		ai_chance = { factor = 85 }

		declare_war_on = { target = TIB type = annex_everything	}

		add_political_power = 20
	}
}

country_event = { # Tibetian ignorance
	id = shanqing.85
	title = shanqing.85.t
	desc = shanqing.85.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.85.a

		ai_chance = { factor = 85 }

		declare_war_on = { target = TIB type = annex_everything	}

		add_political_power = 60
	}	

	option = {
		name = shanqing.85.b

		ai_chance = { factor = 15 }

		add_political_power = -60
	}
}

####################
### "Tian dynasty Northern campaign"
####################

country_event = { # Move into Northeastern regions
	id = shanqing.86
	title = shanqing.86.t
	desc = shanqing.86.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	is_triggered_only = yes

	option = {
		name = shanqing.86.a

		ai_chance = { factor = 90 }

		declare_war_on = { target = MAN type = annex_everything	}
		declare_war_on = { target = JAP type = annex_everything	}
	}	

	option = {
		name = shanqing.86.b

		ai_chance = { factor = 10 }

		add_political_power = -100
	}
}

country_event = { # Puyi has been captured
	id = shanqing.87
	title = shanqing.87.t
	desc = shanqing.87.d
	picture = GFX_report_event_spain_civil_war_soldiers
	
	fire_only_once = yes
	
	trigger = {
		tag = TIE
		controls_state = 328
		328 = { is_core_of = MAN }
		NOT = { country_exists = MAN }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.87.a

		every_owned_state = {
			limit = { is_core_of = MAN }

			add_core_of = TIE
		}

		add_political_power = 60

		add_opinion_modifier = { target = GER modifier = Tian_capture_PuYi } # -10
	}	
}

country_event = { # The Port Arthur Declaration
	id = shanqing.89
	title = shanqing.89.t
	desc = shanqing.89.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes
	
	trigger = {
		tag = TIE
		has_war_with = JAP	
		MAN = {
			NOT = {
				controls_state = 716
				controls_state = 328
				controls_state = 717
				controls_state = 714
				controls_state = 715	
			}
		}
		controls_state = 592
		controls_state = 613
		controls_state = 717
		controls_state = 716
		controls_state = 328
		OR = {
			AND = {
				controls_state = 527
				controls_state = 525
			}
			AND = {
				country_exists = KOR
				NOT = { has_war_with = KOR }
				KOR = {
					controls_state = 527
					controls_state = 525
				} 
			}
		}

	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.89.a

		ai_chance = { factor = 99 }

		add_political_power = 60
		hidden_effect = { JAP = { country_event =  { id = shanqing.90 days = 0 }}}
	}

	option = {
		name = shanqing.89.b

		ai_chance = { factor = 1 }

		add_political_power = -100
	}
}

country_event = { # The Fading Sun over Port Arthur
	id = shanqing.90
	title = shanqing.90.t
	desc = shanqing.90.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = shanqing.90.a

		ai_chance = { factor = 100 }

		add_political_power = -120

		white_peace = TIE

		TIE = {
			transfer_state = 612
			transfer_state = 610
			transfer_state = 745
			transfer_state = 524

			add_state_core = 612
			add_state_core = 610
			add_state_core = 745
			add_state_core = 524
		}

		JAP = {
			remove_state_claim = 612
			remove_state_claim = 610
			remove_state_claim = 745
			remove_state_claim = 524
		}

		annex_country = { target = MAN transfer_troops = no }

		every_state = { 
			limit = { is_core_of = MAN } 

			add_core_of = TIE
		}

		JAP = {
			# end_puppet = FOR
			end_puppet = KOR
			end_puppet = HAW
			end_puppet = AST
			end_puppet = TRM
			end_puppet = PHI
		}

		set_global_flag = JAP_ISO
		clr_global_flag = JAP_EXP
		clr_global_flag = JAP_GER1
		clr_global_flag = JAP_GER2
		clr_global_flag = JAP_GER
		clr_global_flag = JAP_RUS_CAMP
		clr_global_flag = JAP_SIB_CAMP
		clr_global_flag = JAP_MON_CAMP
		clr_global_flag = JAP_RUS
		clr_global_flag = JAP_MONRUS_CAMP
		clr_global_flag = JAP_WEAK
		clr_global_flag = JAP_COLONY
		clr_global_flag = JAP_ANZAC
		clr_global_flag = JAP_NUTS

		if = {
			limit = { JAP = { has_war_with = GER }}

			set_global_flag = JAP_Defeated_CSX
		}

		hidden_effect = { TIE = { country_event =  { id = repchi.91 days = 0 }}}
	}

	option = {
		name = shanqing.90.b

		ai_chance = { factor = 0 }

		add_political_power = -400
	}
}

country_event = { # The Fading Sun over Port Arthur
	id = shanqing.91
	title = shanqing.91.t
	desc = shanqing.91.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = shanqing.91.a

		add_political_power = 60

		# annex_country = { target = FOR transfer_troops = no } Formosa/Taiwan

		#every_state = { 
			#limit = { is_core_of = FOR } 

			#add_core_of = CHI
		#}

		JAP = { release = KOR end_puppet = KOR }

		KOR = {
			transfer_state = 527
			transfer_state = 525

			add_state_core = 527
			add_state_core = 525
		}

		set_global_flag = CHI_Crush_JAP

		hidden_effect = { TIE = { country_event =  { id = repchi.92 days = 0 }}}
	}
}

country_event = { # Northern China reunited!
	id = shanqing.92
	title = shanqing.92.t
	desc = shanqing.92.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = shanqing.92.a

		add_political_power = 200
	}
}

####################
### After reunification of inner China
####################

country_event = { # China reunited!
	id = shanqing.93
	title = shanqing.93.t
	desc = shanqing.93.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes
	
	trigger = {
		OR = { tag = TIE }
		has_war = no
		owns_state = 592
		owns_state = 325
		owns_state = 604
		owns_state = 622
		owns_state = 328
		owns_state = 608
		NOT = {
			country_exists = AOG
			country_exists = CHI
			country_exists = FNG
			country_exists = YUN
			country_exists = XSM
		}
		NOT = { has_global_flag = shangqing_26_a }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = shanqing.93.a

		add_political_power = 100
		add_ideas = china_united_tie
		set_global_flag = TIE_united

		hidden_effect = { TIE = { country_event =  { id = repchi.94 days = 1 }}}
	}
}

country_event = { # Research Institutions
	id = shanqing.94
	title = shanqing.94.t
	desc = shanqing.94.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = shanqing.94.a

		ai_chance = { factor = 60 }

		add_timed_idea = { idea = tian_reserach_inst days = 365 }
		set_global_flag = tian_research_inst
	}

	option = {
		name = shanqing.94.a

		ai_chance = { factor = 40 }

		add_political_power = -100
	}
}

### Technology takover

country_event = { 
	id = shanqing.150
	title = shanqing.150.t
	desc = shanqing.150.d

	is_triggered_only = yes
	
	option = {
		name = shanqing.150.a
		hidden_effect = {
		### Air doctrines ####
			if = {
				limit = {FNG = {has_tech = air_superiority} }
				 set_technology = { air_superiority  = 1 } 
			}
		###
			if = {
				limit = {FNG = {has_tech = infrastructure_destruction} }
				set_technology = { infrastructure_destruction  = 1 }
			}
		###	
			if = {
				limit = {FNG = {has_tech = home_defence} }
				set_technology = { home_defence  = 1 }
			}
		###	
			if = {
				limit = {FNG = {has_tech = naval_strike_tactics} }
				set_technology = { naval_strike_tactics  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = fighter_sweeps} }
				set_technology = { fighter_sweeps  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dogfighting_experience} }
				set_technology = { dogfighting_experience  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = multialtitude_flying} }
				set_technology = { multialtitude_flying  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = logistical_bombing} }
				set_technology = { logistical_bombing  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = night_bombing} }
				set_technology = { night_bombing  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = day_bombing} }
				set_technology = { day_bombing  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = massed_bomber_formations} }
				set_technology = { massed_bomber_formations  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = air_offense} }
				set_technology = { air_offense  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = flying_fortress} }
				set_technology = { flying_fortress  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = offensive_formations} }
				set_technology = { offensive_formations  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mass_destruction} }
				set_technology = { mass_destruction  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = formation_flying} }
				set_technology = { formation_flying  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dive_bombing} }
				set_technology = { dive_bombing  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = direct_ground_support} }
				set_technology = { direct_ground_support  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = formation_fighting} }
				set_technology = { formation_fighting  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = fighter_ace_initiative} }
				set_technology = { fighter_ace_initiative  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = hunt_and_destroy} }
				set_technology = { hunt_and_destroy  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = combat_unit_destruction} }
				set_technology = { combat_unit_destruction  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = battlefield_support} }
				set_technology = { battlefield_support  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = keypoint_bombing} }
				set_technology = { keypoint_bombing  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = ground_support_integration} }
				set_technology = { ground_support_integration  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = naval_strike_torpedo_tactics} }
				set_technology = { naval_strike_torpedo_tactics  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = strategic_destruction} }
				set_technology = { strategic_destruction  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = forward_interception} }
				set_technology = { forward_interception  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = force_rotation} }
				set_technology = { force_rotation  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = fighter_baiting} }
				set_technology = { fighter_baiting  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = low_echelon_support} }
				set_technology = { low_echelon_support  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dispersed_fighting} }
				set_technology = { dispersed_fighting  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = operational_destruction} }
				set_technology = { operational_destruction  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = fighter_veteran_initiative} }
				set_technology = { fighter_veteran_initiative  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = naval_strike_torpedo_tactics_oi} }
				set_technology = { naval_strike_torpedo_tactics_oi  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cas_veteran_initiative} }
				set_technology = { cas_veteran_initiative  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = carousel_bombing} }
				set_technology = { carousel_bombing  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infiltration_bombing} }
				set_technology = { infiltration_bombing  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = air_skirmish} }
				set_technology = { air_skirmish  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = high_level_bombing} }
				set_technology = { high_level_bombing  = 1 }
			}
	
		### air techs
			if = {
				limit = {FNG = {has_tech = early_fighter} }
				set_technology = { early_fighter  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_early_fighter} }
				set_technology = { cv_early_fighter  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = fighter1} }
				set_technology = { fighter1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_fighter1} }
				set_technology = { cv_fighter1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = fighter2} }
				set_technology = { fighter2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_fighter2} }
				set_technology = { cv_fighter2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = fighter3} }
				set_technology = { fighter3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_fighter3} }
				set_technology = { cv_fighter3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = jet_fighter1} }
				set_technology = { jet_fighter1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = jet_fighter2} }
				set_technology = { jet_fighter2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = CAS1} }
				set_technology = { CAS1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_CAS1} }
				set_technology = { cv_CAS1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = CAS2} }
				set_technology = { CAS2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_CAS2} }
				set_technology = { cv_CAS2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = CAS3} }
				set_technology = { CAS3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_CAS3} }
				set_technology = { cv_CAS3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = naval_bomber1} }
				set_technology = { naval_bomber1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_naval_bomber1} }
				set_technology = { cv_naval_bomber1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = naval_bomber2} }
				set_technology = { naval_bomber2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_naval_bomber2} }
				set_technology = { cv_naval_bomber2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = naval_bomber3} }
				set_technology = { naval_bomber3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = cv_naval_bomber3} }
				set_technology = { cv_naval_bomber3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = early_bomber} }
				set_technology = { early_bomber  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = heavy_fighter1} }
				set_technology = { heavy_fighter1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = heavy_fighter2} }
				set_technology = { heavy_fighter2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = heavy_fighter3} }
				set_technology = { heavy_fighter3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tactical_bomber1} }
				set_technology = { tactical_bomber1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tactical_bomber2} }
				set_technology = { tactical_bomber2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tactical_bomber3} }
				set_technology = { tactical_bomber3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = jet_tactical_bomber1} }
				set_technology = { jet_tactical_bomber1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = jet_tactical_bomber2} }
				set_technology = { jet_tactical_bomber2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = strategic_bomber1} }
				set_technology = { strategic_bomber1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = strategic_bomber2} }
				set_technology = { strategic_bomber2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = strategic_bomber3} }
				set_technology = { strategic_bomber3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = jet_strategic_bomber1} }
				set_technology = { jet_strategic_bomber1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = suicide_craft} }
				set_technology = { suicide_craft  = 1 }
			}
		### Armour techs
			if = {
				limit = {FNG = {has_tech = gwtank} }
				set_technology = { gwtank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_light_tank} }
				set_technology = { basic_light_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_light_td} }
				set_technology = { basic_light_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_light_art} }
				set_technology = { basic_light_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_light_spaa} }
				set_technology = { basic_light_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_light_tank} }
				set_technology = { improved_light_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_light_td} }
				set_technology = { improved_light_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_light_art} }
				set_technology = { improved_light_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_light_spaa} }
				set_technology = { improved_light_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_light_tank} }
				set_technology = { advanced_light_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_light_td} }
				set_technology = { advanced_light_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_light_art} }
				set_technology = { advanced_light_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_light_spaa} }
				set_technology = { advanced_light_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_medium_tank} }
				set_technology = { basic_medium_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_medium_td} }
				set_technology = { basic_medium_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_medium_art} }
				set_technology = { basic_medium_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_medium_spaa} }
				set_technology = { basic_medium_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_medium_tank} }
				set_technology = { improved_medium_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_medium_td} }
				set_technology = { improved_medium_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_medium_art} }
				set_technology = { improved_medium_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_medium_spaa} }
				set_technology = { improved_medium_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_medium_tank} }
				set_technology = { advanced_medium_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_medium_td} }
				set_technology = { advanced_medium_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_medium_art} }
				set_technology = { advanced_medium_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_medium_spaa} }
				set_technology = { advanced_medium_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = main_battle_tank} }
				set_technology = { main_battle_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = modern_td} }
				set_technology = { modern_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = modern_art} }
				set_technology = { modern_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = modern_spaa} }
				set_technology = { modern_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_heavy_tank} }
				set_technology = { basic_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_heavy_td} }
				set_technology = { basic_heavy_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_heavy_art} }
				set_technology = { basic_heavy_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_heavy_spaa} }
				set_technology = { basic_heavy_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_heavy_tank} }
				set_technology = { improved_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_heavy_td} }
				set_technology = { improved_heavy_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_heavy_art} }
				set_technology = { improved_heavy_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_heavy_spaa} }
				set_technology = { improved_heavy_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_heavy_tank} }
				set_technology = { advanced_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_heavy_td} }
				set_technology = { advanced_heavy_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_heavy_art} }
				set_technology = { advanced_heavy_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_heavy_spaa} }
				set_technology = { advanced_heavy_spaa  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = super_heavy_tank} }
				set_technology = { super_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = super_heavy_td} }
				set_technology = { super_heavy_td  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = super_heavy_art} }
				set_technology = { super_heavy_art  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = super_heavy_spaa} }
				set_technology = { super_heavy_spaa  = 1 }
			}
		### Art techs
			if = {
				limit = {FNG = {has_tech = gw_artillery} }
				set_technology = { gw_artillery  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = interwar_artillery} }
				set_technology = { interwar_artillery  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = artillery1} }
				set_technology = { artillery1  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = artillery2} }
				set_technology = { artillery2  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = artillery3} }
				set_technology = { artillery3  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = artillery4} }
				set_technology = { artillery4  = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = artillery5} }
				set_technology = { artillery5 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = rocket_artillery} }
				set_technology = { rocket_artillery = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = rocket_artillery2} }
				set_technology = { rocket_artillery2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = rocket_artillery3} }
				set_technology = { rocket_artillery3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = rocket_artillery4} }
				set_technology = { rocket_artillery4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = interwar_antiair} }
				set_technology = { interwar_antiair = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antiair2} }
				set_technology = { antiair2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antiair3} }
				set_technology = { antiair3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antiair4} }
				set_technology = { antiair4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antiair4} }
				set_technology = { antiair4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antiair5} }
				set_technology = { antiair5 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = interwar_antitank} }
				set_technology = { interwar_antitank = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antitank1} }
				set_technology = { antitank1 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antitank2} }
				set_technology = { antitank2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antitank3} }
				set_technology = { antitank3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antitank4} }
				set_technology = { antitank4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = antitank5} }
				set_technology = { antitank5 = 1 }
			}
		### electronic mechanical engineering
			if = {
				limit = {FNG = {has_tech = electronic_mechanical_engineering} }
				set_technology = { electronic_mechanical_engineering = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = radio} }
				set_technology = { radio = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = radio_detection} }
				set_technology = { radio_detection = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = decimetric_radar} }
				set_technology = { decimetric_radar = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_decimetric_radar} }
				set_technology = { improved_decimetric_radar = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = centimetric_radar} }
				set_technology = { centimetric_radar = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_centimetric_radar} }
				set_technology = { improved_centimetric_radar = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_centimetric_radar} }
				set_technology = { advanced_centimetric_radar = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mechanical_computing} }
				set_technology = { mechanical_computing = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = computing_machine} }
				set_technology = { computing_machine = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_computing_machine} }
				set_technology = { improved_computing_machine = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_computing_machine} }
				set_technology = { advanced_computing_machine = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_encryption} }
				set_technology = { basic_encryption = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_encryption} }
				set_technology = { improved_encryption = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_encryption} }
				set_technology = { advanced_encryption = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_decryption} }
				set_technology = { basic_decryption = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_decryption} }
				set_technology = { improved_decryption = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_decryption} }
				set_technology = { advanced_decryption = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = experimental_rockets} }
				set_technology = { experimental_rockets = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = rocket_engines} }
				set_technology = { rocket_engines = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_rocket_engines} }
				set_technology = { improved_rocket_engines = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_rocket_engines} }
				set_technology = { advanced_rocket_engines = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = jet_engines} }
				set_technology = { jet_engines = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = atomic_research} }
				set_technology = { atomic_research = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = nuclear_reactor} }
				set_technology = { nuclear_reactor = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = nukes} }
				set_technology = { nukes = 1 }
			}
		### industry
			if = {
				limit = {FNG = {has_tech = basic_machine_tools} }
				set_technology = { basic_machine_tools = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_machine_tools} }
				set_technology = { improved_machine_tools = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_machine_tools} }
				set_technology = { advanced_machine_tools = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = assembly_line_production} }
				set_technology = { assembly_line_production = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = flexible_line} }
				set_technology = { flexible_line = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = streamlined_line} }
				set_technology = { streamlined_line = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = concentrated_industry} }
				set_technology = { concentrated_industry = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = concentrated_industry2} }
				set_technology = { concentrated_industry2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = concentrated_industry3} }
				set_technology = { concentrated_industry3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = concentrated_industry4} }
				set_technology = { concentrated_industry4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = concentrated_industry5} }
				set_technology = { concentrated_industry5 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dispersed_industry} }
				set_technology = { dispersed_industry = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dispersed_industry2} }
				set_technology = { dispersed_industry2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dispersed_industry3} }
				set_technology = { dispersed_industry3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dispersed_industry4} }
				set_technology = { dispersed_industry4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dispersed_industry5} }
				set_technology = { dispersed_industry5 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = synth_oil_experiments} }
				set_technology = { synth_oil_experiments = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = oil_plant} }
				set_technology = { oil_plant = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_oil_plant} }
				set_technology = { improved_oil_plant = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_oil_plant} }
				set_technology = { advanced_oil_plant = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = construction1} }
				set_technology = { construction1 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = excavation1} }
				set_technology = { excavation1 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = construction2} }
				set_technology = { construction2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = excavation2} }
				set_technology = { excavation2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = construction3} }
				set_technology = { construction3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = excavation3} }
				set_technology = { excavation3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = construction4} }
				set_technology = { construction4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = excavation4} }
				set_technology = { excavation4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = construction5} }
				set_technology = { construction5 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = excavation5} }
				set_technology = { excavation5 = 1 }
			}
		### infantry
			if = {
				limit = {FNG = {has_tech = infantry_weapons} }
				set_technology = { infantry_weapons = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infantry_weapons1} }
				set_technology = { infantry_weapons1 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infantry_weapons2} }
				set_technology = { infantry_weapons2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_infantry_weapons} }
				set_technology = { improved_infantry_weapons = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_infantry_weapons_2} }
				set_technology = { improved_infantry_weapons_2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infantry_at} }
				set_technology = { infantry_at = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infantry_at2} }
				set_technology = { infantry_at2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_infantry_weapons} }
				set_technology = { advanced_infantry_weapons = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_infantry_weapons2} }
				set_technology = { advanced_infantry_weapons2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = paratroopers} }
				set_technology = { paratroopers = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = paratroopers2} }
				set_technology = { paratroopers2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = paratroopers3} }
				set_technology = { paratroopers3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = marines} }
				set_technology = { marines = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = marines2} }
				set_technology = { marines2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = marines3} }
				set_technology = { marines3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_mountaineers} }
				set_technology = { tech_mountaineers = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_mountaineers2} }
				set_technology = { tech_mountaineers2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_mountaineers3} }
				set_technology = { tech_mountaineers3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = night_vision} }
				set_technology = { night_vision = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = night_vision2} }
				set_technology = { night_vision2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = support_weapons} }
				set_technology = { support_weapons = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = support_weapons2} }
				set_technology = { support_weapons2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = support_weapons3} }
				set_technology = { support_weapons3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = support_weapons4} }
				set_technology = { support_weapons4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = motorised_infantry} }
				set_technology = { motorised_infantry = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = motorized_rocket_unit} }
				set_technology = { motorized_rocket_unit = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mechanised_infantry} }
				set_technology = { mechanised_infantry = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mechanised_infantry2} }
				set_technology = { mechanised_infantry2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mechanised_infantry3} }
				set_technology = { mechanised_infantry3 = 1 }
			}
		###	land_doctrines
			if = {
				limit = {FNG = {has_tech = mobile_warfare} }
				set_technology = { mobile_warfare = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = delay} }
				set_technology = { delay = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = elastic_defence} }
				set_technology = { elastic_defence = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mobile_infantry} }
				set_technology = { mobile_infantry = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mass_motorization} }
				set_technology = { mass_motorization = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mechanised_offensive} }
				set_technology = { mechanised_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = armored_spearhead} }
				set_technology = { armored_spearhead = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = schwerpunk} }
				set_technology = { schwerpunk = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = blitzkrieg} }
				set_technology = { blitzkrieg = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = kampfgruppe} }
				set_technology = { kampfgruppe = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = firebrigades} }
				set_technology = { firebrigades = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = backhand_blow} }
				set_technology = { backhand_blow = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = modern_blitzkrieg} }
				set_technology = { modern_blitzkrieg = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = volkssturm} }
				set_technology = { volkssturm = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = nd_conscription} }
				set_technology = { nd_conscription = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = werwolf_guerillas} }
				set_technology = { werwolf_guerillas = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = superior_firepower} }
				set_technology = { superior_firepower = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = sup_delay} }
				set_technology = { sup_delay = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mobile_defence} }
				set_technology = { mobile_defence = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = intergrated_support} }
				set_technology = { intergrated_support = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = regimental_combat_teams} }
				set_technology = { regimental_combat_teams = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = dispersed_support} }
				set_technology = { dispersed_support = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = overwhelming_firepower} }
				set_technology = { overwhelming_firepower = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = sup_mechanized_offensive} }
				set_technology = { sup_mechanized_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = concentrated_fire_plans} }
				set_technology = { concentrated_fire_plans = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = combined_arms} }
				set_technology = { combined_arms = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tactical_control} }
				set_technology = { tactical_control = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = air_land_battle} }
				set_technology = { air_land_battle = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = centralized_fire_control} }
				set_technology = { centralized_fire_control = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = forward_observers} }
				set_technology = { forward_observers = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_firebases} }
				set_technology = { advanced_firebases = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = shock_and_awe} }
				set_technology = { shock_and_awe = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = trench_warfare} }
				set_technology = { trench_warfare = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = grand_battle_plan} }
				set_technology = { grand_battle_plan = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = prepared_defense} }
				set_technology = { prepared_defense = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = grand_assault} }
				set_technology = { grand_assault = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = grand_mechanized_offensive} }
				set_technology = { grand_mechanized_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = assault_concentration} }
				set_technology = { assault_concentration = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = branch_interoperation} }
				set_technology = { branch_interoperation = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = assault_breakthrough} }
				set_technology = { assault_breakthrough = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = central_planning} }
				set_technology = { central_planning = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = c3i_theory} }
				set_technology = { c3i_theory = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infantry_offensive} }
				set_technology = { infantry_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = armored_operations} }
				set_technology = { armored_operations = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infiltration_assault} }
				set_technology = { infiltration_assault = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = night_assault_tactics} }
				set_technology = { night_assault_tactics = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = attritional_containment} }
				set_technology = { attritional_containment = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = infiltration_in_depth} }
				set_technology = { infiltration_in_depth = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mass_assault} }
				set_technology = { mass_assault = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = pocket_defence} }
				set_technology = { pocket_defence = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = defence_in_depth} }
				set_technology = { defence_in_depth = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = large_front_operations} }
				set_technology = { large_front_operations = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = deep_operations} }
				set_technology = { deep_operations = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = operational_concentration} }
				set_technology = { operational_concentration = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = vast_offensives} }
				set_technology = { vast_offensives = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = breakthrough_priority} }
				set_technology = { breakthrough_priority = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = mechanized_wave} }
				set_technology = { mechanized_wave = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = continuous_offensive} }
				set_technology = { continuous_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = peoples_army} }
				set_technology = { peoples_army = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = human_infantry_offensive} }
				set_technology = { human_infantry_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = large_front_offensive} }
				set_technology = { large_front_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = human_wave_offensive} }
				set_technology = { human_wave_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = guerilla_warfare} }
				set_technology = { guerilla_warfare = 1 }
			}
		### naval
			if = {
				limit = {FNG = {has_tech = early_destroyer} }
				set_technology = { early_destroyer = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_destroyer} }
				set_technology = { basic_destroyer = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_destroyer} }
				set_technology = { improved_destroyer = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_destroyer} }
				set_technology = { advanced_destroyer = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = early_light_cruiser} }
				set_technology = { early_light_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_light_cruiser} }
				set_technology = { basic_light_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_light_cruiser} }
				set_technology = { improved_light_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_light_cruiser} }
				set_technology = { advanced_light_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = early_heavy_cruiser} }
				set_technology = { early_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_heavy_cruiser} }
				set_technology = { basic_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_heavy_cruiser} }
				set_technology = { improved_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_heavy_cruiser} }
				set_technology = { advanced_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = early_battlecruiser} }
				set_technology = { early_battlecruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_battlecruiser} }
				set_technology = { basic_battlecruiser = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = early_battleship} }
				set_technology = { early_battleship = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_battleship} }
				set_technology = { basic_battleship = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_battleship} }
				set_technology = { improved_battleship = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_battleship} }
				set_technology = { advanced_battleship = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = heavy_battleship} }
				set_technology = { heavy_battleship = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = heavy_battleship2} }
				set_technology = { heavy_battleship2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = transport} }
				set_technology = { transport = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = landing_craft} }
				set_technology = { landing_craft = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tank_landing_craft} }
				set_technology = { tank_landing_craft = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = early_carrier} }
				set_technology = { early_carrier = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_carrier} }
				set_technology = { basic_carrier = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_carrier} }
				set_technology = { improved_carrier = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_carrier} }
				set_technology = { advanced_carrier = 1 }
			}
		###	
		if = {
				limit = {FNG = {has_tech = early_submarine} }
				set_technology = { early_submarine = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = basic_submarine} }
				set_technology = { basic_submarine = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = improved_submarine} }
				set_technology = { improved_submarine = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_submarine} }
				set_technology = { advanced_submarine = 1 }
			}
		### naval doctrine
			if = {
				limit = {FNG = {has_tech = fleet_in_being} }
				set_technology = { fleet_in_being = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = battlefleet_concentration} }
				set_technology = { battlefleet_concentration = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = subsidiary_carrier_role} }
				set_technology = { subsidiary_carrier_role = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = hunter_killer_groups} }
				set_technology = { hunter_killer_groups = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = floating_fortress} }
				set_technology = { floating_fortress = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = floating_airfield} }
				set_technology = { floating_airfield = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = grand_battlefleet} }
				set_technology = { grand_battlefleet = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_sailing} }
				set_technology = { convoy_sailing = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_escorts} }
				set_technology = { convoy_escorts = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = escort_carriers} }
				set_technology = { escort_carriers = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = integrated_convoy_defence} }
				set_technology = { integrated_convoy_defence = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = submarine_operations} }
				set_technology = { submarine_operations = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = undersea_blockade} }
				set_technology = { undersea_blockade = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_interdiction} }
				set_technology = { convoy_interdiction = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = submarine_offensive} }
				set_technology = { submarine_offensive = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = trade_interdiction} }
				set_technology = { trade_interdiction = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_interdiction_ti} }
				set_technology = { convoy_interdiction_ti = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = unrestricted_submarine_warfare} }
				set_technology = { unrestricted_submarine_warfare = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = wolfpacks} }
				set_technology = { wolfpacks = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = advanced_submarine_warfare} }
				set_technology = { advanced_submarine_warfare = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = combined_operations_raiding} }
				set_technology = { combined_operations_raiding = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = raider_patrols} }
				set_technology = { raider_patrols = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = capital_ship_raiders} }
				set_technology = { capital_ship_raiders = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = battlefleet_concentration_ti} }
				set_technology = { battlefleet_concentration_ti = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = floating_fortress_ti} }
				set_technology = { floating_fortress_ti = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = floating_airfield_ti} }
				set_technology = { floating_airfield_ti = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = carrier_operations} }
				set_technology = { carrier_operations = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_sailing_ti} }
				set_technology = { convoy_sailing_ti = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = subsidiary_carrier_role_ti} }
				set_technology = { subsidiary_carrier_role_ti = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = naval_air_operations} }
				set_technology = { naval_air_operations = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = base_strike} }
				set_technology = { base_strike = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = carrier_primacy} }
				set_technology = { carrier_primacy = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = carrier_task_forces} }
				set_technology = { carrier_task_forces = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = floating_airfield_bs} }
				set_technology = { floating_airfield_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = massed_strikes} }
				set_technology = { massed_strikes = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = floating_fortress_bs} }
				set_technology = { floating_fortress_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = carrier_battlegroups} }
				set_technology = { carrier_battlegroups = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = submarine_operations_bs} }
				set_technology = { submarine_operations_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = undersea_blockade_bs} }
				set_technology = { undersea_blockade_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_interdiction_bs} }
				set_technology = { convoy_interdiction_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = submarine_offensive_bs} }
				set_technology = { submarine_offensive_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_escorts_bs} }
				set_technology = { convoy_escorts_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = escort_patrols} }
				set_technology = { escort_patrols = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = convoy_sailing_bs} }
				set_technology = { convoy_sailing_bs = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = integrated_convoy_defence_bs} }
				set_technology = { integrated_convoy_defence_bs = 1 }
			}
		### support
			if = {
				limit = {FNG = {has_tech = tech_support} }
				set_technology = { tech_support = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_engineers} }
				set_technology = { tech_engineers = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_engineers2} }
				set_technology = { tech_engineers2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_engineers3} }
				set_technology = { tech_engineers3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_engineers4} }
				set_technology = { tech_engineers4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_recon} }
				set_technology = { tech_recon = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_recon2} }
				set_technology = { tech_recon2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_recon3} }
				set_technology = { tech_recon3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_recon4} }
				set_technology = { tech_recon4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_military_police} }
				set_technology = { tech_military_police = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_military_police2} }
				set_technology = { tech_military_police2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_military_police3} }
				set_technology = { tech_military_police3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_military_police4} }
				set_technology = { tech_military_police4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_maintenance_company} }
				set_technology = { tech_maintenance_company = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_maintenance_company2} }
				set_technology = { tech_maintenance_company2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_maintenance_company3} }
				set_technology = { tech_maintenance_company3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_maintenance_company4} }
				set_technology = { tech_maintenance_company4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_field_hospital} }
				set_technology = { tech_field_hospital = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_field_hospital2} }
				set_technology = { tech_field_hospital2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_field_hospital3} }
				set_technology = { tech_field_hospital3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_field_hospital4} }
				set_technology = { tech_field_hospital4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_logistics_company} }
				set_technology = { tech_logistics_company = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_logistics_company2} }
				set_technology = { tech_logistics_company2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_logistics_company3} }
				set_technology = { tech_logistics_company3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_logistics_company4} }
				set_technology = { tech_logistics_company4 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_signal_company} }
				set_technology = { tech_signal_company = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_signal_company2} }
				set_technology = { tech_signal_company2 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_signal_company3} }
				set_technology = { tech_signal_company3 = 1 }
			}
		###
			if = {
				limit = {FNG = {has_tech = tech_signal_company4} }
				set_technology = { tech_signal_company4 = 1 }
			}
		###
	}
	}
}

country_event = { 
	id = shanqing.151
	title = shanqing.151.t
	desc = shanqing.151.d

	is_triggered_only = yes
	
	option = {
		name = shanqing.151.a
		hidden_effect = {
		### Air doctrines ####
			if = {
				limit = {SQI = {has_tech = air_superiority} }
				 set_technology = { air_superiority  = 1 } 
			}
		###
			if = {
				limit = {SQI = {has_tech = infrastructure_destruction} }
				set_technology = { infrastructure_destruction  = 1 }
			}
		###	
			if = {
				limit = {SQI = {has_tech = home_defence} }
				set_technology = { home_defence  = 1 }
			}
		###	
			if = {
				limit = {SQI = {has_tech = naval_strike_tactics} }
				set_technology = { naval_strike_tactics  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = fighter_sweeps} }
				set_technology = { fighter_sweeps  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dogfighting_experience} }
				set_technology = { dogfighting_experience  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = multialtitude_flying} }
				set_technology = { multialtitude_flying  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = logistical_bombing} }
				set_technology = { logistical_bombing  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = night_bombing} }
				set_technology = { night_bombing  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = day_bombing} }
				set_technology = { day_bombing  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = massed_bomber_formations} }
				set_technology = { massed_bomber_formations  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = air_offense} }
				set_technology = { air_offense  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = flying_fortress} }
				set_technology = { flying_fortress  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = offensive_formations} }
				set_technology = { offensive_formations  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mass_destruction} }
				set_technology = { mass_destruction  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = formation_flying} }
				set_technology = { formation_flying  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dive_bombing} }
				set_technology = { dive_bombing  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = direct_ground_support} }
				set_technology = { direct_ground_support  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = formation_fighting} }
				set_technology = { formation_fighting  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = fighter_ace_initiative} }
				set_technology = { fighter_ace_initiative  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = hunt_and_destroy} }
				set_technology = { hunt_and_destroy  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = combat_unit_destruction} }
				set_technology = { combat_unit_destruction  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = battlefield_support} }
				set_technology = { battlefield_support  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = keypoint_bombing} }
				set_technology = { keypoint_bombing  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = ground_support_integration} }
				set_technology = { ground_support_integration  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = naval_strike_torpedo_tactics} }
				set_technology = { naval_strike_torpedo_tactics  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = strategic_destruction} }
				set_technology = { strategic_destruction  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = forward_interception} }
				set_technology = { forward_interception  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = force_rotation} }
				set_technology = { force_rotation  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = fighter_baiting} }
				set_technology = { fighter_baiting  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = low_echelon_support} }
				set_technology = { low_echelon_support  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dispersed_fighting} }
				set_technology = { dispersed_fighting  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = operational_destruction} }
				set_technology = { operational_destruction  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = fighter_veteran_initiative} }
				set_technology = { fighter_veteran_initiative  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = naval_strike_torpedo_tactics_oi} }
				set_technology = { naval_strike_torpedo_tactics_oi  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cas_veteran_initiative} }
				set_technology = { cas_veteran_initiative  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = carousel_bombing} }
				set_technology = { carousel_bombing  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infiltration_bombing} }
				set_technology = { infiltration_bombing  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = air_skirmish} }
				set_technology = { air_skirmish  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = high_level_bombing} }
				set_technology = { high_level_bombing  = 1 }
			}
	
		### air techs
			if = {
				limit = {SQI = {has_tech = early_fighter} }
				set_technology = { early_fighter  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_early_fighter} }
				set_technology = { cv_early_fighter  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = fighter1} }
				set_technology = { fighter1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_fighter1} }
				set_technology = { cv_fighter1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = fighter2} }
				set_technology = { fighter2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_fighter2} }
				set_technology = { cv_fighter2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = fighter3} }
				set_technology = { fighter3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_fighter3} }
				set_technology = { cv_fighter3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = jet_fighter1} }
				set_technology = { jet_fighter1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = jet_fighter2} }
				set_technology = { jet_fighter2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = CAS1} }
				set_technology = { CAS1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_CAS1} }
				set_technology = { cv_CAS1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = CAS2} }
				set_technology = { CAS2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_CAS2} }
				set_technology = { cv_CAS2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = CAS3} }
				set_technology = { CAS3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_CAS3} }
				set_technology = { cv_CAS3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = naval_bomber1} }
				set_technology = { naval_bomber1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_naval_bomber1} }
				set_technology = { cv_naval_bomber1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = naval_bomber2} }
				set_technology = { naval_bomber2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_naval_bomber2} }
				set_technology = { cv_naval_bomber2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = naval_bomber3} }
				set_technology = { naval_bomber3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = cv_naval_bomber3} }
				set_technology = { cv_naval_bomber3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = early_bomber} }
				set_technology = { early_bomber  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = heavy_fighter1} }
				set_technology = { heavy_fighter1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = heavy_fighter2} }
				set_technology = { heavy_fighter2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = heavy_fighter3} }
				set_technology = { heavy_fighter3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tactical_bomber1} }
				set_technology = { tactical_bomber1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tactical_bomber2} }
				set_technology = { tactical_bomber2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tactical_bomber3} }
				set_technology = { tactical_bomber3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = jet_tactical_bomber1} }
				set_technology = { jet_tactical_bomber1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = jet_tactical_bomber2} }
				set_technology = { jet_tactical_bomber2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = strategic_bomber1} }
				set_technology = { strategic_bomber1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = strategic_bomber2} }
				set_technology = { strategic_bomber2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = strategic_bomber3} }
				set_technology = { strategic_bomber3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = jet_strategic_bomber1} }
				set_technology = { jet_strategic_bomber1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = suicide_craft} }
				set_technology = { suicide_craft  = 1 }
			}
		### Armour techs
			if = {
				limit = {SQI = {has_tech = gwtank} }
				set_technology = { gwtank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_light_tank} }
				set_technology = { basic_light_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_light_td} }
				set_technology = { basic_light_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_light_art} }
				set_technology = { basic_light_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_light_spaa} }
				set_technology = { basic_light_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_light_tank} }
				set_technology = { improved_light_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_light_td} }
				set_technology = { improved_light_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_light_art} }
				set_technology = { improved_light_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_light_spaa} }
				set_technology = { improved_light_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_light_tank} }
				set_technology = { advanced_light_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_light_td} }
				set_technology = { advanced_light_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_light_art} }
				set_technology = { advanced_light_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_light_spaa} }
				set_technology = { advanced_light_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_medium_tank} }
				set_technology = { basic_medium_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_medium_td} }
				set_technology = { basic_medium_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_medium_art} }
				set_technology = { basic_medium_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_medium_spaa} }
				set_technology = { basic_medium_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_medium_tank} }
				set_technology = { improved_medium_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_medium_td} }
				set_technology = { improved_medium_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_medium_art} }
				set_technology = { improved_medium_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_medium_spaa} }
				set_technology = { improved_medium_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_medium_tank} }
				set_technology = { advanced_medium_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_medium_td} }
				set_technology = { advanced_medium_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_medium_art} }
				set_technology = { advanced_medium_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_medium_spaa} }
				set_technology = { advanced_medium_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = main_battle_tank} }
				set_technology = { main_battle_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = modern_td} }
				set_technology = { modern_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = modern_art} }
				set_technology = { modern_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = modern_spaa} }
				set_technology = { modern_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_heavy_tank} }
				set_technology = { basic_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_heavy_td} }
				set_technology = { basic_heavy_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_heavy_art} }
				set_technology = { basic_heavy_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_heavy_spaa} }
				set_technology = { basic_heavy_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_heavy_tank} }
				set_technology = { improved_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_heavy_td} }
				set_technology = { improved_heavy_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_heavy_art} }
				set_technology = { improved_heavy_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_heavy_spaa} }
				set_technology = { improved_heavy_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_heavy_tank} }
				set_technology = { advanced_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_heavy_td} }
				set_technology = { advanced_heavy_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_heavy_art} }
				set_technology = { advanced_heavy_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_heavy_spaa} }
				set_technology = { advanced_heavy_spaa  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = super_heavy_tank} }
				set_technology = { super_heavy_tank  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = super_heavy_td} }
				set_technology = { super_heavy_td  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = super_heavy_art} }
				set_technology = { super_heavy_art  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = super_heavy_spaa} }
				set_technology = { super_heavy_spaa  = 1 }
			}
		### Art techs
			if = {
				limit = {SQI = {has_tech = gw_artillery} }
				set_technology = { gw_artillery  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = interwar_artillery} }
				set_technology = { interwar_artillery  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = artillery1} }
				set_technology = { artillery1  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = artillery2} }
				set_technology = { artillery2  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = artillery3} }
				set_technology = { artillery3  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = artillery4} }
				set_technology = { artillery4  = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = artillery5} }
				set_technology = { artillery5 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = rocket_artillery} }
				set_technology = { rocket_artillery = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = rocket_artillery2} }
				set_technology = { rocket_artillery2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = rocket_artillery3} }
				set_technology = { rocket_artillery3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = rocket_artillery4} }
				set_technology = { rocket_artillery4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = interwar_antiair} }
				set_technology = { interwar_antiair = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antiair2} }
				set_technology = { antiair2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antiair3} }
				set_technology = { antiair3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antiair4} }
				set_technology = { antiair4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antiair4} }
				set_technology = { antiair4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antiair5} }
				set_technology = { antiair5 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = interwar_antitank} }
				set_technology = { interwar_antitank = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antitank1} }
				set_technology = { antitank1 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antitank2} }
				set_technology = { antitank2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antitank3} }
				set_technology = { antitank3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antitank4} }
				set_technology = { antitank4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = antitank5} }
				set_technology = { antitank5 = 1 }
			}
		### electronic mechanical engineering
			if = {
				limit = {SQI = {has_tech = electronic_mechanical_engineering} }
				set_technology = { electronic_mechanical_engineering = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = radio} }
				set_technology = { radio = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = radio_detection} }
				set_technology = { radio_detection = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = decimetric_radar} }
				set_technology = { decimetric_radar = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_decimetric_radar} }
				set_technology = { improved_decimetric_radar = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = centimetric_radar} }
				set_technology = { centimetric_radar = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_centimetric_radar} }
				set_technology = { improved_centimetric_radar = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_centimetric_radar} }
				set_technology = { advanced_centimetric_radar = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mechanical_computing} }
				set_technology = { mechanical_computing = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = computing_machine} }
				set_technology = { computing_machine = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_computing_machine} }
				set_technology = { improved_computing_machine = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_computing_machine} }
				set_technology = { advanced_computing_machine = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_encryption} }
				set_technology = { basic_encryption = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_encryption} }
				set_technology = { improved_encryption = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_encryption} }
				set_technology = { advanced_encryption = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_decryption} }
				set_technology = { basic_decryption = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_decryption} }
				set_technology = { improved_decryption = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_decryption} }
				set_technology = { advanced_decryption = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = experimental_rockets} }
				set_technology = { experimental_rockets = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = rocket_engines} }
				set_technology = { rocket_engines = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_rocket_engines} }
				set_technology = { improved_rocket_engines = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_rocket_engines} }
				set_technology = { advanced_rocket_engines = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = jet_engines} }
				set_technology = { jet_engines = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = atomic_research} }
				set_technology = { atomic_research = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = nuclear_reactor} }
				set_technology = { nuclear_reactor = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = nukes} }
				set_technology = { nukes = 1 }
			}
		### industry
			if = {
				limit = {SQI = {has_tech = basic_machine_tools} }
				set_technology = { basic_machine_tools = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_machine_tools} }
				set_technology = { improved_machine_tools = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_machine_tools} }
				set_technology = { advanced_machine_tools = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = assembly_line_production} }
				set_technology = { assembly_line_production = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = flexible_line} }
				set_technology = { flexible_line = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = streamlined_line} }
				set_technology = { streamlined_line = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = concentrated_industry} }
				set_technology = { concentrated_industry = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = concentrated_industry2} }
				set_technology = { concentrated_industry2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = concentrated_industry3} }
				set_technology = { concentrated_industry3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = concentrated_industry4} }
				set_technology = { concentrated_industry4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = concentrated_industry5} }
				set_technology = { concentrated_industry5 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dispersed_industry} }
				set_technology = { dispersed_industry = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dispersed_industry2} }
				set_technology = { dispersed_industry2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dispersed_industry3} }
				set_technology = { dispersed_industry3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dispersed_industry4} }
				set_technology = { dispersed_industry4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dispersed_industry5} }
				set_technology = { dispersed_industry5 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = synth_oil_experiments} }
				set_technology = { synth_oil_experiments = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = oil_plant} }
				set_technology = { oil_plant = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_oil_plant} }
				set_technology = { improved_oil_plant = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_oil_plant} }
				set_technology = { advanced_oil_plant = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = construction1} }
				set_technology = { construction1 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = excavation1} }
				set_technology = { excavation1 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = construction2} }
				set_technology = { construction2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = excavation2} }
				set_technology = { excavation2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = construction3} }
				set_technology = { construction3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = excavation3} }
				set_technology = { excavation3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = construction4} }
				set_technology = { construction4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = excavation4} }
				set_technology = { excavation4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = construction5} }
				set_technology = { construction5 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = excavation5} }
				set_technology = { excavation5 = 1 }
			}
		### infantry
			if = {
				limit = {SQI = {has_tech = infantry_weapons} }
				set_technology = { infantry_weapons = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infantry_weapons1} }
				set_technology = { infantry_weapons1 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infantry_weapons2} }
				set_technology = { infantry_weapons2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_infantry_weapons} }
				set_technology = { improved_infantry_weapons = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_infantry_weapons_2} }
				set_technology = { improved_infantry_weapons_2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infantry_at} }
				set_technology = { infantry_at = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infantry_at2} }
				set_technology = { infantry_at2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_infantry_weapons} }
				set_technology = { advanced_infantry_weapons = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_infantry_weapons2} }
				set_technology = { advanced_infantry_weapons2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = paratroopers} }
				set_technology = { paratroopers = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = paratroopers2} }
				set_technology = { paratroopers2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = paratroopers3} }
				set_technology = { paratroopers3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = marines} }
				set_technology = { marines = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = marines2} }
				set_technology = { marines2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = marines3} }
				set_technology = { marines3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_mountaineers} }
				set_technology = { tech_mountaineers = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_mountaineers2} }
				set_technology = { tech_mountaineers2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_mountaineers3} }
				set_technology = { tech_mountaineers3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = night_vision} }
				set_technology = { night_vision = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = night_vision2} }
				set_technology = { night_vision2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = support_weapons} }
				set_technology = { support_weapons = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = support_weapons2} }
				set_technology = { support_weapons2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = support_weapons3} }
				set_technology = { support_weapons3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = support_weapons4} }
				set_technology = { support_weapons4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = motorised_infantry} }
				set_technology = { motorised_infantry = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = motorized_rocket_unit} }
				set_technology = { motorized_rocket_unit = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mechanised_infantry} }
				set_technology = { mechanised_infantry = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mechanised_infantry2} }
				set_technology = { mechanised_infantry2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mechanised_infantry3} }
				set_technology = { mechanised_infantry3 = 1 }
			}
		###	land_doctrines
			if = {
				limit = {SQI = {has_tech = mobile_warfare} }
				set_technology = { mobile_warfare = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = delay} }
				set_technology = { delay = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = elastic_defence} }
				set_technology = { elastic_defence = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mobile_infantry} }
				set_technology = { mobile_infantry = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mass_motorization} }
				set_technology = { mass_motorization = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mechanised_offensive} }
				set_technology = { mechanised_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = armored_spearhead} }
				set_technology = { armored_spearhead = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = schwerpunk} }
				set_technology = { schwerpunk = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = blitzkrieg} }
				set_technology = { blitzkrieg = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = kampfgruppe} }
				set_technology = { kampfgruppe = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = firebrigades} }
				set_technology = { firebrigades = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = backhand_blow} }
				set_technology = { backhand_blow = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = modern_blitzkrieg} }
				set_technology = { modern_blitzkrieg = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = volkssturm} }
				set_technology = { volkssturm = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = nd_conscription} }
				set_technology = { nd_conscription = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = werwolf_guerillas} }
				set_technology = { werwolf_guerillas = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = superior_firepower} }
				set_technology = { superior_firepower = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = sup_delay} }
				set_technology = { sup_delay = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mobile_defence} }
				set_technology = { mobile_defence = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = intergrated_support} }
				set_technology = { intergrated_support = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = regimental_combat_teams} }
				set_technology = { regimental_combat_teams = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = dispersed_support} }
				set_technology = { dispersed_support = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = overwhelming_firepower} }
				set_technology = { overwhelming_firepower = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = sup_mechanized_offensive} }
				set_technology = { sup_mechanized_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = concentrated_fire_plans} }
				set_technology = { concentrated_fire_plans = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = combined_arms} }
				set_technology = { combined_arms = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tactical_control} }
				set_technology = { tactical_control = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = air_land_battle} }
				set_technology = { air_land_battle = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = centralized_fire_control} }
				set_technology = { centralized_fire_control = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = forward_observers} }
				set_technology = { forward_observers = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_firebases} }
				set_technology = { advanced_firebases = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = shock_and_awe} }
				set_technology = { shock_and_awe = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = trench_warfare} }
				set_technology = { trench_warfare = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = grand_battle_plan} }
				set_technology = { grand_battle_plan = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = prepared_defense} }
				set_technology = { prepared_defense = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = grand_assault} }
				set_technology = { grand_assault = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = grand_mechanized_offensive} }
				set_technology = { grand_mechanized_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = assault_concentration} }
				set_technology = { assault_concentration = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = branch_interoperation} }
				set_technology = { branch_interoperation = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = assault_breakthrough} }
				set_technology = { assault_breakthrough = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = central_planning} }
				set_technology = { central_planning = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = c3i_theory} }
				set_technology = { c3i_theory = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infantry_offensive} }
				set_technology = { infantry_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = armored_operations} }
				set_technology = { armored_operations = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infiltration_assault} }
				set_technology = { infiltration_assault = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = night_assault_tactics} }
				set_technology = { night_assault_tactics = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = attritional_containment} }
				set_technology = { attritional_containment = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = infiltration_in_depth} }
				set_technology = { infiltration_in_depth = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mass_assault} }
				set_technology = { mass_assault = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = pocket_defence} }
				set_technology = { pocket_defence = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = defence_in_depth} }
				set_technology = { defence_in_depth = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = large_front_operations} }
				set_technology = { large_front_operations = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = deep_operations} }
				set_technology = { deep_operations = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = operational_concentration} }
				set_technology = { operational_concentration = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = vast_offensives} }
				set_technology = { vast_offensives = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = breakthrough_priority} }
				set_technology = { breakthrough_priority = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = mechanized_wave} }
				set_technology = { mechanized_wave = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = continuous_offensive} }
				set_technology = { continuous_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = peoples_army} }
				set_technology = { peoples_army = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = human_infantry_offensive} }
				set_technology = { human_infantry_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = large_front_offensive} }
				set_technology = { large_front_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = human_wave_offensive} }
				set_technology = { human_wave_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = guerilla_warfare} }
				set_technology = { guerilla_warfare = 1 }
			}
		### naval
			if = {
				limit = {SQI = {has_tech = early_destroyer} }
				set_technology = { early_destroyer = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_destroyer} }
				set_technology = { basic_destroyer = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_destroyer} }
				set_technology = { improved_destroyer = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_destroyer} }
				set_technology = { advanced_destroyer = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = early_light_cruiser} }
				set_technology = { early_light_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_light_cruiser} }
				set_technology = { basic_light_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_light_cruiser} }
				set_technology = { improved_light_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_light_cruiser} }
				set_technology = { advanced_light_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = early_heavy_cruiser} }
				set_technology = { early_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_heavy_cruiser} }
				set_technology = { basic_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_heavy_cruiser} }
				set_technology = { improved_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_heavy_cruiser} }
				set_technology = { advanced_heavy_cruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = early_battlecruiser} }
				set_technology = { early_battlecruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_battlecruiser} }
				set_technology = { basic_battlecruiser = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = early_battleship} }
				set_technology = { early_battleship = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_battleship} }
				set_technology = { basic_battleship = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_battleship} }
				set_technology = { improved_battleship = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_battleship} }
				set_technology = { advanced_battleship = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = heavy_battleship} }
				set_technology = { heavy_battleship = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = heavy_battleship2} }
				set_technology = { heavy_battleship2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = transport} }
				set_technology = { transport = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = landing_craft} }
				set_technology = { landing_craft = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tank_landing_craft} }
				set_technology = { tank_landing_craft = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = early_carrier} }
				set_technology = { early_carrier = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_carrier} }
				set_technology = { basic_carrier = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_carrier} }
				set_technology = { improved_carrier = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_carrier} }
				set_technology = { advanced_carrier = 1 }
			}
		###	
		if = {
				limit = {SQI = {has_tech = early_submarine} }
				set_technology = { early_submarine = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = basic_submarine} }
				set_technology = { basic_submarine = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = improved_submarine} }
				set_technology = { improved_submarine = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_submarine} }
				set_technology = { advanced_submarine = 1 }
			}
		### naval doctrine
			if = {
				limit = {SQI = {has_tech = fleet_in_being} }
				set_technology = { fleet_in_being = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = battlefleet_concentration} }
				set_technology = { battlefleet_concentration = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = subsidiary_carrier_role} }
				set_technology = { subsidiary_carrier_role = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = hunter_killer_groups} }
				set_technology = { hunter_killer_groups = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = floating_fortress} }
				set_technology = { floating_fortress = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = floating_airfield} }
				set_technology = { floating_airfield = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = grand_battlefleet} }
				set_technology = { grand_battlefleet = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_sailing} }
				set_technology = { convoy_sailing = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_escorts} }
				set_technology = { convoy_escorts = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = escort_carriers} }
				set_technology = { escort_carriers = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = integrated_convoy_defence} }
				set_technology = { integrated_convoy_defence = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = submarine_operations} }
				set_technology = { submarine_operations = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = undersea_blockade} }
				set_technology = { undersea_blockade = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_interdiction} }
				set_technology = { convoy_interdiction = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = submarine_offensive} }
				set_technology = { submarine_offensive = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = trade_interdiction} }
				set_technology = { trade_interdiction = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_interdiction_ti} }
				set_technology = { convoy_interdiction_ti = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = unrestricted_submarine_warfare} }
				set_technology = { unrestricted_submarine_warfare = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = wolfpacks} }
				set_technology = { wolfpacks = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = advanced_submarine_warfare} }
				set_technology = { advanced_submarine_warfare = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = combined_operations_raiding} }
				set_technology = { combined_operations_raiding = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = raider_patrols} }
				set_technology = { raider_patrols = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = capital_ship_raiders} }
				set_technology = { capital_ship_raiders = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = battlefleet_concentration_ti} }
				set_technology = { battlefleet_concentration_ti = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = floating_fortress_ti} }
				set_technology = { floating_fortress_ti = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = floating_airfield_ti} }
				set_technology = { floating_airfield_ti = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = carrier_operations} }
				set_technology = { carrier_operations = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_sailing_ti} }
				set_technology = { convoy_sailing_ti = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = subsidiary_carrier_role_ti} }
				set_technology = { subsidiary_carrier_role_ti = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = naval_air_operations} }
				set_technology = { naval_air_operations = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = base_strike} }
				set_technology = { base_strike = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = carrier_primacy} }
				set_technology = { carrier_primacy = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = carrier_task_forces} }
				set_technology = { carrier_task_forces = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = floating_airfield_bs} }
				set_technology = { floating_airfield_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = massed_strikes} }
				set_technology = { massed_strikes = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = floating_fortress_bs} }
				set_technology = { floating_fortress_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = carrier_battlegroups} }
				set_technology = { carrier_battlegroups = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = submarine_operations_bs} }
				set_technology = { submarine_operations_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = undersea_blockade_bs} }
				set_technology = { undersea_blockade_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_interdiction_bs} }
				set_technology = { convoy_interdiction_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = submarine_offensive_bs} }
				set_technology = { submarine_offensive_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_escorts_bs} }
				set_technology = { convoy_escorts_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = escort_patrols} }
				set_technology = { escort_patrols = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = convoy_sailing_bs} }
				set_technology = { convoy_sailing_bs = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = integrated_convoy_defence_bs} }
				set_technology = { integrated_convoy_defence_bs = 1 }
			}
		### support
			if = {
				limit = {SQI = {has_tech = tech_support} }
				set_technology = { tech_support = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_engineers} }
				set_technology = { tech_engineers = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_engineers2} }
				set_technology = { tech_engineers2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_engineers3} }
				set_technology = { tech_engineers3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_engineers4} }
				set_technology = { tech_engineers4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_recon} }
				set_technology = { tech_recon = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_recon2} }
				set_technology = { tech_recon2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_recon3} }
				set_technology = { tech_recon3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_recon4} }
				set_technology = { tech_recon4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_military_police} }
				set_technology = { tech_military_police = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_military_police2} }
				set_technology = { tech_military_police2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_military_police3} }
				set_technology = { tech_military_police3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_military_police4} }
				set_technology = { tech_military_police4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_maintenance_company} }
				set_technology = { tech_maintenance_company = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_maintenance_company2} }
				set_technology = { tech_maintenance_company2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_maintenance_company3} }
				set_technology = { tech_maintenance_company3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_maintenance_company4} }
				set_technology = { tech_maintenance_company4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_field_hospital} }
				set_technology = { tech_field_hospital = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_field_hospital2} }
				set_technology = { tech_field_hospital2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_field_hospital3} }
				set_technology = { tech_field_hospital3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_field_hospital4} }
				set_technology = { tech_field_hospital4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_logistics_company} }
				set_technology = { tech_logistics_company = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_logistics_company2} }
				set_technology = { tech_logistics_company2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_logistics_company3} }
				set_technology = { tech_logistics_company3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_logistics_company4} }
				set_technology = { tech_logistics_company4 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_signal_company} }
				set_technology = { tech_signal_company = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_signal_company2} }
				set_technology = { tech_signal_company2 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_signal_company3} }
				set_technology = { tech_signal_company3 = 1 }
			}
		###
			if = {
				limit = {SQI = {has_tech = tech_signal_company4} }
				set_technology = { tech_signal_company4 = 1 }
			}
		###
	}
	}
}


###########################
# Japan Foreign Events
###########################
# By Flamefang, Levi, Paul and Zankoas
###########################

add_namespace = japfor
add_namespace = japfeng

#########################################
### Economic Exploitation of Fengtian ###
#########################################

country_event = { #Economic exploitation of Fengtian
	id = japfor.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.1" }
	title = japfor.1.t
	desc = japfor.1.d
	picture = jap_manchurian_exploitation

	is_triggered_only = yes

	option = {
		name = japfor.1.a
		add_political_power = 25
		custom_effect_tooltip = JAP_mantetsu_profits_tooltip
		hidden_effect = {
			add_ideas = FNG_mantetsu_profits
			add_dynamic_modifier = {
				modifier = FNG_mantetsu_profits_modifier
				scope = FNG
			}
			FNG = {
				country_event = {
					id = fengtian.125
					hours = 8
					random = 16
				}
			}
		}
		reverse_add_opinion_modifier = {
			target = FNG
			modifier = JAP_FNG_exploit
		}
	}
}

country_event = { #Economic exploitation of Fengtian republic is no longer possible
	id = japfor.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.2" }
	title = japfor.2.t
	desc = japfor.2.d
	picture = jap_manchu_exploit
	fire_only_once = yes
	trigger = {
		tag = JAP
		has_idea = fengtian_exploitation
		NOT = {
			FNG = {
				is_subject_of = JAP
			}
			AND = {
				FNG = {
					NOT = {
						is_subject_of = JAP
					}
				}
				controls_state = 328
			}
		}
	}

	option = {
		name = japfor.2.a
		add_political_power = -25
		remove_ideas = fengtian_exploitation
	}
}

######################################
###	Influence China Related Events ###
######################################

country_event = { #Offering training to Chinese warlords
	id = japfor.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.3" }
	title = japfor.3.t
	desc = japfor.3.d
	picture = jap_manchu_exploit
	is_triggered_only = yes

	option = { #yes
		ai_chance = {
			factor = 99
		}
		name = japfor.3.a
		add_timed_idea = {
			idea = JAP_china_training
			days = 100
		}
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.04
			}
		}
	}

	option = { #no
		ai_chance = {
			factor = 1
		}
		name = japfor.3.b
		add_political_power = 10
		set_country_flag = JAP_no_training_help
		reverse_add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
	}
}

country_event = { #giving offsite mils to warlords
	id = japfor.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.4" }
	title = japfor.4.t
	desc = japfor.4.d
	picture = chinese_warlords
	is_triggered_only = yes

	option = {
		name = japfor.4.a
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		add_offsite_building = { type = arms_factory level = 3 }
		set_country_flag = has_offsite_mils_from_JAP
		hidden_effect = {
			random_state = {
				limit = {
					is_owned_by = FROM
					is_core_of = FROM
					arms_factory > 2
				}
				set_state_flag = JAP_mils_to_china_state
				remove_building = {
					type = arms_factory
					level = 3
				}
			}
		}
	}
	option = {
		name = japfor.4.b
		add_political_power = 10
		set_country_flag = JAP_refused_offsite_mils
	}
}

country_event = { #supporting a Warlord's offensive
	id = japfor.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.5" }
	title = japfor.5.t
	desc = japfor.5.d
	picture = chinese_warlords
	is_triggered_only = yes

	option = {
		name = japfor.5.a
		ai_chance = {
			factor = 99
		}
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.01
			}
		}
		add_timed_idea = {
			idea = JAP_china_attack_support
			days = 100
		}
	}

	option = {
		name = japfor.5.b
		ai_chance = {
			factor = 1
		}
		add_political_power = 10
		set_country_flag = JAP_refused_offensive_help
	}
}

country_event = { #Providing plane licenses
	id = japfor.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.6" }
	title = japfor.6.t
	desc = japfor.6.d
	picture = chinese_warlords
	is_triggered_only = yes

	option = {
		name = japfor.6.a
		ai_chance = {
			factor = 99
		}
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_tech = fighter1
				FROM = { has_tech = fighter2 }
			}
			FROM = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = fighter_equipment_2
					}
					cost_factor = -0.5
				}
			}
		}
		else = {
			FROM = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = fighter_equipment_1
					}
					cost_factor = -0.5
				}
			}
		}
	}
}

country_event = { #Japan supports our independence
	id = japfor.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.7" }
	title = japfor.7.t
	desc = japfor.7.d
	picture = chinese_warlords
	is_triggered_only = yes

	option = { #accept
		name = japfor.7.a
		ai_chance = {
			factor = 99
		}
		army_experience = 20
		add_timed_idea = {
			idea = JAP_chinese_seperatist_support
			days = 365
		}
		add_opinion_modifier = { target = JAP modifier = KR_approves_of_govt }
		set_country_flag = japanese_independence_support
	}

	option = { #refuse
		name = japfor.7.b
		ai_chance = {
			factor = 1
		}
		add_political_power = 10
		set_country_flag = JAP_refused_independence_help
	}
}

country_event = { #Japan sends Abdurresid Ibrahim
	id = japfor.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.8" }
	title = japfor.8.t
	desc = japfor.8.d
	picture = chinese_warlords

	is_triggered_only = yes

	option = { #Welcome, honoured teacher
		name = japfor.8.a
		add_opinion_modifier = {
			target = JAP
			modifier = large_increase
		}
		set_country_flag = tartar_guy_arrived
	}
}

country_event = { #Offer arms factories to weaker tags
	id = japfor.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.9" }
	title = japfor.9.t
	desc = japfor.9.d
	picture = chinese_warlords

	is_triggered_only = yes

	option = {
		name = japfor.9.a
		add_offsite_building = { type = arms_factory level = 2 }
		set_country_flag = has_offsite_mils_from_JAP
		hidden_effect = {
			random_state = {
				limit = {
					is_owned_by = FROM
					is_core_of = FROM
					arms_factory > 1
				}
				set_state_flag = JAP_mils_to_china_state
				remove_building = {
					type = arms_factory
					level = 2
				}
			}
		}
	}
	option = {
		name = japfor.9.b
		add_political_power = 10
		set_country_flag = JAP_refused_offsite_mils
	}
}

country_event = { #Money from mysterious sources
	id = japfor.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.10" }
	title = japfor.10.t
	desc = japfor.10.d
	picture = chinese_warlords
	is_triggered_only = yes
	fire_only_once = yes

	option = { #We're not complaining
		name = japfor.10.a
		add_political_power = 100
	}
}

### Reserve event IDs 11-20 for more Chinese Influence stuff ##

#################################################
### Tokyo Conference and Co-Prosperity Events ###
#################################################

country_event = { #The Tokyo Conference Invitation
	id = japfor.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.21" }
	title = japfor.21.t
	desc = japfor.21.d
	is_triggered_only = yes

	option = { #yes
		name = japfor.21.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction = yes
				NOT = { is_in_faction_with = JAP }
			}
			modifier = {
				factor = 0.1
				JAP = { has_completed_focus = JAP_COL_START }
			}
		}
		set_country_flag = attended_tokyo_conference
		set_country_flag = attending_tokyo_conference
		hidden_effect = {
			JAP = {
				country_event = {
					id = japfor.22
					days = 4
					random = 96
				}
			}
		}
	}

	option = { #no
		name = japfor.21.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always attend
			}
			modifier = {
				factor = 0
				is_in_faction_with = JAP
			}
		}
		set_country_flag = JAP_refused_tokyo_conference
		JAP = {
			country_event = {
				id = japfor.23
				days = 2
				random = 50
			}
		}
	}
}

country_event = { #FROM attends the Tokyo Conference
	id = japfor.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.22" }
	title = japfor.22.t
	desc = japfor.22.d
	is_triggered_only = yes

	option = { #Welcome!
		name = japfor.22.a
	}
}

country_event = { #FROM Refuses to attend
	id = japfor.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.23" }
	title = japfor.23.t
	desc = japfor.23.d

	is_triggered_only = yes

	option = { #Hell with them
		name = japfor.23.a
	}
}

country_event = { #Propose a joint condemnation: denounce imperialism, colonialism and anti-Asian racism
	id = japfor.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.24" }
	title = japfor.24.t
	desc = japfor.24.d

	is_triggered_only = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { #publish it for signing
		name = japfor.24.a
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.25
		}
		hidden_effect = {
			country_event = {
				id = japfor.27
				days = 3
			}
		}
	}
}

country_event = { #The condemnation proposal
	id = japfor.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.25" }
	title = japfor.25.t
	desc = japfor.25.d

	is_triggered_only = yes

	option = { #sign it
		name = japfor.25.a
		ai_chance = {
			factor = 95
		}
		add_political_power = -10
	}

	option = { #refuse
		name = japfor.25.a
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always agree
			}
			modifier = {
				factor = 0
				is_in_faction_with = JAP
			}
		}
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = {
				id = japfor.26
				days = 1
				random = 18
			}
		}
	}
}

country_event = { #FROM drops out
	id = japfor.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.26" }
	title = japfor.26.t
	desc = japfor.26.d

	is_triggered_only = yes

	option = { #bah
		name = japfor.26.a
	}
}

country_event = { #Bring forward a charter on pan-Asian trade
	id = japfor.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.27" }
	title = japfor.27.t
	desc = japfor.27.d

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { #publish it for signing
		name = japfor.27.a
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.28
		}
		hidden_effect = {
			country_event = {
				id = japfor.29
				days = 3
			}
		}
	}
}

country_event = { #Japan's resolution on trade
	id = japfor.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.28" }
	title = japfor.28.t
	desc = japfor.28.d
	is_triggered_only = yes

	option = { #sign!
		ai_chance = {
			factor = 90
		}
		name = japfor.28.a
		if = {
			limit = { country_exists = GER }
			reverse_add_opinion_modifier = { target = GER modifier = sanctions }
			add_opinion_modifier = { target = GER modifier = sanctions }
		}
	}

	option = { #no
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always agree
			}
			modifier = {
				factor = 0
				is_in_faction_with = JAP
			}
		}
		name = japfor.28.b
		add_political_power = 10
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = {
				id = japfor.26
				days = 1
				random = 18
			}
		}
	}
}

country_event = { #Call for economic integration
	id = japfor.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.29" }
	title = japfor.29.t
	desc = japfor.29.d

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { #publish it for signing
		name = japfor.29.a
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.30
		}
		hidden_effect = {
			country_event = {
				id = japfor.31
				days = 3
			}
		}
	}
}

country_event = { #Japan's resolution on economic integration
	id = japfor.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.30" }
	title = japfor.30.t
	desc = japfor.30.d
	is_triggered_only = yes

	option = { #sign!
		ai_chance = {
			factor = 90
		}
		name = japfor.30.a
		add_political_power = 25
		set_country_flag = tokyo_conference_trade_ally
	}

	option = { #no
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always agree
			}
			modifier = {
				factor = 0
				is_in_faction_with = JAP
			}
		}
		name = japfor.30.a
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = {
				id = japfor.26
				days = 1
				random = 18
			}
		}
	}
}

country_event = { #Call for military action vs colonialists
	id = japfor.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.31" }
	title = japfor.31.t
	desc = japfor.31.d

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { #publish it for signing
		name = japfor.31.a
		set_global_flag = tokyo_conference_held
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.32
		}
	}
}

country_event = { #Japan's resolution on military alliance
	id = japfor.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.32" }
	title = japfor.32.t
	desc = japfor.32.d

	is_triggered_only = yes

	option = { #sign!
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0
				is_in_faction = yes
				NOT = { is_in_faction_with = JAP }
			}
		}
		name = japfor.32.a
		set_country_flag = tokyo_conference_ally
		clr_country_flag = attending_tokyo_conference
		add_to_array = { global.JAP_possible_allies_array = ROOT }
		JAP = {
			country_event = japfor.33
		}
	}

	option = { #no
		trigger = {
			NOT = { is_in_faction_with = JAP }
		}
		ai_chance = {
			factor = 20
		}
		name = japfor.32.b
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = {
				id = japfor.26
				days = 1
				random = 18
			}
		}
	}
}

country_event = { #FROM signs the military alliance
	id = japfor.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.33" }
	title = japfor.33.t
	desc = japfor.33.d

	is_triggered_only = yes

	option = { #excellent!
		name = japfor.33.a
	}
}

country_event = { #FROM seperatist Chinese tag accepts offer
	id = japfor.340
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.340" }
	title = japfor.340.t
	desc = japfor.340.d
	is_triggered_only = yes

	option = {
		name = japfor.340.a
		add_to_faction = FROM
	}
}

country_event = { #FROM seperatist Chinese tag refuses offer
	id = japfor.341
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.341" }
	title = japfor.341.t
	desc = japfor.341.d
	is_triggered_only = yes

	option = {
		name = japfor.341.a
	}
}

country_event = { #Japan offers membership in sphere / from Tokyo Conference
	id = japfor.342
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.342" }
	title = japfor.342.t
	desc = japfor.342.d
	is_triggered_only = yes

	option = {
		name = japfor.342.a #Accepts
		ai_chance = {
			factor = 99
		}
		add_war_support = 0.10
		FROM = {
			effect_tooltip = { add_to_faction = ROOT }
			country_event = japfor.340
		}
	}
	option = {
		name = japfor.342.b #Refuses
		ai_chance = {
			factor = 1
		}
		remove_from_array = { global.JAP_possible_allies_array = ROOT }
		add_war_support = -0.10
		FROM = { country_event = japfor.341 }
	}
}

################################
### Japan is Beating Germany ###
################################

country_event = { #Germany Has Lost Europe
	id = japfor.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.35" }
	title = japfor.35.t
	desc = japfor.35.d

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Issue Ultimatum
		name = japfor.35.a
		ai_chance = {
			factor = 100
		}
		GEX = {
			country_event = {
				id = japfor.36
				days = 2
			}
		}
	}
	option = { #don't
		name = japfor.35.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.10
	}
}

country_event = { #The Japanese have Issued an Ultimatum
	id = japfor.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.36" }
	title = japfor.36.t
	desc = japfor.36.d
	picture = japan_ultimatum

	is_triggered_only = yes
	fire_only_once = yes

	option = { #surrender
		name = japfor.36.a
		ai_chance = {
			factor = 100
		}
		JAP = {
			country_event = {
				id = japfor.380001
				days = 2
			}
		}
	}
	option = { #war
		name = japfor.36.b
		ai_chance = {
			factor = 0
		}
		JAP = {
			country_event = {
				id = japfor.38
				days = 2
			}
		}
	}
}

country_event = { #The Germans have Refused Our Ultimatum
	id = japfor.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.38" }
	title = japfor.38.t
	desc = japfor.38.d

	is_triggered_only = yes
	fire_only_once = yes

	option = { #accept
		name = japfor.38.a
		ai_chance = {
			factor = 100
		}
		declare_war_on = {
			target = GEX
			type = annex_everything
		}
	}
	option = { #no war
		name = japfor.38.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.01
	}
}

country_event = { #The Germans have Accepted Our Ultimatum
	id = japfor.380001
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.380001" }
	title = japfor.380001.t
	desc = japfor.380001.d

	is_triggered_only = yes
	fire_only_once = yes

	option = { #no war
		name = japfor.380001.a
		every_state = {
			limit = {
				is_owned_by = GEX
				is_claimed_by = JAP
			}
			JAP = {
				transfer_state = PREV
			}
		}
		if = {
			limit = {
				GEA = {
					is_subject_of = GEX
				}
			}
			annex_country = {
				target = GEA
			}
		}
	}
}

##################################
### Japan Ultimatum To Germany ###
##################################

country_event = { #Japanese ultimatum
	id = japfor.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.41" }
	title = japfor.41.t
	desc = japfor.41.d

	is_triggered_only = yes

	option = { #ignore
		name = japfor.41.a
		ai_chance = {
			factor = 100
		}
		JAP = {
			country_event = {
				id = japfor.42
				days = 2
			}
		}
	}

	option = { #Agree
		name = japfor.41.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.30
		JAP = {
			country_event = {
				id = japfor.43
				days = 2
			}
		}
	}
}

country_event = { #Germany refuses our ultimatum
	id = japfor.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.42" }
	title = japfor.42.t
	desc = japfor.42.d

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Declare war!
		name = japfor.42.a
		ai_chance = {
			factor = 100
		}
		declare_war_on = {
			target = GEA
			type = annex_everything
		}
	}
	option = { #back down
		name = japfor.42.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.10
	}
}

country_event = { #GEA accepts our conditions
	id = japfor.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.43" }
	title = japfor.43.t
	desc = japfor.43.d

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = japfor.43.a
		every_country = {
			limit = {
				is_subject_of = GER
				OR = {
					tag = GEA
					tag = MLY
					tag = SAR
					tag = VIE
					tag = CAM
					tag = LAO
				}
			}
			ROOT = {
				annex_country = { target = PREV }
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					is_on_continent = asia
					is_on_continent = australia
				}
			}
			JAP = { transfer_state = PREV }
		}
	}
}


#####################
### Indian events ###
#####################

country_event = { #My Raja, Japan brings us news!
	id = japfor.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.45" }
	title = japfor.45.t
	desc = japfor.45.d

	is_triggered_only = yes

	option = { #Accept
		name = japfor.45.a
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 2
				country_exists = DEH
				country_exists = BHC
			}
		}
		add_ideas = JAP_india_support
		add_to_array = { global.asian_economic_sphere = ROOT }
		JAP_recalculate_economic_integration = yes
		add_dynamic_modifier = {
			modifier = JAP_asian_economic_sphere_member
		}
		if = {
			limit = {
				NOT = {
					country_exists = DEH
					country_exists = BHC
					is_in_faction_with = FROM
					is_guaranteed_by = FROM
					is_subject_of = FROM
				}
			}
			FROM = {
				effect_tooltip = { give_guarantee = ROOT }
			}
		}
		if = {
			limit = { has_opinion_modifier = KR_disapproves_of_govt }
			remove_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		}
		if = {
			limit = { has_opinion_modifier = KR_hates_govt }
			remove_opinion_modifier = { target = FROM modifier = KR_hates_govt }
		}
		if = {
			limit = { has_opinion_modifier = KR_outraged }
			remove_opinion_modifier = { target = FROM modifier = KR_outraged }
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = {
				id = japfor.46
				days = 1
			}
		}
	}
	option = { #Politely decline their support
		name = japfor.45.b
		ai_chance = {
			factor = 40
			modifier = {
				factor = 1.5
				has_cosmetic_tag = PRF_EMP
			}
			modifier = {
				factor = 5
				has_idea = PRF_united_india
			}
			modifier = {
				factor = 5
				JAP = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = {
				id = japfor.47
				days = 3
			}
		}
	}
}

country_event = { #Offer accepted
	id = japfor.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.46" }
	title = japfor.46.t
	desc = japfor.46.d

	is_triggered_only = yes

	option = {
		name = japfor.46.a
		add_political_power = 25
		if = {
			limit = {
				NOT = {
					country_exists = DEH
					country_exists = BHC
					is_in_faction_with = FROM
					FROM = { is_guaranteed_by = ROOT }
					FROM = { is_subject_of = ROOT }
				}
			}
			give_guarantee = FROM
		}
		if = {
			limit = {
				NOT = {
					has_dynamic_modifier = {
						modifier = JAP_asian_economic_sphere
					}
				}
			}
			add_dynamic_modifier = {
				modifier = JAP_asian_economic_sphere
			}
		}
	}
}

country_event = { #India declines us
	id = japfor.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.47" }
	title = japfor.47.t
	desc = japfor.47.d

	is_triggered_only = yes

	option = { #Damn and blast
		name = japfor.47.a
		add_political_power = -25
		set_country_flag = JAP_prf_declined_alliance
	}
}

#####coring Qingdao
country_event = { #We control Germany's former naval hub
	id = japfor.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.54" }
	title = japfor.54.t
	desc = japfor.54.d

	fire_only_once = yes

	trigger = {
		tag = JAP
		owns_state = 744
	}

	mean_time_to_happen = {
		days = 1
	}

	option = { #Set up our administration at once!
		name = japfor.54.b
		add_state_core = 744
	}
}


#####################################
### Philippines and Hawaii Events ###
#####################################

country_event = { #Japan threatens us!
	id = japfor.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.55" }
	title = japfor.55.t
	desc = japfor.55.d

	is_triggered_only = yes

	immediate = {
		JAP = { set_country_flag = JAP_has_threatened_phillipines }
	}

	option = { #resist
		name = japfor.55.a
		ai_chance = {
			factor = 75
		}
		add_stability = 0.05
		if = {
			limit = { is_subject = yes }
			overlord = { save_event_target_as = philippines_backer }
			JAP = {
				country_event = { id = japfor.57 days = 2 }
			}
		}
		else_if = {
			limit = { is_in_faction = yes }
			random_country = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = ROOT
				}
				save_event_target_as = philippines_backer
			}
			JAP = {
				country_event = { id = japfor.57 days = 2 }
			}
		}
		else_if = {
			limit = {
				not_has_socialist_government = yes
				USA = {
					exists = yes
					is_subject = no
					has_war = no
					has_completed_focus = USA_enter_the_fray
					NOT = { is_in_faction_with = JAP }
				}
			}
			USA = {
				country_event = japfor.56
			}
		}
		else_if = {
			limit = {
				not_has_socialist_government = yes
				CAL = {
					exists = yes
					is_subject = no
					has_war = no
					has_completed_focus = CAL_enter_the_fray
					NOT = { is_in_faction_with = JAP }
				}
			}
			CAL = {
				country_event = japfor.56
			}
		}
		else_if = {
			limit = {
				has_socialist_government = yes
				CSA = {
					exists = yes
					is_subject = no
					has_war = no
					NOT = { is_in_faction_with = JAP }
				}
			}
			CSA = {
				country_event = japfor.56
			}
		}
		else_if = {
			limit = {
				not_has_socialist_government = yes
				CAN = {
					exists = yes
					is_subject = no
					has_war = no
					is_faction_leader = yes
					not_has_socialist_government = yes
				}
			}
			CAN = {
				country_event = japfor.56
			}
		}
		else_if = {
			limit = {
				not_has_socialist_government = yes
				GBR = {
					exists = yes
					is_subject = no
					has_war = no
					is_faction_leader = yes
					not_has_socialist_government = yes
				}
			}
			GBR = {
				country_event = japfor.56
			}
		}
		else = {
			JAP = {
				country_event = {
					id = japfor.58
					days = 1
				}
			}
		}
	}

	option = { #surrender
		name = japfor.55.b
		trigger = { is_subject = no }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_in_faction = yes
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = JAP ratio < 2.0 }
			}
		}
		JAP = {
			country_event = {
				id = japfor.59
				days = 2
			}
		}
	}
}

country_event = { #Philippines begs for help
	id = japfor.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.56" }
	title = japfor.56.t
	desc = japfor.56.d

	is_triggered_only = yes

	option = { #offer help
		name = japfor.56.a
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				is_faction_leader = yes
			}
		}
		if = {
			limit = { is_faction_leader = yes }
			add_to_faction = FROM
		}
		else_if = {
			limit = {
				FROM = {
					NOT = { is_guaranteed_by = ROOT }
				}
			}
			give_guarantee = FROM
		}
		save_event_target_as = philippines_backer
		JAP = {
			country_event = {
				id = japfor.57
				days = 2
			}
		}
	}

	option = { #don't
		name = japfor.56.b
		trigger = {
			NOT = {
				is_in_faction_with = FROM
				FROM = { is_guaranteed_by = ROOT }
			}
		}
		ai_chance = {
			factor = 75
		}
		JAP = {
			country_event = {
				id = japfor.58
				days = 2
			}
		}
	}
}

country_event = { #Philippines resists with foreign backing
	id = japfor.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.57" }
	title = japfor.57.t
	desc = japfor.57.d

	is_triggered_only = yes

	trigger = {
		"PHI" = { is_valid_war_target = yes }
	}

	option = { #war
		name = japfor.57.a
		ai_chance = {
			factor = 75
		}
		declare_war_on = {
			target = "PHI"
			type = annex_everything
		}
	}
	option = { #back down
		name = japfor.57.b
		ai_chance = {
			factor = 25
		}
		add_war_support = -0.10
		event_target:philippines_backer = {
			country_event = japfor.5701
		}
		"PHI" = {
			country_event = japfor.5701
		}
	}
}

country_event = { #Japan has backed down
	id = japfor.5701
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.5701" }
	title = japfor.5701.t
	desc = japfor.5701.d

	is_triggered_only = yes

	option = {
		name = japfor.5701.a
	}
}

country_event = { #Philippines resists without backing
	id = japfor.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.58" }
	title = japfor.58.t
	desc = japfor.58.d

	is_triggered_only = yes

	trigger = {
		"PHI" = { is_valid_war_target = yes }
	}

	option = { #war
		name = japfor.58.a
		declare_war_on = {
			target = "PHI"
			type = annex_everything
		}
	}
}

country_event = { #Philippines Surrenders!
	id = japfor.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.59" }
	title = japfor.59.t
	desc = japfor.59.d

	is_triggered_only = yes

	trigger = {
		"PHI" = { is_valid_war_target = yes }
	}

	option = {
		name = japfor.59.a
		if = {
			limit = { "PHI" = { has_socialist_government = yes } }
			puppet = "PHI"
		}
		else = {
			"PHI" = { get_current_government_type = yes }
			puppet = "PHI"
			"PHI" = { restore_previous_government_type = yes }
		}
		if = {
			limit = { is_faction_leader = yes }
			add_to_faction = "PHI"
		}
	}

	option = {
		name = japfor.59.b
		trigger = {
			"PHI" = { is_ai = yes }
		}
		annex_country = {
			target = "PHI"
		}
	}
}

country_event = { #Japan threatens us!
	id = japfor.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.62" }
	title = japfor.62.t
	desc = japfor.62.d

	is_triggered_only = yes

	trigger = {
		exists = yes
		NOT = { has_war_with = JAP }
	}

	option = { #resist
		name = japfor.62.a
		ai_chance = {
			factor = 65
		}
		hidden_effect = {
			load_oob = HAW_resist
		}
		custom_effect_tooltip = HAW_resist_OOB_TOOLTIP
		if = {
			limit = {
				CAL = {
					owns_state = 797
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = JAP }
				}
			}
			CAL = {
				country_event = { id = japfor.64 days = 1 }
			}
		}
		else_if = {
			limit = {
				USA = {
					owns_state = 797
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = JAP }
				}
			}
			USA = {
				country_event = { id = japfor.64 days = 1 }
			}
		}
		else = {
			JAP = {
				country_event = {
					id = japfor.66
					days = 2
				}
			}
		}
	}

	option = { #surrender
		name = japfor.62.b
		ai_chance = {
			factor = 35
			modifier = {
				factor = 0.25
				is_in_faction = yes
			}
		}
		JAP = {
			country_event = {
				id = japfor.63
				days = 2
			}
		}
	}
}

country_event = { #Hawaii Surrenders!
	id = japfor.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.63" }
	title = japfor.63.t
	desc = japfor.63.d

	is_triggered_only = yes

	trigger = {
		HAW = { is_valid_war_target = yes }
	}

	option = {
		name = japfor.63.a
		if = {
			limit = { HAW = { has_socialist_government = yes } }
			puppet = HAW
		}
		else = {
			HAW = { get_current_government_type = yes }
			puppet = HAW
			HAW = { restore_previous_government_type = yes }
		}
		if = {
			limit = { is_faction_leader = yes }
			add_to_faction = HAW
		}
	}

	option = {
		name = japfor.63.b
		trigger = {
			HAW = { is_ai = yes }
		}
		annex_country = {
			target = HAW
		}
	}
}

country_event = { #Hawaii begs for help
	id = japfor.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.64" }
	title = japfor.64.t
	desc = japfor.64.d

	is_triggered_only = yes

	trigger = {
		NOT = {
			HAW = { has_war_with = JAP }
		}
	}

	option = { #help
		name = japfor.64.a
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0.1
				OR = {
					has_war_with = CSA
					has_war_with = TEX
					has_war_with = USA
				}
			}
		}
		if = {
			limit = {
				HAW = {
					NOT = {
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			give_guarantee = HAW
		}
		JAP = {
			country_event = {
				id = japfor.65
				days = 2
			}
		}
	}
	option = { #dont
		name = japfor.65.b
		trigger = {
			NOT = {
				is_in_faction_with = HAW
				HAW = { is_guaranteed_by = ROOT }
				has_war_with = JAP
			}
		}
		ai_chance = {
			factor = 75
		}
		add_stability = 0.05
		JAP = {
			country_event = {
				id = japfor.66
				days = 2
			}
		}
	}
}

country_event = { #Hawaii resists with American backing
	id = japfor.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.65" }
	title = japfor.65.t
	desc = japfor.65.d

	is_triggered_only = yes

	trigger = {
		HAW = { is_valid_war_target = yes }
	}

	option = { #war
		name = japfor.65.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.5
				OR = {
					FROM = { is_in_faction = yes }
					HAW = { is_in_faction = yes }
				}
			}
		}
		declare_war_on = {
			target = HAW
			type = annex_everything
		}
	}
	option = { #dont
		name = japfor.65.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				has_war = no
			}
		}
		add_stability = -0.05
	}
}

country_event = { #Hawaii resists without American backing
	id = japfor.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.66" }
	title = japfor.66.t
	desc = japfor.66.d

	is_triggered_only = yes

	trigger = {
		HAW = { is_valid_war_target = yes }
	}

	option = { #war
		name = japfor.65.a
		ai_chance = {
			factor = 50
		}
		declare_war_on = {
			target = HAW
			type = annex_everything
		}
	}
	option = { #dont
		name = japfor.65.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_war = no
			}
			modifier = {
				factor = 0
				HAW = { is_in_faction = no }
			}
		}
		add_stability = -0.05
	}
}


#####################
### Korean Events ###
#####################

#kill me, Zank has left them for later since they are such a mess

### The Korean Exiles ask for help ###

country_event = { #korea exiles trigger
	id = japfor.67
	hidden = yes
	fire_only_once = yes

	trigger = {
		date > 1936.12.10
		tag = JAP
	}

	immediate = {
		JAP = {
			country_event = japfor.68
		}
	}

	option = {
		GER = {
			country_event = {
				id = japfor.69
				days = 3
			}
		}
		AST = {
			country_event = {
				id = japfor.69
				days = 3
			}
		}
		RUS = {
			country_event = {
				id = japfor.69
				days = 3
			}
		}
	}

	option = {
		ai_chance = {
			factor = 1
		}
		set_global_flag = korea_alone
	}
}

country_event = { #Korean exiles Japan
	id = japfor.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.68" }
	title = japfor.68.t
	desc = japfor.68.d

	is_triggered_only = yes

	option = {
		name = japfor.68.a
	}
}

country_event = { #Korea asks for aid - Germany, Australiasia, Russia
	id = japfor.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.69" }
	title = japfor.69.t
	desc = {
		text = japfor.70.d
		trigger = {
			tag = GER
		}
	}
	desc = {
		text = japfor.69.d
		trigger = {
			NOT = {
				tag = GER
			}
		}
	}
	is_triggered_only = yes

	option = { #light
		name = japfor.69.a
		ai_chance = {
			factor = 35
		}
		set_global_flag = kor_light
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = SUP_KOR
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = -2500
		}
		add_to_variable = {
			var = global.KORsupport
			value = 1
		}
	}

	option = { #full
		name = japfor.69.b
		ai_chance = {
			factor = 35
		}
		set_global_flag = kor_full
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = SUP_KOR_FULL
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = -3000
		}
		add_manpower = -5000
		add_to_variable = {
			var = global.KORsupport
			value = 2
		}
	}

	option = { #refuse
		name = japfor.69.c
		ai_chance = {
			factor = 30
		}
	}
}

### PREWAR
### Imperialist Path ###

country_event = { #the Korean Problem
	id = japfor.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.73" }
	title = japfor.73.t
	desc = japfor.73.d
	fire_only_once = yes
	trigger = {
		tag = JAP
		has_completed_focus = JAP_imperialist_path
		date > 1937.1.15
		NOT = {
			country_exists = KOR
			has_war_with = TRM
		}
	}

	option = {
		name = japfor.73.a
		add_stability = -0.01
		if = {
			limit = {
				TRM = {
					is_subject_of = JAP
				}
			}
			country_event = {
				id = japfor.74
				days = 3
			}
		}
	}
}

country_event = { #Rise of Korean nationalism in Transamur
	id = japfor.74
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.74" }
	title = japfor.74.t
	desc = japfor.74.d
	is_triggered_only = yes

	option = { #Push Transmur for a crack down
		name = japfor.74.a
		ai_chance = {
			factor = 75
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		TRM = {
			country_event = {
				id = japfor.751
				days = 1
			}
		}
	}

	option = { #don't
		name = japfor.74.b
		ai_chance = {
			factor = 25
		}
		set_global_flag = kor_trans
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_no_crackdown
		}
	}
}

country_event = { #Japanese pressure
	id = japfor.751
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.751" }
	title = japfor.751.t
	desc = japfor.751.d
	picture = japan_ultimatum
	is_triggered_only = yes

	option = { #do it
		name = japfor.751.a
		ai_chance = {
			factor = 40
		}
		add_stability = -0.15
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_no_crackdown
		}
	}

	option = { #partial
		name = japfor.751.b
		ai_chance = {
			factor = 40
		}
		add_stability = -0.05
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_prt_crackdown
		}
	}

	option = { #refuse
		name = japfor.751.c
		ai_chance = {
			factor = 20
		}
		add_stability = 0.10
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_crackdown
		}
		JAP = {
			country_event = {
				id = japfor.75
				days = 1
			}
		}
	}
}

country_event = { #Transmur refuses our demand!
	id = japfor.75
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.75" }
	title = japfor.75.t
	desc = japfor.75.d
	is_triggered_only = yes

	option = { #respect
		name = japfor.75.a
		ai_chance = {
			factor = 30
		}
		set_global_flag = kor_trans
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_no_crackdown
		}
		add_political_power = -50
	}

	option = { #ourselves
		name = japfor.75.b
		ai_chance = {
			factor = 40
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		add_political_power = -50
		TRM = {
			country_event = {
				id = japfor.76
				days = 1
			}
		}
	}

	option = { #threat
		name = japfor.75.c
		ai_chance = {
			factor = 30
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		TRM = {
			country_event = {
				id = japfor.77
				days = 1
			}
		}
	}
}

country_event = { #Japanese troops crackdown on Koreans
	id = japfor.76
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.76" }
	title = japfor.76.t
	desc = japfor.76.d
	is_triggered_only = yes

	option = { #traitors
		name = japfor.76.a
		ai_chance = {
			factor = 50
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		JAP = {
			end_puppet = TRM
			country_event = {
				id = tram.1
				days = 4
			}
		}
	}

	option = { #ok
		name = japfor.76.b
		ai_chance = {
			factor = 50
		}
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_no_crackdown
		}
		add_stability = -0.15
	}
}

country_event = { #Japan marches on Vladivostok
	id = japfor.77
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.77" }
	title = japfor.77.t
	desc = japfor.77.d
	is_triggered_only = yes

	option = { #capitulate
		name = japfor.77.a
		ai_chance = {
			factor = 80
		}
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_no_crackdown
		}
		TRM = {
			country_event = {
				id = japfor.751
				days = 4
			}
		}
	}

	option = { #independence
		name = japfor.77.b
		ai_chance = {
			factor = 20
		}
		JAP = {
			end_puppet = TRM
			remove_from_faction = TRM
			country_event = {
				id = tram.1
				days = 1
			}
		}
	}
}

country_event = { #Troubles in Transamur
	id = japfor.78
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.78" }
	title = japfor.78.t
	desc = japfor.78.d
	is_triggered_only = yes

	option = { #no action
		name = japfor.78.a
		ai_chance = {
			factor = 75
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_no_crackdown
		}
	}

	option = { #remove kolchak
		name = japfor.78.b
		ai_chance = {
			factor = 25
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		TRM = {
			country_event = {
				id = japfor.79
				days = 1
			}
		}
	}
}

country_event = { #Japanese troops move to arrest Kolchak!
	id = japfor.79
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.79" }
	title = japfor.79.t
	desc = japfor.79.d
	is_triggered_only = yes

	option = { #capitulate
		name = japfor.79.a
		ai_chance = {
			factor = 35
		}
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_no_crackdown
		}
		add_stability = -0.20
		kill_country_leader = yes
		set_country_flag = Kolchack_dead
		hidden_effect = {
			RUS = {
				country_event = {
					id = tram.102
					days = 1
				}
			}
			SOV = {
				country_event = {
					id = tram.102
					days = 1
				}
			}
		}
		create_country_leader = {
			name = "Grigoriy Semyenov"
			desc = "POLITICS_SEMYONOV_DESC"
			picture = "Portrait_Transamur_Grigory_Semyonov.tga"
			expire = "1965.1.1"
			ideology = paternal_autocrat_subtype
		}
	}

	option = { #resist
		name = japfor.79.b
		ai_chance = {
			factor = 65
		}
		JAP = {
			end_puppet = TRM
			remove_from_faction = TRM
			country_event = {
				id = tram.1
				days = 1
			}
		}
	}
}

### PREWAR
### Democratic path ###

country_event = { #The Korean Problem
	id = japfor.80
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.80" }
	title = japfor.80.t
	desc = japfor.80.d
	fire_only_once = yes

	trigger = {
		tag = JAP
		has_country_flag = JAP_democracy
		controls_state = 525
		controls_state = 527
		date > 1936.12.25
	}
	mean_time_to_happen = {
		days = 10
	}

	option = { #no
		name = japfor.80.a
		ai_chance = {
			factor = 50
		}
		add_stability = -0.05
		if = {
			limit = {
				TRM = {
					is_subject_of = JAP
				}
			}
			country_event = {
				id = japfor.74
				days = 3
			}
		}
	}

	option = { #negotiate
		name = japfor.80.b
		ai_chance = {
			factor = 50
		}
		add_stability = -0.10
		country_event = {
			id = japfor.81
			days = 3
		}
	}
}

country_event = { #Negotiations in Korea
	id = japfor.81
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.81" }
	title = japfor.81.t
	desc = japfor.81.d
	is_triggered_only = yes

	option = { #grant
		name = japfor.81.a
		ai_chance = {
			factor = 80
		}
		add_stability = -0.02
		KOR = {
			add_state_core = 525
			add_state_core = 527
			transfer_state = 525
			transfer_state = 527
			set_cosmetic_tag = KOR_KING
			hidden_effect = {
				load_oob = KOR_pup
				create_country_leader = {
					name = "Yi Un"
					picture = "Yi_Un.tga"
					expire = "1965.1.1"
					ideology = social_democrat_subtype
				}
				create_country_leader = {
					name = "Yi Un"
					picture = "Yi_Un.tga"
					expire = "1965.1.1"
					ideology = social_liberal_subtype
				}
				create_country_leader = {
					name = "Yi Un"
					picture = "Yi_Un.tga"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
				}
				create_country_leader = {
					name = "Yi Un"
					picture = "Yi_Un.tga"
					expire = "1965.1.1"
					ideology = market_liberal_subtype
				}
				create_country_leader = {
					name = "Yi Un"
					picture = "Yi_Un.tga"
					expire = "1965.1.1"
					ideology = social_conservative_subtype
				}
				create_country_leader = {
					name = "Yi Un"
					picture = "Yi_Un.tga"
					expire = "1965.1.1"
					ideology = paternal_autocrat_subtype
				}
				create_country_leader = {
					name = "Yi Un"
					picture = "Yi_Un.tga"
					expire = "1965.1.1"
					ideology = national_populist_subtype
				}
			}
		}
		set_global_flag = kor_japfree
		remove_state_claim = 525
		remove_state_claim = 527
		remove_state_core = 525
		remove_state_core = 527
		puppet = KOR
	}

	option = { #no
		name = japfor.81.b
		ai_chance = {
			factor = 20
		}
		add_stability = -0.01
		if = {
			limit = {
				TRM = {
					is_subject_of = JAP
				}
			}
			country_event = {
				id = japfor.74
				days = 3
			}
		}
	}
}

country_event = { #Attempted rebellion in Korea! but failed.
	id = japfor.83
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.83" }
	title = japfor.83.t
	desc = japfor.83.d
	fire_only_once = yes
	trigger = {
		tag = JAP
		check_variable = {
			global.KORsupport < 2
		}
		KOR = {
			exists = no
		}
		controls_state = 525
		controls_state = 527
		date > 1937.2.1
	}
	mean_time_to_happen = {
		days = 50
	}

	option = {
		name = japfor.83.a
		add_manpower = -5000
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = -750
		}
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = -500
		}
		if = {
			limit = {
				has_global_flag = kor_trans
			}
			add_stability = -0.01
			else = {
				add_stability = -0.05
			}
		}
		clr_global_flag = korea_alone
		clr_global_flag = kor_trans
	}
}

country_event = { #Rebellion in Korea light
	id = japfor.84
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.84" }
	title = japfor.84.t
	desc = japfor.84.d
	fire_only_once = yes
	trigger = {
		tag = JAP
		OR = {
			has_country_flag = JAP_democracy
			has_completed_focus = JAP_imperialist_path
		}
		check_variable = {
			global.KORsupport > 1
		}
		check_variable = {
			global.KORsupport < 4
		}
		KOR = {
			exists = no
		}
		controls_state = 525
		controls_state = 527
		date > 1937.2.1
	}
	mean_time_to_happen = {
		days = 50
	}

	option = {
		name = japfor.84.a
		hidden_effect = {
			news_event = {
				id = worldnews.198
			}
		}
		add_stability = -0.01
		custom_effect_tooltip = can_blockade_kor
		KOR = {
			add_state_core = 525
			add_state_core = 527
			transfer_state = 525
			country_event = japfor.85
		}

		remove_state_claim = 525
		remove_state_core = 525
		remove_state_claim = 527
		remove_state_core = 527

		set_global_flag = KOR_WAR
	}
}

country_event = { #Rebellion!
	id = japfor.85
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.85" }
	title = japfor.85.t
	desc = japfor.85.d
	is_triggered_only = yes

	option = {
		name = japfor.85.a
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = no
		}
		add_manpower = 200000
		declare_war_on = {
			target = JAP
			type = annex_everything
		}
		hidden_effect = {
			load_oob = KOR_light
		}
		custom_effect_tooltip = KOR_uprising2_tt
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 7500
		}
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = 3000
		}
		if = {
			limit = {
				has_global_flag = kor_trans
			}
			hidden_effect = {
				load_oob = KOR_trans
			}
		}
		add_stability = 0.40
	}
}

country_event = { #Rebellion in Korea full
	id = japfor.86
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.86" }
	title = japfor.84.t
	desc = japfor.84.d
	fire_only_once = yes
	trigger = {
		tag = JAP
		check_variable = {
			global.KORsupport > 4
		}
		KOR = {
			exists = no
		}
		controls_state = 525
		controls_state = 527
		date > 1937.2.1
	}
	mean_time_to_happen = {
		days = 50
	}

	option = {
		name = japfor.84.a
		hidden_effect = {
			news_event = {
				id = worldnews.198
			}
		}
		add_stability = -0.01
		custom_effect_tooltip = can_blockade_kor
		KOR = {
			add_state_core = 525
			add_state_core = 527
			transfer_state = 525
			country_event = japfor.87
		}

		set_global_flag = KOR_WAR
		remove_state_claim = 525
		remove_state_core = 525
		remove_state_claim = 527
		remove_state_core = 527
	}
}

country_event = { #Rebellion!
	id = japfor.87
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.87" }
	title = japfor.85.t
	desc = japfor.85.d
	is_triggered_only = yes

	option = {
		name = japfor.85.a
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = no
		}
		add_manpower = 200000
		declare_war_on = {
			target = JAP
			type = annex_everything
		}
		hidden_effect = {
			load_oob = KOR_full
		}
		custom_effect_tooltip = KOR_uprising2_tt
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 7500
		}
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = 3000
		}
		if = {
			limit = {
				has_global_flag = kor_trans
			}
			hidden_effect = {
				load_oob = KOR_trans
			}
		}

		add_stability = 0.40
	}
}

country_event = { #Korea fights us off
	id = japfor.88
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.88" }
	title = japfor.88.t
	desc = japfor.88.d
	fire_only_once = yes
	trigger = {
		tag = JAP
		has_war_with = KOR
		is_subject = no
		owns_state = 525
		owns_state = 527
		KOR = {
			is_subject = no
			controls_state = 525
			controls_state = 527
			NOT = {
				is_in_faction_with = JAP
				is_in_faction_with = RUS
				is_in_faction_with = SOV
				is_in_faction_with = GER
				is_in_faction_with = QIE
				is_in_faction_with = CHI
				is_in_faction_with = SQI
				is_in_faction_with = USA
				is_in_faction_with = TEX
				is_in_faction_with = CSA
				is_in_faction_with = FRA
			}
		}
		NOT = {
			is_in_faction_with = RUS
			is_in_faction_with = SOV
			is_in_faction_with = GER
			is_in_faction_with = QIE
			is_in_faction_with = CHI
			is_in_faction_with = SQI
			is_in_faction_with = USA
			is_in_faction_with = TEX
			is_in_faction_with = CSA
			is_in_faction_with = FRA
		}
	}

	mean_time_to_happen = {
		days = 20
	}

	option = { #withdraw
		name = japfor.88.a
		ai_chance = {
			factor = 45
		}
		KOR = {
			white_peace_with_ROOT = yes
			add_state_core = 525
			add_state_core = 527
			transfer_state = 525
			transfer_state = 527
		}
		add_stability = -0.30
		FNG = {
			country_event = {
				id = japfor.89
				days = 1
			}
		}
		TRM = {
			country_event = {
				id = japfor.90
				days = 1
			}
		}
	}

	option = { #continue
		name = japfor.88.b
		ai_chance = {
			factor = 55
		}
		add_war_support = -0.10
	}
}

country_event = { #Japan shows weakness in Korea - FNG
	id = japfor.89
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.89" }
	title = japfor.89.t
	desc = japfor.89.d
	is_triggered_only = yes

	option = { #stay
		name = japfor.89.a
		ai_chance = {
			factor = 10
		}
		add_stability = -0.05
	}

	option = { #independence
		name = japfor.89.b
		ai_chance = {
			factor = 40
		}
		KOR = {
			white_peace_with_ROOT = yes
		}
		JAP = {
			remove_from_faction = FNG
			end_puppet = FNG
		}
	}

	option = { #fuck korea
		name = japfor.89.c
		ai_chance = {
			factor = 10
		}
		JAP = {
			remove_from_faction = FNG
			end_puppet = FNG
		}
		if = {
			limit = {
				NOT = {
					has_war_with = KOR
				}
			}
			declare_war_on = {
				target = KOR
				type = annex_everything
			}
		}
	}
}

country_event = { #Japan shows weakness in Korea - FNG
	id = japfor.90
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.90" }
	title = japfor.89.t
	desc = japfor.89.d
	is_triggered_only = yes

	option = { #stay
		name = japfor.89.a
		ai_chance = {
			factor = 10
		}
		add_stability = -0.05
	}

	option = { #independence
		name = japfor.89.b
		ai_chance = {
			factor = 40
		}
		KOR = {
			white_peace_with_ROOT = yes
		}
		JAP = {
			remove_from_faction = TRM
			end_puppet = TRM
		}
	}

	option = { #fuck korea
		name = japfor.89.c
		ai_chance = {
			factor = 10
		}
		JAP = {
			remove_from_faction = TRM
			end_puppet = TRM
		}
		if = {
			limit = {
				NOT = {
					has_war_with = KOR
				}
			}
			declare_war_on = {
				target = KOR
				type = annex_everything
			}
		}
	}
}

### Foreign Intervention in Korea ###

country_event = { #Naval blockade of Korea
	id = japfor.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.104" }
	title = japfor.104.t
	desc = japfor.104.d
	picture = japan_battleship_kongo
	fire_only_once = yes
	trigger = {
		tag = JAP
		has_war_with = KOR
		ships_in_state_ports = {
			state = 527
			size > 11
		}
	}

	option = { #impose it
		name = japfor.104.a
		set_global_flag = JNBK
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = -1300
		}
		KOR = {
			country_event = japfor.105
		}
	}
}

country_event = { #Japan naval blockade
	id = japfor.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.105" }
	title = japfor.105.t
	desc = japfor.105.d
	picture = japan_battleship_kongo
	is_triggered_only = yes

	option = {
		name = japfor.105.a
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = -800
		}
		add_ideas = kor_blocked
	}
}

country_event = { #Enforcing naval blockade
	id = japfor.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.106" }
	title = japfor.106.t
	desc = japfor.106.d
	picture = japan_battleship_kongo
	trigger = {
		tag = JAP
		has_global_flag = JNBK
		has_war_with = KOR
	}
	mean_time_to_happen = {
		days = 45
	}

	option = { #continue
		name = japfor.106.a
		ai_chance = {
			factor = 90
		}
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = -150
		}
	}

	option = { #stop blockade
		name = japfor.106.b
		ai_chance = {
			factor = 10
		}
		clr_global_flag = JNBK
		KOR = {
			country_event = {
				id = japfor.108
				days = 1
			}
		}
	}
}

country_event = { #End of the naval blockade
	id = japfor.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.107" }
	title = japfor.107.t
	desc = japfor.107.d
	picture = japan_battleship_kongo
	fire_only_once = yes
	trigger = {
		tag = JAP
		has_global_flag = JNBK
		NOT = {
			has_war_with = KOR
		}
	}

	option = { #stop blockade
		name = japfor.107.a
		clr_global_flag = JNBK
		KOR = {
			country_event = {
				id = japfor.108
				days = 1
			}
		}
	}
}

country_event = { #blockade lifted
	id = japfor.108
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.108" }
	title = japfor.108.t
	desc = japfor.108.d
	picture = japan_battleship_kongo
	is_triggered_only = yes

	option = {
		name = japfor.108.a
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = 1000
		}
		remove_ideas = kor_blocked
	}
}

country_event = { #Korean rebellion crushed
	id = japfor.109
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.109" }
	title = japfor.109.t
	desc = japfor.109.d
	fire_only_once = yes
	trigger = {
		tag = JAP
		has_global_flag = KOR_WAR
		controls_state = 527
		controls_state = 525
		KOR = {
			exists = no
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		name = japfor.109.a
		add_stability = 0.10
		clr_global_flag = KOR_WAR
	}
}

country_event = { #Japaneese settlers in Korea
	id = japfor.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.110" }
	title = japfor.110.t
	desc = japfor.110.d
	fire_only_once = yes
	trigger = {
		tag = KOR
		NOT = {
			is_subject_of = JAP
			has_war_with = JAP
			is_in_faction_with = JAP
		}
	}
	mean_time_to_happen = {
		days = 50
	}

	option = { #expell them
		name = japfor.110.a
		ai_chance = {
			factor = 50
		}
		add_political_power = 25
		add_manpower = -10000
		add_timed_idea = {
			idea = KOR_expell_japs
			days = 600
		}
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = expelled_japs
		}
		JAP = {
			country_event = {
				id = japfor.111
				days = 1
			}
		}
	}

	option = { #integrate them
		name = japfor.110.b
		ai_chance = {
			factor = 50
		}
		add_political_power = -25
		add_ideas = KOR_integrate_japs
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = NOT_expell_japs
		}
	}
}

country_event = { #Refugees from Korea
	id = japfor.111
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.111" }
	title = japfor.111.t
	desc = japfor.111.d
	is_triggered_only = yes

	option = {
		name = japfor.111.a
		add_manpower = 10000
		add_stability = -0.02
	}
}


#########################
### The Northern Path ###
#########################

country_event = { #Report from Far East
	id = japfor.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.112" }
	title = japfor.112.t
	desc = japfor.112.d

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Do nothing
		name = japfor.112.a
		ai_chance = {
			factor = 25
		}
	}

	option = { #Strongly worded letter
		name = japfor.112.b
		ai_chance = {
			factor = 75
		}
		JAP = {
			country_event = japfor.113
		}
	}
}

country_event = { #Report from Germany
	id = japfor.113
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.113" }
	title = japfor.113.t
	desc = japfor.113.d

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = japfor.113.a
	}
}

country_event = { #Operation Kuma
	id = japfor.114
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.114" }
	title = japfor.114.t
	desc = japfor.114.d
	is_triggered_only = yes

	option = {
		name = japfor.114.a
		add_war_support = 0.05
	}
}

###NEW COLONIAL PATH###
###Indonesia###
country_event = { #Japanese demands - HOL

	id = japfor.176
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.176" }
	title = japfor.176.t
	desc = japfor.176.d

	is_triggered_only = yes

	option = { #Germany

		trigger = {
			country_exists = GER
			not_has_socialist_government = yes
			NOT = {
				country_exists = GEX
				has_war_with = GER
				is_in_faction = yes
			}
		}

		name = japfor.176.a
		ai_chance = {
			factor = 80
		}

		GER = {
			country_event = {
				id = japfor.177
				days = 1
			}
		}

		add_political_power = -25
	}

	option = { #surrender

		trigger = {

			NOT = {

				has_government = national_populist
			}
		}

		name = japfor.176.b
		ai_chance = {
			factor = 10
		}

		add_stability = -0.10

		JAP = {
			country_event = {
				id = japfor.181
				days = 2
			}
		}
	}

	option = { #face them alone

		name = japfor.176.c
		ai_chance = {

			factor = 10

			modifier = {

				add = 10

				is_in_faction_with = FRA
			}
		}

		add_war_support = -0.06

		JAP = {
			country_event = {
				id = japfor.182
				days = 2
			}
		}
	}
}

country_event = { #Dutch beg for help

	id = japfor.177
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.177" }
	title = japfor.177.t
	desc = japfor.177.d

	is_triggered_only = yes

	option = { #Agree

		name = japfor.177.a
		ai_chance = {

			factor = 70

			modifier = {

				add = -65

				has_war_with = FRA
			}
		}

		add_to_faction = HOL

		JAP = {
			country_event = {
				id = japfor.178
				days = 1
			}
		}
	}

	option = { #decline

		name = japfor.177.b
		ai_chance = {
			factor = 30
		}

		add_political_power = -25

		HOL = {
			country_event = {
				id = japfor.180
				days = 1
			}
		}
	}
}

country_event = { #Germany supports the netherlands

	id = japfor.178
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.178" }
	title = japfor.178.t
	desc = japfor.178.d

	is_triggered_only = yes

	option = { #attack

		name = japfor.178.a
		ai_chance = {
			factor = 50
		}

		declare_war_on = {
			target = GER
			type = annex_everything
		}

		add_war_support = 0.03
	}

	option = { #Pull back

		name = japfor.178.b
		ai_chance = {
			factor = 50
		}

		add_stability = -0.05

		HOL = {
			country_event = {
				id = japfor.179
				days = 1
			}
		}
		GER = {
			country_event = {
				id = japfor.179
				days = 1
			}
		}
	}
}

country_event = { #The Japanese back down

	id = japfor.179
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.179" }
	title = japfor.179.t
	desc = japfor.179.d

	is_triggered_only = yes

	option = {

		name = japfor.179.a

		add_political_power = 50
	}
}

country_event = { #The Germans refuse!

	id = japfor.180
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.180" }
	title = japfor.180.t
	desc = japfor.180.d

	is_triggered_only = yes

	option = { #surrender

		trigger = {

			NOT = {

				has_government = national_populist
			}
		}

		name = japfor.180.a
		ai_chance = {
			factor = 90
		}

		add_stability = -0.10

		JAP = {
			country_event = {
				id = japfor.181
				days = 2
			}
		}
	}

	option = { #fight

		name = japfor.180.b
		ai_chance = {
			factor = 10
		}

		add_war_support = 0.05

		JAP = {
			country_event = {
				id = japfor.182
				days = 2
			}
		}
	}
}

country_event = { #The Dutch fold!

	id = japfor.181
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.181" }
	title = japfor.181.t
	desc = japfor.181.d

	is_triggered_only = yes

	option = {

		name = japfor.181.a

		add_stability = 0.10

		every_state = {

			limit = {

				is_controlled_by = HOL
				is_core_of = INS
			}

			JAP = {

				transfer_state = PREV

				add_state_claim = PREV
			}
		}
	}
}

country_event = { #The Dutch resist!

	id = japfor.182
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.182" }
	title = japfor.182.t
	desc = japfor.182.d

	is_triggered_only = yes

	option = { #war

		name = japfor.182.a
		ai_chance = {
			factor = 95
		}

		add_war_support = 0.04

		declare_war_on = {
			target = HOL
			type = annex_everything
		}

		every_state = {

			limit = {

				is_owned_by = HOL
				is_core_of = INS
			}

			JAP = {

				add_state_claim = PREV
			}
		}
	}

	option = { #back down

		name = japfor.182.b
		ai_chance = {
			factor = 5
		}

		add_stability = -0.10

		HOL = {
			country_event = {
				id = japfor.183
				days = 2
			}
		}
	}
}

country_event = { #The Japanese back down!

	id = japfor.183
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.183" }
	title = japfor.183.t
	desc = japfor.183.d

	is_triggered_only = yes

	option = {

		name = japfor.183.a

		add_political_power = 50
	}
}

country_event = { #Fall of the Dutch East Indies

	id = japfor.184
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.184" }
	title = japfor.184.t
	desc = japfor.184.d

	fire_only_once = yes

	trigger = {
		tag = HOL
		DEI = {
			is_subject_of = HOL
		}
		has_war_with = JAP
		is_in_faction = no
		DEI = {
			has_capitulated = yes
		}
	}

	mean_time_to_happen = {
		days = 20
	}

	option = { #surrender

		name = japfor.184.a
		ai_chance = {
			factor = 95
		}

		JAP = {
			country_event = {
				id = japfor.185
				days = 2
			}
		}
	}

	option = { #fight on!

		name = japfor.184.b
		ai_chance = {
			factor = 5
		}
		add_stability = -0.10
		add_war_support = -0.20
	}
}

country_event = { #The Dutch beg for peace!

	id = japfor.185
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.185" }
	title = japfor.185.t
	desc = japfor.185.d

	is_triggered_only = yes

	option = { #accept

		name = japfor.185.a
		ai_chance = {
			factor = 100
		}
		HOL = {
			end_puppet = DEI
		}
		if = {
			limit = {
				DEI = {
					is_in_faction = yes
				}
			}
			DEI = {
				leave_faction = yes
			}
		}
		every_country = {
			limit = {
				has_war_with = JAP
				OR = {
					is_in_faction_with = HOL
					is_subject_of = HOL
					tag = HOL
				}
			}
			JAP = {
				white_peace = PREV
			}
		}
	}

	option = { #refuse

		name = japfor.185.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.15
		HOL = {
			country_event = {
				id = japfor.186
				days = 2
			}
		}
	}
}

country_event = { #The Japanese refuse!

	id = japfor.186
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.186" }
	title = japfor.186.t
	desc = japfor.186.d

	is_triggered_only = yes

	option = {

		name = japfor.186.a

		add_war_support = -0.10
	}
}

country_event = { #The Japanese demands INS

	id = japfor.190
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.190" }
	title = japfor.190.t
	desc = japfor.190.d

	is_triggered_only = yes

	option = { #Germany

		trigger = {
			country_exists = GER
			not_has_socialist_government = yes
			NOT = {
				country_exists = GEX
				has_war_with = GER
				is_in_faction = yes
			}
		}

		name = japfor.176.a
		ai_chance = {
			factor = 80
		}

		GER = {
			country_event = {
				id = japfor.191
				days = 2
			}
		}

		add_political_power = -25
	}

	option = { #surrender

		trigger = {

			NOT = {

				has_government = national_populist
			}
		}

		name = japfor.176.b
		ai_chance = {
			factor = 10
		}

		add_stability = -0.10

		JAP = {
			country_event = {
				id = japfor.195
				days = 2
			}
		}
	}

	option = { #face them alone

		name = japfor.176.c
		ai_chance = {

			factor = 5

			modifier = {

				add = 10

				is_in_faction_with = FRA
			}
		}

		add_war_support = -0.06

		JAP = {
			country_event = {
				id = japfor.196
				days = 2
			}
		}
	}
}

country_event = { #Indonesia begs for help!

	id = japfor.191
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.191" }
	title = japfor.191.t
	desc = japfor.191.d

	is_triggered_only = yes

	option = { #Agree

		name = japfor.177.a
		ai_chance = {

			factor = 70

			modifier = {

				add = -65

				has_war_with = FRA
			}
		}

		add_to_faction = INS

		JAP = {
			country_event = {
				id = japfor.192
				days = 1
			}
		}
	}

	option = { #decline

		name = japfor.177.b
		ai_chance = {
			factor = 30
		}

		add_political_power = -25

		INS = {
			country_event = {
				id = japfor.194
				days = 2
			}
		}
	}
}

country_event = { #Germany supports Indonesia

	id = japfor.192
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.192" }
	title = japfor.192.t
	desc = japfor.192.d

	is_triggered_only = yes

	option = { #attack

		name = japfor.178.a
		ai_chance = {
			factor = 50
		}

		declare_war_on = {
			target = GER
			type = annex_everything
		}

		add_war_support = 0.03
	}

	option = { #Pull back

		name = japfor.178.b
		ai_chance = {
			factor = 50
		}

		add_stability = -0.05

		HOL = {
			country_event = {
				id = japfor.193
				days = 1
			}
		}
		GER = {
			country_event = {
				id = japfor.193
				days = 1
			}
		}
	}
}

country_event = { #The Japanese back down

	id = japfor.193
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.193" }
	title = japfor.179.t
	desc = japfor.179.d

	is_triggered_only = yes

	option = {

		name = japfor.179.a

		add_political_power = 50
	}
}

country_event = { #The Germans refuse!

	id = japfor.194
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.194" }
	title = japfor.180.t
	desc = japfor.180.d

	is_triggered_only = yes

	option = { #surrender

		trigger = {

			NOT = {

				has_government = national_populist
			}
		}

		name = japfor.180.a
		ai_chance = {
			factor = 50
		}

		add_stability = -0.10

		JAP = {
			country_event = {
				id = japfor.195
				days = 2
			}
		}
	}

	option = { #fight

		name = japfor.180.b
		ai_chance = {
			factor = 50
		}

		add_war_support = 0.05

		JAP = {
			country_event = {
				id = japfor.196
				days = 2
			}
		}
	}
}

country_event = { #The Indonesians fold!

	id = japfor.195
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.195" }
	title = japfor.195.t
	desc = japfor.195.d

	is_triggered_only = yes

	option = {

		name = japfor.181.a

		add_stability = 0.10

		every_state = {

			limit = {

				is_controlled_by = INS
				is_core_of = INS
			}

			JAP = {

				transfer_state = PREV

				add_state_claim = PREV
			}
		}
	}
}

country_event = { #The Indonsians resist!

	id = japfor.196
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.196" }
	title = japfor.196.t
	desc = japfor.196.d

	is_triggered_only = yes

	option = { #war

		name = japfor.196.a
		ai_chance = {
			factor = 100
		}

		add_war_support = 0.04

		declare_war_on = {
			target = INS
			type = annex_everything
		}

		every_state = {

			limit = {

				is_owned_by = INS
				is_core_of = INS
			}

			JAP = {

				add_state_claim = PREV
			}
		}
	}

	option = { #back down

		name = japfor.182.b
		ai_chance = {
			factor = 0
		}

		add_stability = -0.10


		HOL = {
			country_event = {
				id = japfor.197
				days = 2
			}
		}
	}
}

country_event = { #The Japanese back down!

	id = japfor.197
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.197" }
	title = japfor.183.t
	desc = japfor.183.d

	is_triggered_only = yes

	option = {

		name = japfor.183.a

		add_stability = 0.10
	}
}


##########################################
### Fengtian Silver Crisis (Flamefang) ###
##########################################

country_event = { #Fengtian Requests a Bailout
	id = japfor.202
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.202" }
	title = japfor.202.t
	desc = japfor.202.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Accept
		name = japfor.202.a
		add_political_power = 25
		add_timed_idea = {
			idea = JAP_fengtian_bailout
			days = 60
		}
		FNG = {
			country_event = fengtian.73
		}
		ai_chance = {
			factor = 60
		}
	}

	option = { #Refuse
		name = japfor.202.b
		add_stability = -0.05
		FNG = {
			country_event = fengtian.74
		}
		ai_chance = {
			factor = 40
		}
	}
}

country_event = { #Fengtian blames Japan for the crisis
	id = japfor.203
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.203" }
	title = japfor.203.t
	desc = japfor.203.d
	picture = china_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #False accusations!
		name = japfor.203.a
		add_political_power = -25
		FNG = {
			country_event = fengtian.75
		}
		ai_chance = {
			factor = 80
		}
	}

	option = { #Punish this insolence!
		name = japfor.203.b
		add_stability = 0.02
		set_global_flag = fengtian_blames_japan
		FNG = {
			country_event = fengtian.22
		}
		ai_chance = {
			factor = 20
		}
	}
}

#Fengtian Expels the Japanese Military Mission

country_event = { #Fengtian Diplomatic
	id = japfor.204
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.204" }
	title = japfor.204.t
	desc = {
		text = japfor.204.d
		trigger = {
			FNG = {
				NOT = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
	}
	desc = {
		text = japfor.204.d_mantetsu
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
	}
	picture = china_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Declare war
		name = japfor.204.a
		release_puppet = FNG
		FNG = {
			country_event = fengtian.77
		}
		ai_chance = {
			factor = 30
		}
	}

	option = { #Force Fengtian
		name = japfor.204.b
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
		add_political_power = 25
		FNG = {
			country_event = fengtian.78
		}
	}

	option = { #Punish Fengtian
		name = japfor.204.c
		add_stability = -0.03
		FNG = {
			country_event = fengtian.22
		}
		ai_chance = {
			factor = 70
		}
	}

	option = { #Do Nothing
		name = japfor.204.e
		add_stability = -0.10
	}
}

country_event = { #Fengtian non-diplomatic
	id = japfor.205
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.205" }
	title = japfor.205.t
	desc = japfor.205.d
	picture = china_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Send an ultimatum
		name = japfor.205.a
		set_global_flag = jap_fengtian_ultimatum
		FNG = {
			country_event = {
				id = fengtian.78
				days = 2
			}
		}
		add_political_power = 25
		ai_chance = {
			factor = 100
		}
	}

	option = { #Do Nothing
		name = japfor.205.b
		add_stability = -0.10
		ai_chance = {
			factor = 0
		}
	}
}

#The Anshan Incident

country_event = {
	id = japfor.206
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.206" }
	title = japfor.206.t
	desc = japfor.206.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Punish this insolence!
		name = japfor.206.a
		add_political_power = 50
		FNG = {
			country_event = fengtian.22
		}
		ai_chance = {
			factor = 40
		}
	}

	option = { #Denounce Fengtian
		name = japfor.206.b
		add_political_power = 10
		FNG = {
			country_event = fengtian.113
		}
		ai_chance = {
			factor = 40
		}
	}

	option = { #Stay silent
		name = japfor.206.c
		add_political_power = -50
		ai_chance = {
			factor = 20
		}
	}
}

###########################
### Russia Is Defeated  ###
###########################

country_event = { #Russia bear is dying
	id = japfor.213
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.213" }
	title = japfor.213.t
	desc = japfor.213.d

	fire_only_once = yes

	trigger = {
		tag = RUS
		has_war_with = JAP
		is_subject = no
		562 = {
			OR = {
				is_controlled_by = JAP
				controller = {
					is_subject_of = JAP
				}
				AND = {
					JAP = {
						is_faction_leader = yes
					}
					controller = {
						is_in_faction_with = JAP
					}
				}
			}
		}
		576 = {
			OR = {
				is_controlled_by = JAP
				controller = {
					is_subject_of = JAP
				}
				AND = {
					JAP = {
						is_faction_leader = yes
					}
					controller = {
						is_in_faction_with = JAP
					}
				}
			}
		}
		562 = {
			OR = {
				is_controlled_by = JAP
				controller = {
					is_subject_of = JAP
				}
				AND = {
					JAP = {
						is_faction_leader = yes
					}
					controller = {
						is_in_faction_with = JAP
					}
				}
			}
		}
		568 = {
			OR = {
				is_controlled_by = JAP
				controller = {
					is_subject_of = JAP
				}
				AND = {
					JAP = {
						is_faction_leader = yes
					}
					controller = {
						is_in_faction_with = JAP
					}
				}
			}
		}
	}

	option = {
		name = japfor.213.a
		ai_chance = {
			factor = 100
		}
		JAP = {
			country_event = japfor.214
		}
	}

	option = {
		name = japfor.213.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.25
		add_war_support = -0.25
	}
}

country_event = { #Russia offers us peace
	id = japfor.214
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.214" }
	title = japfor.214.t
	desc = japfor.214.d

	is_triggered_only = yes

	fire_only_once = yes

	option = { #Peace
		name = japfor.214.a
		ai_chance = {
			factor = 100
		}
		add_stability = 0.10
		RUS = {
			white_peace_with_ROOT = yes
			every_owned_state = {
				limit = {
					is_core_of = MON
				}
				ROOT = {
					transfer_state = PREV
				}
			}
			every_owned_state = {
				limit = {
					OR = {
						region = 14 #Trans-Urals
						region = 138 #Urals
						region = 147 #Northern Siberia
						region = 148 #Outer Manchuria
						region = 149 #Eastern Siberia
						region = 151 #Western Siberia
						region = 235 #Central Siberia
					}
				}
				if = {
					limit = {
						TRM = { is_subject_of = ROOT }
					}
					TRM = {
						transfer_state = PREV
					}
				}
				else = {
					ROOT = {
						transfer_state = PREV
					}
				}
			}
		}
	}
	option = { #Fight on
		name = japfor.214.b
		ai_chance = {
			factor = 0
		}
		add_stability = -0.15
		add_war_support = -0.15
	}
}

country_event = { #Hawaii accepted our offer
	id = japfor.218
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.218" }
	title = japfor.218.t
	desc = japfor.218.d
	is_triggered_only = yes
	option = {
		name = japfor.218.a
		add_to_faction = HAW
	}
}

#########################
### Japan Seizes Guam ###
#########################

country_event = { # Japan seizes Guam
	id = japfor.225
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.225" }
	title = japfor.225.t
	desc = japfor.225.d
	picture = GFX_Amcivwar_guamtake

	is_triggered_only = yes

	trigger = {
		NOT = { owns_state = 638 }
	}

	option = {
		name = japfor.225.a
		ai_chance = {
			factor = 100
		}
		random_country = {
			limit = { owns_state = 638 }
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = japfor.226
		}
		add_state_claim = 631 #Midway Island
		add_state_claim = 632 #Wake Island
	}

	option = {
		name = japfor.225.b
		ai_chance = {
			factor = 0
		}
		random_country = {
			limit = { owns_state = 638 }
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = japfor.226
		}
	}

	option = {
		name = japfor.225.c
		ai_chance = {
			factor = 0
		}
		add_stability = -0.02
	}
}

country_event = { # Japan seizes Guam
	id = japfor.226
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.226" }
	title = japfor.226.t
	desc = japfor.226.d
	picture = GFX_Amcivwar_guamtake

	is_triggered_only = yes

	option = {
		name = japfor.226.a
		FROM = { transfer_state = 638 }
		if = {
			limit = { 638 = { is_core_of = ROOT } }
			remove_state_core = 638
			add_state_claim = 638
		}
		else_if = {
			limit = { 638 = { is_not_claim_or_core_of_ROOT = yes } }
			add_state_claim = 638
		}
	}
}

####################################
### Japan Seizes Motor Companies ###
####################################

country_event = {
	id = japfor.227
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.227" }
	title = japfor.227.t
	desc = japfor.227.d
	picture = GFX_Amcivwar_guamtake

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = japfor.227.a
		add_political_power = -25
		add_opinion_modifier = {
			target = JAP
			modifier = JAP_motor_1
		}
	}
}

######################
### The Fading Sun ###
######################

country_event = { #Should I, Japan, surrender?
	id = japfor.230
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.230" }
	title = japfor.230.t
	desc = japfor.230.d

	fire_only_once = yes

	trigger = {
		tag = JAP
		has_war = yes
		OR = {
			525 = {
				is_owned_by_ROOT_or_war_ally = yes
			}
			527 = {
				is_owned_by_ROOT_or_war_ally = yes
			}
			716 = {
				is_owned_by_ROOT_or_war_ally = yes
			}
			745 = {
				is_owned_by_ROOT_or_war_ally = yes
			}
			885 = {
				is_owned_by_ROOT_or_war_ally = yes
			}
		}
		if = {
			limit = {
				525 = {
					is_owned_by_ROOT_or_war_ally = yes
				}
			}
			any_enemy_country = {
				controls_state = 525
			}
		}
		if = {
			limit = {
				527 = {
					is_owned_by_ROOT_or_war_ally = yes
				}
			}
			any_enemy_country = {
				controls_state = 527
			}
		}
		if = {
			limit = {
				716 = {
					is_owned_by_ROOT_or_war_ally = yes
				}
			}
			any_enemy_country = {
				controls_state = 716
			}
		}
		if = {
			limit = {
				745 = {
					is_owned_by_ROOT_or_war_ally = yes
				}
			}
			any_enemy_country = {
				controls_state = 745
			}
		}
		if = {
			limit = {
				885 = {
					is_owned_by_ROOT_or_war_ally = yes
				}
			}
			any_enemy_country = {
				controls_state = 885
			}
		}
	}

	option = {
		name = japfor.230.a #Japan offered terms to all nations it is at war with
		ai_chance = {
			factor = 100
		}
		every_country = {
			limit = {
				is_subject = no
				has_war_with = JAP
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
			country_event = japfor.231
		}
		hidden_effect = {
			JAP_fading_sun = yes
			country_event = {
				id = japfor.232
				days = 14
			}
		}
	}
	option = {
		name = japfor.230.b #Japan decides to fight to the bitter end
		ai_chance = {
			factor = 0
		}
		add_political_power = -150
		add_stability = -0.15
		add_war_support = -0.25
	}
}

country_event = { #Do you want peace with Japan?
	id = japfor.231
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.231" }
	title = japfor.231.t
	desc = japfor.231.d

	is_triggered_only = yes

	option = {
		name = japfor.231.a #Yes I want peace
		ai_chance = {
			factor = 100
		}
		custom_effect_tooltip = JAP_offered_peace_and_I_want
	}
	option = {
		name = japfor.231.b #No fuck em'
		ai_chance = {
			factor = 0
		}
		set_global_flag = JAP_no_peace
		custom_effect_tooltip = JAP_offered_peace_and_I_hate_peace
	}
}

country_event = { #Japan gets the answer
	id = japfor.232
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.232" }
	title = japfor.232.t
	desc = {
		text = japfor.232.d
		trigger = {
			NOT = { has_global_flag = JAP_no_peace }
		}
	}
	desc = {
		text = japfor.232.nopeace
		trigger = {
			has_global_flag = JAP_no_peace
		}
	}

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		trigger = {
			NOT = { has_global_flag = JAP_no_peace }
		}
		name = japfor.232.a #yay we get peace

		### Order of the code goes as follows: ###
		# If Qing and Fengtian aren't at with with Japan, give another Chinese tag claims on their land, player prioritised
		# Give people occupied claims/cores
		# Give people other claims/cores
		# Give subjects other claims/cores
		# Annex Korea
		# If you own Beijing, get Taiwan and Port Author
		# Annex Fengtian, give to Beijing owner
		# Give Fengtian to Russia
		# Give Transamur to Russia
		# Give Transamur to Soviets
		# Make Transamur independent if they are still alive
		# Free all Japanese puppets
		# Give Korea to whoever currently holds it
		# Give Korea to whoever holds south Fengtian
		# Give Korea to whoever holds Vladivostok
		# Give Russia Sakhalin and Port Arthur
		# Remove all Japanese claims and cores it doesn't own
		# Tell everyone that the peace event has happened
		# Peace everyone out
		# Inform Co-Prosperity Sphere members
		# Peace out the Co-Prosperity Sphere members
		# Dismantle the Co-Prosperity Sphere
		# Fire the world news event

		### If Qing and Fengtian aren't at with with Japan, give another Chinese tag claims on their land, player prioritised ###
		if = {
			limit = {
				NOT = {
					QIE = {
						has_war_with = JAP
					}
					FNG = {
						has_war_with = JAP
					}
				}
				any_country = {
					is_chinese_tag = yes
					has_war_with = JAP
				}
			}
			if = {
				limit = {
					any_country = {
						is_ai = no
						is_chinese_tag = yes
						has_war_with = JAP
					}
				}
				random_country = {
					limit = {
						is_ai = no
						is_chinese_tag = yes
						has_war_with = JAP
					}
					every_state = {
						limit = {
							is_owned_by = JAP
							OR = {
								is_core_of = QIE
								is_core_of = FNG
								is_claimed_by = QIE
								is_claimed_by = FNG
							}
						}
						add_claim_by = PREV
					}
				}
			}
			else = {
				random_country = {
					limit = {
						is_chinese_tag = yes
						has_war_with = JAP
					}
					every_state = {
						limit = {
							is_owned_by = JAP
							OR = {
								is_core_of = QIE
								is_core_of = FNG
								is_claimed_by = QIE
								is_claimed_by = FNG
							}
						}
						add_claim_by = PREV
					}
				}
			}
		}

		### Give people occupied claims/cores ###
		every_country = {
			limit = { has_war_with = JAP }
			every_state = {
				limit = {
					is_owned_by = JAP
					is_controlled_by = PREV
					is_claim_or_core_of_PREV = yes
				}
				PREV = {
					transfer_state = PREV
				}
			}
		}

		### Give people other claims/cores ###
		every_country = {
			limit = {
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				has_war_with = JAP
			}
			every_state = {
				limit = {
					is_owned_by = JAP
					is_claim_or_core_of_PREV = yes
				}
				PREV = {
					transfer_state = PREV
				}
			}
		}

		### Give subjects other claims/cores ###
		every_country = {
			limit = {
				OR = {
					is_subject = yes
					AND = {
						is_in_faction = yes
						is_faction_leader = no
					}
				}
				has_war_with = JAP
			}
			every_state = {
				limit = {
					is_owned_by = JAP
					is_claim_or_core_of_PREV = yes
				}
				PREV = {
					transfer_state = PREV
				}
			}
		}

		### If you own Beijing, get Taiwan and Port Author ###
		if = {
			limit = {
				any_country = {
					AND = {
						owns_state = 608
						has_war_with = JAP
					}
				}
			}
			random_country = {
				limit = {
					owns_state = 608
				}
				if = {
					limit = { 524 = { is_owned_by = JAP } }
					transfer_state = 524
				}
				if = {
					limit = { 859 = { is_owned_by = JAP } }
					transfer_state = 859
				}
				if = {
					limit = { 745 = { is_owned_by = JAP } }
					transfer_state = 745
				}
			}
		}

		### Make Transamur independent if they are still alive ###
		if = {
			limit = {
				TRM = {
					is_subject_of = JAP
				}
			}
			set_autonomy = {
				target = TRM
				autonomy_state = autonomy_free
			}
		}
		if = {
			limit = {
				RUS = {
					owns_state = 560
				}
			}
			TRM = {
				country_event = rusfor.10877 #get Ropa to check
			}
		}

		### Free all Japanese puppets ###
		every_country = {
			limit = {
				is_subject_of = JAP
			}
			overlord = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
		}

		### Give Korea to whoever currently holds it ###
		every_country = {
			limit = {
				has_war_with = JAP
				controls_state = 525
				controls_state = 527
			}
			if = {
				limit = { 525 = { is_owned_by = JAP } }
				transfer_state = 525
			}
			if = {
				limit = { 527 = { is_owned_by = JAP } }
				transfer_state = 527
			}
		}

		### Give Korea to whoever holds south Fengtian ###
		every_country = {
			limit = {
				owns_state = 328
				has_war_with = JAP
			}
			if = {
				limit = { 525 = { is_owned_by = JAP } }
				transfer_state = 525
			}
			if = {
				limit = { 527 = { is_owned_by = JAP } }
				transfer_state = 527
			}
		}

		### Give Korea to whoever holds Vladivostok ###
		every_country = {
			limit = {
				owns_state = 408
				has_war_with = JAP
			}
			if = {
				limit = { 525 = { is_owned_by = JAP } }
				transfer_state = 525
			}
			if = {
				limit = { 527 = { is_owned_by = JAP } }
				transfer_state = 527
			}
		}

		### Give Russia Sakhalin and Port Arthur ###
		if = {
			limit = {
				RUS = { has_war_with = JAP }
			}
			every_state = {
				limit = {
					owner = { tag = JAP }
					OR = {
						state = 655
						state = 537
						state = 745
					}
				}
				RUS = {
					transfer_state = PREV
				}
			}
		}

		### Remove all Japanese claims and cores it doesn't own ###
		every_state = {
			limit = {
				OR = {
					is_claimed_by = JAP
					is_core_of = JAP
				}
				NOT = { is_owned_by = JAP }
			}
			hidden_effect = {
				JAP = {
					remove_state_claim = PREV
					remove_state_core = PREV
				}
			}
		}

		### Tell everyone that the peace event has happened ###
		hidden_effect = {
			every_country = {
				limit = { has_war_with = JAP }
				country_event = japfor.233
			}
		}

		### Peace everyone out ###
		every_country = {
			limit = {
				has_war_with = JAP
				is_subject = no
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
			white_peace_with_ROOT = yes
		}

		hidden_effect = {

			### Inform Co-Prosperity Sphere members ###
			every_other_country = {
				limit = {
					NOT = { tag = JAP }
					is_in_faction_with = JAP
				}
				set_country_flag = JAP_was_in_sphere
				country_event = japfor.235
			}

			### Peace out the Co-Prosperity Sphere members ###
			every_country = {
				limit = {
					has_war = yes
					is_subject = no
					any_enemy_country = {
						OR = {
							tag = FNG
							has_country_flag = JAP_was_in_sphere
						}
					}
					OR = {
						is_in_faction = no
						is_faction_leader = yes
					}
				}
				country_event = {
					id = japfor.236
					hours = 3
				}
			}
		}

		### Dismantle the Co-Prosperity Sphere ###
		dismantle_faction = yes

		### Fire the world news event ###
		hidden_effect = {
			random_other_country = {
				limit = { is_ai = yes }
				news_event = worldnews.197
			}
		}
	}

	option = {
		trigger = { has_global_flag = JAP_no_peace }
		name = japfor.232.b #aw shit no peace
		every_country = {
			limit = { has_war_with = JAP }
			country_event = japfor.234
		}
	}
}

country_event = { #everyone gets peace
	id = japfor.233
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.233" }
	title = japfor.233.t
	desc = japfor.233.d

	is_triggered_only = yes

	option = {
		name = japfor.233.a
		add_political_power = 50
	}
}

country_event = { #no peace
	id = japfor.234
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.234" }
	title = japfor.234.t
	desc = japfor.234.d

	is_triggered_only = yes

	option = {
		name = japfor.234.a
		add_political_power = -25
	}
}

country_event = { #inform faction members of peace
	id = japfor.235
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.235" }
	title = japfor.235.t
	desc = japfor.235.d

	is_triggered_only = yes

	option = {
		name = japfor.235.a
	}
}

country_event = { # Hidden event to peace out Co-Prosperity members
	id = japfor.236

	is_triggered_only = yes
	hidden = yes

	immediate = {
		# First European faction leaders peace out with any non-neighbours outside of Europe other than National France
		if = {
			limit = {
				is_in_europe = yes
				is_faction_leader = yes
			}
			every_country = {
				limit = {
					has_country_flag = JAP_was_in_sphere
					has_war_with = ROOT
					NOT = {
						tag = NFA
						AND = {
							tag = NZL
							AST = { is_in_faction_with = ROOT }
						}
						has_capitulated = yes
						is_in_europe = yes
						any_owned_state = {
							any_neighbor_state = {
								is_owned_by_ROOT_or_ally = yes
							}
						}
						any_owned_state = {
							is_coastal = yes
							is_controlled_by_ROOT_or_ally = yes
						}
					}
				}
				white_peace = ROOT
			}
		}
		# Then Asian faction leaders peace out with any non-neighbours outside of Asia
		else_if = {
			limit = {
				is_in_asia = yes
				is_faction_leader = yes
			}
			every_country = {
				limit = {
					has_country_flag = JAP_was_in_sphere
					has_war_with = ROOT
					NOT = {
						has_capitulated = yes
						is_in_asia = yes
						AND = {
							tag = NZL
							AST = { is_in_faction_with = ROOT }
						}
						AND = {
							tag = HOL
							ROOT = { tag = INS }
						}
						any_owned_state = {
							any_neighbor_state = {
								is_owned_by_ROOT_or_ally = yes
							}
						}
						any_owned_state = {
							is_coastal = yes
							is_controlled_by_ROOT_or_ally = yes
						}
					}
				}
				white_peace = ROOT
			}
		}
		# Then everyone else peaces out with any non-neighbours not on the same continent
		else = {
			every_country = {
				limit = {
					has_country_flag = JAP_was_in_sphere
					has_war_with = ROOT
					NOT = {
						has_capitulated = yes
						same_continent_as_ROOT = yes
						AND = {
							tag = HOL
							ROOT = { tag = INS }
						}
						any_owned_state = {
							any_neighbor_state = {
								is_owned_by_ROOT_or_ally = yes
							}
						}
						any_owned_state = {
							is_coastal = yes
							is_controlled_by_ROOT_or_ally = yes
						}
					}
				}
				white_peace = ROOT
			}
		}
	}
}

#Involving Anqing

country_event = { #aid anqing?
	id = japfor.257
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.257" }
	title = japfor.257.t
	desc = japfor.257.d

	is_triggered_only = yes

	option = { #yes reconstruction
		name = japfor.257.a
		ai_chance = { factor = 60 }
		ANQ = { set_country_flag = ANQ_fengjapan_aids_reconstruction }
		FNG = {
			country_event = { #japan yes
				id = fengtian.242
				days = 1
			}
		}
	}

	option = { #not worth it
		name = japfor.257.b
		ai_chance = { factor = 40 }
		FNG = {
			country_event = { #japan no
				id = fengtian.242
				days = 1
			}
		}
	}
}

country_event = { #start reconstruction
	id = japfor.258
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.258" }
	title = japfor.258.t
	desc = japfor.258.d

	is_triggered_only = yes

	option = { #okay
		name = japfor.258.a
		add_timed_idea = {
			idea = JAP_ANQ_Reconstruction_Plan
			days = 270
		}
	}
}

country_event = { #anq abandons reclamtion - feng cuts out
	id = japfor.259
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.259" }
	title = japfor.259.t
	desc = japfor.259.d

	is_triggered_only = yes

	option = { #okay
		name = japfor.259.a
		if = {
			limit = {
				has_idea = JAP_ANQ_Reconstruction_Plan
			}
			remove_ideas = JAP_ANQ_Reconstruction_Plan
		}
	}
}

country_event = { #anq abandons reclamtion - feng tolerates
	id = japfor.260
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.260" }
	title = japfor.260.t
	desc = japfor.260.d

	is_triggered_only = yes

	option = { #okay
		name = japfor.260.a
	}
}

country_event = { #anq cuts ties fully itself
	id = japfor.261
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.261" }
	title = japfor.261.t
	desc = japfor.261.d

	is_triggered_only = yes

	option = { #okay
		name = japfor.261.a
		if = {
			limit = {
				has_idea = JAP_ANQ_Reconstruction_Plan
			}
			remove_ideas = JAP_ANQ_Reconstruction_Plan
		}
	}
}


########################
###New Foreign Policy###
########################

country_event = { #Sending diplomats to Siam (Hidden)
	id = japfor.300
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.300" }
	title = japfor.300.t
	desc = japfor.300.d

	is_triggered_only = yes

	hidden = yes

	option = {
		name = japfor.300.a
		if = { #Check if SIA is already in Japan's faction
			limit = {
				OR = {
					SIA = {
						is_subject_of = JAP
					}
					SIA = {
						is_in_faction_with = JAP
					}
				}
			}
			add_political_power = 15
			JAP = {
				add_opinion_modifier = {
					target = SIA
					modifier = baron_leave_good #replace with reaffirmed_ties +20
				}
			}
			SIA = {
				add_opinion_modifier = {
					target = JAP
					modifier = baron_leave_good #replace with reaffirmed_ties +20
				}
			}
		}
		else_if = {
			limit = {
				SIA = { # Various "NOT" used here to point out cases where Siam can't join the GCOPS
					exists = yes
					not_has_socialist_government = yes
					NOT = {
						has_war_with = JAP
						} # Obvious Enough
					NOT = {
						is_faction_leader = yes
						} # Asia can only be under Japanese Hegemony - not other Asians!
					NOT = {
						is_in_faction = yes
						} # Won't betray their alies for dakimakura again
					NOT = {
						is_subject = yes
						} # How the fck subject can do foreign affairs stuff by themselves anyway?
				}
			}
			set_country_flag = JAP_SIA_interested
		}
		else = {
			set_country_flag = SIA_Later
			} #flag for a more expensive join request later
	}
}

country_event = { #Sending diplomats to the Philippines (Hidden)
	id = japfor.301
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.301" }
	title = japfor.301.t
	desc = japfor.301.d

	is_triggered_only = yes

	hidden = yes

	option = {
		name = japfor.301.a
		if = { #Check if PHI is already in Japan's faction
			limit = {
				OR = {
					PHI = {
						is_subject_of = JAP
					}
					PHI = {
						is_in_faction_with = JAP
					}
				}
			}
			add_political_power = 15
			JAP = {
				add_opinion_modifier = {
					target = PHI
					modifier = baron_leave_good #replace with reaffirmed_ties +20
				}
			}
			PHI = {
				add_opinion_modifier = {
					target = JAP
					modifier = baron_leave_good #replace with reaffirmed_ties +20
				}
			}
		}
		else_if = {
			limit = {
				PHI = { # Various "NOT" used here to point out cases where Siam can't join the GCOPS
					exists = yes
					not_has_socialist_government = yes
					NOT = {
						has_war_with = JAP
						} # Obvious Enough
					NOT = {
						is_faction_leader = yes
						} # Asia can only be under Japanese Hegemony - not other Asians!
					NOT = {
						is_in_faction = yes
						} # Won't betray their alies for dakimakura again
					NOT = {
						is_subject = yes
						} # How the fck subject can do foreign affairs stuff by themselves anyway?
				}
			}
			set_country_flag = JAP_PHI_interested
		}
		else = {
			set_country_flag = PHI_Later
			} #flag for a more expensive join request later
	}
}

#country_event = { #Economic Aid Planning
#	id = japfor.310
#	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.310" }
#	title = japfor.310.t
#	desc = japfor.310.d
#
#	is_triggered_only = yes
#
#	option = { #Expansive Aid
#		name = japfor.310.a
#		add_political_power = -30
#		custom_effect_tooltip = JAP_Large_Eco_Aid_tt
#		hidden_effect = {
#			set_country_flag = JAP_Large_Eco_Aid
#			set_country_flag = JAP_Eco_Decided
#		}
#	}
#
#	option = { #Standard Aid
#		name = japfor.310.b
#		add_political_power = -15
#		custom_effect_tooltip = JAP_Medium_Eco_Aid_tt
#		hidden_effect = {
#			set_country_flag = JAP_Medium_Eco_Aid
#			set_country_flag = JAP_Eco_Decided
#		}
#	}
#
#	option = { #Small Aid
#		name = japfor.310.c
#		custom_effect_tooltip = JAP_Small_Eco_Aid_tt
#		hidden_effect = {
#			set_country_flag = JAP_Small_Eco_Aid
#			set_country_flag = JAP_Eco_Decided
#		}
#	}
#}
#
#country_event = { #Military Aid Planning
#	id = japfor.311
#	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.311" }
#	title = japfor.311.t
#	desc = japfor.311.d
#
#	is_triggered_only = yes
#
#	option = { #Expansive Aid
#		name = japfor.311.a
#		add_political_power = -30
#		custom_effect_tooltip = JAP_Large_Mil_Aid_tt
#		hidden_effect = {
#			set_country_flag = JAP_Large_Mil_Aid
#			set_country_flag = JAP_Mil_Decided
#		}
#	}
#
#	option = { #Standard Aid
#		name = japfor.311.b
#		add_political_power = -15
#		custom_effect_tooltip = JAP_Medium_Mil_Aid_tt
#		hidden_effect = {
#			set_country_flag = JAP_Medium_Mil_Aid
#			set_country_flag = JAP_Mil_Decided
#		}
#	}
#
#	option = { #Small Aid
#		name = japfor.311.c
#		custom_effect_tooltip = JAP_Small_Mil_Aid_tt
#		hidden_effect = {
#			set_country_flag = JAP_Small_Mil_Aid
#			set_country_flag = JAP_Mil_Decided
#		}
#	}
#}

country_event = { #Formation of the Central Agriculture Association
	id = japfor.312
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.312" }
	title = japfor.312.t
	desc = japfor.312.d

	is_triggered_only = yes

	option = { #A necessary step to achieve our goals
		name = japfor.312.a
		add_stability = -0.05
		hidden_effect = {
			set_country_flag = JAP_formed_caa
		}
	}
}

country_event = { #Mantetsu seeks to build factory in our land (Changchun)
	id = japfor.313
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.313" }
	title = japfor.313.t
	desc = japfor.313.d

	is_triggered_only = yes

	option = { #Allow them to build the factory
		name = japfor.313.a
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		886 = {
			add_extra_state_shared_building_slots = 1
		}
		886 = {
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		ai_chance = {
			factor = 95
		}
	}

	option = { #Don't bend the knee to foreign influence
		name = japfor.313.b
		add_stability = -0.02
		add_popularity = {
			ideology = market_liberal
			popularity = -0.01
		}
		ai_chance = {
			factor = 05
		}
	}
}

country_event = { #Japan helping our factories
	id = japfor.314
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.314" }
	title = japfor.314.t
	desc = japfor.314.d

	is_triggered_only = yes

	option = { #Assistance is appreciated
		name = japfor.314.a
		add_popularity = {
			ideology = market_liberal
			popularity = 0.01
		}
		ai_chance = {
			factor = 70
		}
	}

	option = { #We don't need their help
		name = japfor.314.b
		add_popularity = {
			ideology = market_liberal
			popularity = -0.01
		}
		ai_chance = {
			factor = 30
		}
	}
}

country_event = { #Mantetsu seeks to build factory in our land (Shenyang)
	id = japfor.315
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.315" }
	title = japfor.315.t
	desc = japfor.315.d

	is_triggered_only = yes

	option = { #Allow them to build the factory
		name = japfor.315.a
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		716 = {
			add_extra_state_shared_building_slots = 1
		}
		716 = {
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		ai_chance = {
			factor = 95
		}
	}

	option = { #Don't bend the knee to foreign influence
		name = japfor.315.b
		add_stability = -0.02
		add_popularity = {
			ideology = market_liberal
			popularity = -0.01
		}
		ai_chance = {
			factor = 05
		}
	}
}

####Extra events for Paul's foreign tree rework

country_event = { #Japan lays claim to the American Pacific
	id = japfor.316
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.316" }
	title = japfor.316.t
	desc = japfor.316.d

	is_triggered_only = yes

	trigger = {
		OR = {
			owns_state = 632
			owns_state = 631
			owns_state = 642
			owns_state = 727
			owns_state = 726
			owns_state = 630
		}
		NOT = { has_war_with = FROM }
	}

	option = { #We can't afford to bother with this
		name = japfor.316.a
		ai_chance = {
			factor = 95
			modifier = {
				factor = 0.5
				tag = HAW
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 632 #Wake Island
					state = 631 #Midway Island
					state = 642 #Phoenix Island
					state = 727 #Line Islands
					state = 726 #Samoa
					state = 630 #Johnston Atoll
				}
			}
			FROM = { transfer_state = PREV }
		}
		FROM = {
			country_event = japfor.317
		}
	}

	option = { #Object to this move
		name = japfor.316.b
		ai_chance = {
			factor = 5
			modifier = {
				add = -5
				has_war = yes
			}
		}
		FROM = { country_event = japfor.318 }
	}
}

country_event = { #The American islands are ours!
	id = japfor.317
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.317" }
	title = japfor.317.t
	desc = japfor.317.d

	is_triggered_only = yes

	option = { #Subarashi!
		name = japfor.317.a
		add_stability = 0.05
	}
}

country_event = { #The Americans object
	id = japfor.318
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.318" }
	title = japfor.318.t
	desc = japfor.318.d

	is_triggered_only = yes

	option = { #Press on with the occupation
		name = japfor.318.a
		ai_chance = {
			factor = 90
		}
		FROM = {
			every_owned_state = {
				limit = {
					OR = {
						state = 632 #Wake Island
						state = 631 #Midway Island
						state = 642 #Phoenix Island
						state = 727 #Line Islands
						state = 726 #Samoa
						state = 630 #Johnston Atoll
					}
				}
				ROOT = { transfer_state = PREV }
			}
		}
		FROM = {
			country_event = japfor.319
		}
	}
	option = { #Back down
		name = japfor.318.b
		ai_chance = {
			factor = 10
		}
		set_country_flag = JAP_backed_down_pacific
		add_stability = -0.05
		every_state = {
			limit = {
				is_claimed_by = ROOT
				OR = {
					state = 632 #Wake Island
					state = 631 #Midway Island
					state = 642 #Phoenix Island
					state = 727 #Line Islands
					state = 726 #Samoa
					state = 630 #Johnston Atoll
				}
			}
			remove_claim_by = ROOT
		}
	}
}

country_event = { #Japan has ignored our objections
	id = japfor.319
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.319" }
	title = japfor.319.t
	desc = japfor.319.d

	is_triggered_only = yes

	option = { #They want war, we'll give them war!
		name = japfor.319.a
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { tag = HAW }
				load_oob = HAW_resist
			}
		}
		every_state = {
			limit = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					state = 632 #Wake Island
					state = 631 #Midway Island
					state = 642 #Phoenix Island
					state = 727 #Line Islands
					state = 726 #Samoa
					state = 630 #Johnston Atoll
				}
			}
			add_claim_by = ROOT
		}
		declare_war_on = {
			target = JAP
			type = annex_everything
		}
	}

	option = {  #We don't really want this...
		name = japfor.319.b
		ai_chance = { factor = 70 }
		add_stability = -0.1
	}
}


#########################
### Crushing Fengtian ###
#########################

country_event = { #Explain to Japan what the Concordia Association is and how it works.
	id = japfeng.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfeng.1" }
	title = japfeng.1.t
	desc = japfeng.1.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { #If the bird will not sing...
		name = japfeng.1.a
		FNG = {
			country_event = japfeng.2
		}
	}
}

country_event = { #Explain to Fengtian that Japan is about to come down like a tonne of bricks
	id = japfeng.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfeng.2" }
	title = japfeng.2.t
	desc = japfeng.2.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { #Yikes
		name = japfeng.2.a
		FNG = {
			country_event = japfeng.2
		}
	}
}

country_event = { #Japan makes its decision
	id = japfeng.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfeng.3" }
	title = japfeng.1.t
	desc = japfeng.1.d
	fire_only_once = yes
	is_triggered_only = yes

	option = { #Kill it
		name = japfeng.3.a
		ai_chance = {
			factor = 40
			modifier = {
				has_government = national_populist
				factor = 2
			}
			modifier = {
				has_completed_focus = JAP_chuou
				factor = 5
			}
		}
		FNG = {
			country_event = japfeng.2
		}
		declare_war_on = {
			type = annex_everything
			target = FNG
		}
	}

	option = { #Coax it
		name = japfeng.3.b
		ai_chance = {
			factor = 60
			modifier = {
				FNG = {
					market_liberal < 50
				}
				factor = 0.5
			}
			modifier = {
				FNG = {
					market_liberal < 40
				}
				factor = 0.5
			}
			modifier = {
				FNG = {
					market_liberal < 30
				}
				factor = 0.5
			}
			modifier = {
				FNG = {
					market_liberal < 20
				}
				factor = 0.5
			}
		}
	}

	option = { #Wait for it
		name = japfeng.3.c
		ai_chance = {
			factor = 0
		}
	}
}


#####################################
###  Co-Prosperity Sphere Events  ###
#####################################

country_event = { #Setup and monthly checking
	id = japfor.400
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.400" }

	hidden = yes
	is_triggered_only = yes

	trigger = {
		is_faction_leader = yes
		NOT = { has_global_flag = JAP_Fading_Sun }
	}

	immediate = {
		JAP_recalculate_economic_integration = yes
		country_event = { id = japfor.400 days = 30 }
	}
}

country_event = { #Invited into economic sphere (via decision)
	id = japfor.401
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.401" }
	title = japfor.401.t

	desc = {
		text = japfor.401.d.conf
		trigger = { has_country_flag = tokyo_conference_trade_ally }
	}
	desc = {
		text = japfor.401.d.noconf
		trigger = { NOT = { has_country_flag = tokyo_conference_trade_ally } }
	}

	is_triggered_only = yes

	option = {
		name = japfor.401.a #Agree
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				OR = {
					has_government = national_populist
					tag = PHI
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
			}
			modifier = {
				factor = 1.2
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value > 100 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value > 150 }
			}
		}
		clr_country_flag = JAP_was_invited_into_sphere
		add_to_array = { global.asian_economic_sphere = ROOT }
		JAP_recalculate_economic_integration = yes
		add_dynamic_modifier = {
			modifier = JAP_asian_economic_sphere_member
		}
		if = {
			limit = {
				NOT = {
					is_in_faction_with = FROM
					is_guaranteed_by = FROM
					is_subject_of = FROM
				}
			}
			FROM = {
				effect_tooltip = { give_guarantee = ROOT }
			}
		}
		FROM = {
			if = {
				limit = { has_opinion_modifier = KR_disapproves_of_govt }
				remove_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			}
			if = {
				limit = { has_opinion_modifier = KR_hates_govt }
				remove_opinion_modifier = { target = ROOT modifier = KR_hates_govt }
			}
			if = {
				limit = { has_opinion_modifier = KR_outraged }
				remove_opinion_modifier = { target = ROOT modifier = KR_outraged }
			}
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = japfor.402
		}
	}
	option = {
		name = japfor.401.b #Refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					has_government = national_populist
					tag = PHI
				}
			}
			modifier = {
				factor = 0.2
				tag = SIA
			}
			modifier = {
				factor = 0
				OR = {
					is_subject_of = FROM
					is_in_faction_with = FROM
					has_country_flag = tokyo_conference_trade_ally
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < -50 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < -100 }
			}
		}
		clr_country_flag = JAP_was_invited_into_sphere
		set_country_flag = JAP_refused_sphere_invitation
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = japfor.403
		}
	}
}

country_event = { #Accepted
	id = japfor.402
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.402" }
	title = japfor.402.t
	desc = japfor.402.d

	is_triggered_only = yes

	option = {
		name = japfor.402.a
		add_political_power = 25
		add_opinion_modifier = { target = FROM modifier = KR_approves_of_govt }
		if = {
			limit = {
				NOT = {
					is_in_faction_with = FROM
					FROM = { is_guaranteed_by = ROOT }
					FROM = { is_subject_of = ROOT }
				}
			}
			give_guarantee = FROM
		}
		if = {
			limit = {
				NOT = {
					has_dynamic_modifier = {
						modifier = JAP_asian_economic_sphere
					}
				}
			}
			add_dynamic_modifier = {
				modifier = JAP_asian_economic_sphere
			}
		}
	}
}

country_event = { #Refused
	id = japfor.403
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.403" }
	title = japfor.403.t
	desc = japfor.403.d

	is_triggered_only = yes

	option = {
		name = japfor.403.a
		add_political_power = -25
		reverse_add_opinion_modifier = { target = FROM modifier = KR_hates_govt }
	}
}

country_event = { #Removing a country from the economic sphere
	id = japfor.404
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.404" }

	hidden = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { has_war_with = JAP }
			set_country_flag = JAP_refused_sphere_invitation
		}
		remove_from_array = { global.asian_economic_sphere = ROOT }
		if = {
			limit = { has_idea = JAP_member_integration_1 }
			remove_ideas = JAP_member_integration_1
		}
		if = {
			limit = { has_idea = JAP_member_integration_2 }
			remove_ideas = JAP_member_integration_2
		}
		if = {
			limit = { has_idea = JAP_member_integration_3 }
			remove_ideas = JAP_member_integration_3
		}
		remove_dynamic_modifier = {
			modifier = JAP_asian_economic_sphere_member
		}
		if = {
			limit = { is_guaranteed_by = JAP }
			JAP = {
				diplomatic_relation = {
					country = ROOT
					relation = guarantee
					active = no
				}
			}
		}
		JAP_recalculate_economic_integration = yes
	}
}

country_event = { #Japan promotes investment
	id = japfor.405
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.405" }
	title = japfor.405.t
	desc = japfor.405.d

	is_triggered_only = yes

	option = {
		name = japfor.405.a
		add_stability = 0.03
		if = {
			limit = { has_idea = JAP_member_integration_1 }
			set_variable = { JAP_investment_buyout = 250 }
			swap_ideas = {
				remove_idea = JAP_member_integration_1
				add_idea = JAP_member_integration_2
			}
		}
		else_if = {
			limit = { has_idea = JAP_member_integration_2 }
			set_variable = { JAP_investment_buyout = 400 }
			swap_ideas = {
				remove_idea = JAP_member_integration_2
				add_idea = JAP_member_integration_3
			}
		}
		else = {
			set_variable = { JAP_investment_buyout = 100 }
			add_ideas = JAP_member_integration_1
		}
		hidden_effect = {
			country_event = { id = japfor.406 days = 120 random = 1440 }
		}
	}
}

country_event = { #Japanese investment builds a factory
	id = japfor.406
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.406" }
	title = japfor.406.t
	desc = japfor.406.d

	is_triggered_only = yes

	trigger = {
		is_in_array = { global.asian_economic_sphere = ROOT }
		country_exists = JAP
		any_owned_state = {
			is_core_of = ROOT
			is_controlled_by = ROOT
			industrial_complex > 0
		}
	}

	option = {
		name = japfor.406.a
		random_owned_state = {
			limit = {
				is_core_of = ROOT
				is_controlled_by = ROOT
				industrial_complex > 0
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

country_event = { #Japanese economic takeover
	id = japfor.407
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.407" }
	title = japfor.407.t
	desc = japfor.407.d

	is_triggered_only = yes

	trigger = {
		is_in_array = { global.asian_economic_sphere = ROOT }
		country_exists = JAP
		is_subject = no
		has_idea = JAP_member_integration_3
	}

	option = {
		name = japfor.407.a
		remove_ideas = JAP_member_integration_3
		get_current_government_type = yes
		JAP = {
			set_autonomy = {
				target = ROOT
				autonomy_state = kr_special_autonomous_dependency
			}
		}
		restore_previous_government_type = yes
	}
}

country_event = { #country withdraws from alliance
	id = japfor.408
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.408" }
	title = japfor.408.t
	desc = japfor.408.d

	is_triggered_only = yes

	option = {
		name = japfor.408.a
		remove_from_faction = FROM
		hidden_effect = {
			country_event = kr.political.200
			FROM = { country_event = kr.political.200 }
			every_country = {
				limit = { is_in_faction_with = ROOT }
				country_event = { id = kr.political.200 days = 1 }
			}
		}
	}
}

country_event = { #country withdraws from economic sphere
	id = japfor.409
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.409" }
	title = japfor.409.t
	desc = japfor.409.d

	is_triggered_only = yes

	option = {
		name = japfor.409.a
		add_political_power = -25
	}
}

country_event = { #country nationalizes Japanese investments
	id = japfor.410
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.410" }
	title = japfor.410.t
	desc = japfor.410.d

	is_triggered_only = yes

	option = {
		name = japfor.410.a #Let them go
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.2
				has_war = no
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		add_political_power = -50
		add_stability = -0.03
	}
	option = {
		name = japfor.410.b #They have no right!
		trigger = { NOT = { has_capitulated = yes } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
			modifier = {
				factor = 2.0
				strength_ratio = { tag = FROM ratio > 3.0 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 0
				has_war = yes
				surrender_progress > 0.20
			}
			modifier = {
				factor = 0
				has_war = yes
				FROM = {
					is_in_faction = yes
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			remove_from_faction = FROM
		}
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

country_event = { #sphere member joins another faction
	id = japfor.411
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.411" }
	title = japfor.411.t
	desc = japfor.411.d

	is_triggered_only = yes

	trigger = {
		tag = JAP
		has_completed_focus = JAP_osaka_conference
		is_faction_leader = yes
		any_of = {
			array = global.asian_economic_sphere
			var:v = {
				is_in_faction = yes
				NOT = { is_in_faction_with = ROOT }
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					NOT = { tag = JAP }
					is_in_array = { global.asian_economic_sphere = THIS }
					is_in_faction = yes
					NOT = { is_in_faction_with = ROOT }
				}
				save_event_target_as = withdraw_country
			}
		}
	}

	option = {
		name = japfor.411.a
		event_target:withdraw_country = {
			custom_effect_tooltip = JAP_THIS_withdraws_from_sphere
			hidden_effect = {
				country_event = japfor.412
			}
		}
	}
}

country_event = { #sphere member removed
	id = japfor.412
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.412" }
	title = japfor.412.t
	desc = japfor.412.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = JAP_refused_sphere_invitation
			country_event = japfor.404
		}
	}

	option = {
		name = japfor.412.a
		custom_effect_tooltip = JAP_withdraws_from_sphere
		reverse_add_opinion_modifier = { target = JAP modifier = KR_disapproves_of_govt }
	}
}


####################################################################
### Australasia/Australia/New Zealand: Japan strangles our trade ###
####################################################################
country_event = { #Japan and the Asian Economic Sphere embargo us!
	id = japfor.450
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.450" }
	title = japfor.450.t
	desc = japfor.450.d

	is_triggered_only = yes

	option = { #We can endure this
		name = japfor.450.a
		ai_chance = {
			factor = 55
			modifier = {
				NOT = { has_government = national_populist }
				factor = 1.2
			}
			modifier = {
				has_government = paternal_autocrat
				factor = 1.2
			}
		}
		add_ideas = JAP_trade_embargoed
		JAP = {
			country_event = { id = japfor.453 days = 1 }
		}
	}

	option = { #Seek closer economic ties with the Japanese
		name = japfor.450.c
		trigger = {
			tag = AST
			has_government = paternal_autocrat
			NOT = { has_completed_focus = AST_ties_with_japan }
		}
		ai_chance = {
			factor = 100
		}
		set_country_flag = AST_has_ties_with_japan
		add_ideas = JAP_trade_embargoed
		JAP = {
			country_event = { id = japfor.452 days = 1 }
		}
	}
	option = { #Impose our own tarrifs
		name = japfor.450.b
		ai_chance = {
			factor = 45
			modifier = {
				is_in_faction = no
				factor = 0.2
			}
			modifier = {
				has_completed_focus = AST_anderson_doctrine
				factor = 5
			}
			modifier = {
				has_government = paternal_autocrat
				factor = 0
			}
		}
		add_ideas = JAP_trade_embargoed
		add_opinion_modifier = { target = JAP modifier = embargo }
		JAP = {
			country_event = { id = japfor.451 days = 1 }
		}
	}
}

country_event = { #Japan and the Asian Economic Sphere embargo us!
	id = japfor.451
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.451" }
	title = japfor.451.t
	desc = japfor.451.d
	is_triggered_only = yes

	option = { #We can endure this
		name = japfor.451.a
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				has_war = no
			}
		}
		add_war_support = 0.05
	}
	option = { #War!
		name = japfor.451.b
		ai_chance = {
			factor = 75
		}
		add_war_support = 0.05
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
}

country_event = { #Australia wants closer ties
	id = japfor.452
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.452" }
	title = japfor.452.t
	desc = japfor.452.d
	is_triggered_only = yes

	option = {
		name = japfor.452.a
		add_political_power = 50
		custom_effect_tooltip = JAP_AST_joins_sphere
		AST = {
			country_event = austral.133
		}
		remove_opinion_modifier = { target = AST modifier = embargo }
		hidden_effect = {
			for_each_loop = {
				array = global.asian_economic_sphere
				remove_opinion_modifier = { target = AST modifier = embargo }
			}
		}
	}
}

country_event = { #Australia/NZ choose to endure the embargo
	id = japfor.453
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.453" }
	title = japfor.453.t
	desc = japfor.453.d
	is_triggered_only = yes

	option = {
		name = japfor.453.a
	}
}


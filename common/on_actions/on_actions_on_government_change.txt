on_actions = {

	on_government_change = {
		effect = {
			log = "[GetDateText] [Root.GetName] on_government_change"
			country_event = kr.political.41 #opinion modifiers
			country_event = kr.political.12 #puppet ministers
			
			# return all volunteers if changed to or from socialist=
			if = {
				limit = {
					has_country_flag = KR_has_socialist_government
					has_socialist_government = no
				}
				clr_country_flag = KR_has_socialist_government
				clear_all_sent_volunteers = yes
			}
			else_if = {
				limit = {
					has_socialist_government = yes
					NOT = { has_country_flag = KR_has_socialist_government }
				}
				set_country_flag = KR_has_socialist_government
				clear_all_sent_volunteers = yes
			}

			if = {
				limit = {
					is_in_array = { global.asian_economic_sphere = ROOT }
					has_socialist_government = yes
				}
				country_event = japfor.404
			}

			if = {
				limit = {
					tag = POL
					has_socialist_government = no
				}
				random_unit_leader = {
					limit = { has_id = 490 } #Rokossowski
					set_nationality = FRA
				}
			}
			else_if = {
				limit = {
					tag = POL
					has_socialist_government = yes
				}
				FRA = {
					random_unit_leader = {
						limit = { has_id = 490 } #Rokossowski
						set_nationality = POL
					}
				}
			}

			if = {
				limit = {
					tag = BRA
					not_has_elected_government = yes
				}
				set_country_flag = BRA_is_dictatorship
			}
			if = {
				limit = { tag = TEX }
				mark_focus_tree_layout_dirty = yes
			}
			else_if = {
				limit = { tag = SZC }
				SZC_add_government_ministers = yes
			}
			else_if = {
				limit = {
					tag = HAW
					OR = {
						has_country_flag = HAW_monarchy_restored
						has_country_flag = HAW_republic_declared
						has_country_flag = HAW_revolution_commune_declared
					}
				}
				if = {
					limit = {
						has_country_flag = HAW_revolution_commune_declared
						has_socialist_government = no
					}
					clr_country_flag = HAW_revolution_commune_declared
					set_country_flag = HAW_republic_declared
				}
				else_if = {
					limit = {
						NOT = { has_country_flag = HAW_revolution_commune_declared }
						has_socialist_government = yes
					}
					set_country_flag = HAW_revolution_commune_declared
					clr_country_flag = HAW_monarchy_restored
					clr_country_flag = HAW_republic_declared
				}
				else_if = {
					limit = {
						has_country_flag = HAW_monarchy_restored
						has_elected_government = no
					}
					clr_country_flag = HAW_monarchy_restored
					set_country_flag = HAW_republic_declared
				}
			}
			else_if = {
				limit = {
					is_co_prosperity_candidate = yes
					is_puppet_of = JAP
				}
				add_to_array = { global.JAP_possible_allies_array = ROOT }
				set_variable = { ROOT.japanese_economic_influence = 0 }
			}
		}
	}
}

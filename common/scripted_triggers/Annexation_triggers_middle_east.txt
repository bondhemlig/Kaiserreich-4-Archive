#Arabia - annexation_SAU_CONQ
can_release_arabia = {
	OR = {
		state = 292 #Nejd
		state = 915 #Hail
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = SAU
			tag = JBS
			tag = YEM
			tag = JOR
			has_country_flag = SAU_CONQ
			country_exists = SAU
			country_exists = JBS
		}
		OR = {
			is_ai = no
			NOT = { country_exists = JOR }
			is_ally_with = JOR
		}
	}
}

#Armenia - annexation_ARM_CONQ
can_release_armenia = {
	state = 230 #Yerevan
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_russia_first = yes
		if = {
			limit = {
				OR = {
					is_ally_with = RUS
					is_ally_with = TRM
					is_ally_with = SOV
				}
			}
			should_release_don_kuban_first = yes
		}
		should_release_georgia_first = yes
		NOT = {
			tag = GEO
			tag = OTT
			has_country_flag = ARM_CONQ
			country_exists = ARM
		}
	}
}

#Azerbaijan - annexation_AZR_CONQ
can_release_azerbaijan = {
	state = 990 #Baku
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_russia_first = yes
		if = {
			limit = {
				OR = {
					is_ally_with = RUS
					is_ally_with = TRM
					is_ally_with = SOV
				}
			}
			should_release_don_kuban_first = yes
		}
		should_release_georgia_first = yes
		NOT = {
			tag = GEO
			has_country_flag = AZR_CONQ
			country_exists = AZR
		}
	}
}

#Georgia
can_release_georgia = {
	state = 231 #Sakartvelo
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_russia_first = yes
		if = {
			limit = {
				OR = {
					is_ally_with = RUS
					is_ally_with = TRM
					is_ally_with = SOV
				}
			}
			should_release_don_kuban_first = yes
		}
		NOT = {
			has_country_flag = GEO_CONQ
			country_exists = GEO
		}
	}
}

#Hejaz - annexation_HEJ_CONQ
can_release_hejaz = {
	OR = {
		state = 679 #Hejaz
		state = 754 #Medina
	}
	is_claim_or_core_of_ROOT = no
	OR = {
		NOT = { country_exists = JOR }
		is_ally_with = JOR
	}
	ROOT = {
		NOT = {
			tag = SAU
			tag = JBS
			tag = OTT
			tag = YEM
			tag = JOR
			292 = { is_owned_and_controlled_by = ROOT } #Nejd
			915 = { is_owned_and_controlled_by = ROOT } #Hail
			has_war_with = SAU
			has_war_with = JBS
			AND = {
				tag = EGY
				NOT = {
					has_country_flag = EGY_cairo_conference_new_states
				}
			}
			has_country_flag = HEJ_CONQ
		}
	}
}

#Iraq - annexation_IRQ_CONQ
can_release_iraq = {
	state = 291 #Baghdad
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_turkey_first = yes
		should_release_persia_first = yes
		should_release_arabia_first = yes
		NOT = {
			tag = OTT
			country_exists = IRQ
			has_country_flag = IRQ_CONQ
		}
	}
}

#Karabakh - annexation_KARABAKH_CONQ
can_release_karabakh = {
	state = 998 #Highland Karabakh
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_armenia_first = yes
		# Do Azerbaijani release first
		OR = {
			country_exists = AZR
			has_country_flag = AZR_CONQ
			NOT = {
				990 = { #Baku
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			tag = ARM
			tag = AZR
			ARM = { ROOT_can_grant_land = yes }
			AZR = { ROOT_can_grant_land = yes }
		}
		NOT = { has_country_flag = KARABAKH_CONQ }
	}
}

#Kars - annexation_KARS_CONQ
can_release_kars = {
	state = 1000 #Kars-Igdir
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_armenia_first = yes
		should_release_turkey_first = yes
		OR = {
			tag = ARM
			tag = TUR
			tag = OTT
			AND = {
				is_russian_tag = yes
				owns_state = 230 #Yerevan
			}
			ARM = { ROOT_can_grant_land = yes }
			GEO = { ROOT_can_grant_land = yes }
			var:355.owner = { #Trebizond
				OR = {
					tag = OTT
					tag = TUR
				}
				ROOT_can_grant_land = yes
			}
		}
		NOT = { has_country_flag = KARS_CONQ }
	}
}

#Kurdistan - annexation_KUR_CONQ
can_release_kurdistan = {
	is_kurdistan = yes
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_turkey_first = yes
		should_release_persia_first = yes
		# do Iraq release first
		OR = {
			country_exists = IRQ
			has_country_flag = IRQ_CONQ
			NOT = {
				291 = { #Baghdad
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			tag = OTT
			country_exists = KUR
			has_country_flag = KUR_CONQ
		}
	}
}

#Lazistan - annexation_LAZISTAN_CONQ
can_release_lazistan = {
	state = 1001 #Lazistan
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_armenia_first = yes
		should_release_georgia_first = yes
		should_release_turkey_first = yes
		OR = {
			tag = ARM
			tag = GEO
			tag = TUR
			tag = OTT
			AND = {
				is_russian_tag = yes
				OR = {
					owns_state = 230 #Yerevan
					owns_state = 231 #Georgia
				}
			}
			ARM = { ROOT_can_grant_land = yes }
			GEO = { ROOT_can_grant_land = yes }
			var:354.owner = { #Erzurum
				OR = {
					tag = OTT
					tag = TUR
				}
				ROOT_can_grant_land = yes
			}
		}
		NOT = { has_country_flag = LAZISTAN_CONQ }
	}
}

#Lebanon - annexation_LEB_CONQ
can_release_lebanon = {
	state = 553 #Beirut
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_syria_first = yes
		NOT = {
			tag = OTT
			country_exists = LEB
			has_country_flag = LEB_CONQ
		}
	}
}

#Levant - annexation_SYR_CONQ
can_release_levant = {
	state = 554 #Syria
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_turkey_first = yes
		should_release_egypt_first = yes
		should_release_arabia_first = yes
		NOT = {
			tag = OTT
			country_exists = SYR
			has_country_flag = SYR_CONQ
		}
	}
}

#Oman - annexation_OMA_CONQ
can_release_oman = {
	state = 294 #Muscat
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = JBS
			tag = SAU
			has_country_flag = OMA_CONQ
			country_exists = OMA
		}
	}
}

#Persia - annexation_PER_CONQ
can_release_persia = {
	state = 266 #Tehran
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = PER_CONQ
			country_exists = PER
			AND = {
				tag = OTT
				has_war_with = EGY
				EGY = { is_faction_leader = yes }
			}
		}
	}
}

#Sinai - annexation_SINAI_CONQ
can_release_sinai = {
	state = 453 #Sinai
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_egypt_first = yes
		NOT = { has_country_flag = SINAI_CONQ }
	}
}

#Turkey - annexation_TUR_CONQ
can_release_turkey = {
	state = 49 #Ankara
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = KUR
			has_country_flag = TUR_CONQ
			country_exists = TUR
			country_exists = OTT
		}
	}
}

#Yemen - annexation_YEM_CONQ
can_release_yemen = {
	state = 293 #Yemen
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = JBS
			tag = SAU
			has_country_flag = YEM_CONQ
			country_exists = YEM
		}
	}
}

### SPECIAL TRIGGERS ###

should_release_arabia_first = {
	OR = {
		country_exists = JBS
		country_exists = SAU
		country_exists = JOR
		has_country_flag = SAU_CONQ
		NOT = {
			292 = { #Nejd
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			915 = { #Hail
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

should_release_armenia_first = {
	OR = {
		country_exists = ARM
		has_country_flag = ARM_CONQ
		NOT = {
			230 = { #Yerevan
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

should_release_don_kuban_first = {
	OR = {
		country_exists = DKB
		has_country_flag = DKB_CONQ
		NOT = {
			234 = { #Yekaterinodar
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

should_release_georgia_first = {
	OR = {
		country_exists = GEO
		has_country_flag = GEO_CONQ
		NOT = {
			231 = { #Sakartvelo
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

should_release_persia_first = {
	OR = {
		country_exists = PER
		has_country_flag = PER_CONQ
		NOT = {
			266 = { #Tehran
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

should_release_syria_first = {
	OR = {
		country_exists = SYR
		has_country_flag = SYR_CONQ
		NOT = {
			554 = { #Syria
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

should_release_turkey_first = {
	OR = {
		country_exists = TUR
		country_exists = OTT
		has_country_flag = OTT_CONQ
		NOT = {
			49 = { #Ankara
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

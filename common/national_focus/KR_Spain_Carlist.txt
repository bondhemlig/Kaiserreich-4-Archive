focus_tree = {
	id = CAR_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CAR
		}
	}
	default = no
	
### Rise to Power

focus = {
		id = CAR_election_success
		icon = GFX_goal_generic_demand_territory
		available = {
			has_country_flag = election_success
		}
		mutually_exclusive = { focus = CAR_aftermath_of_civil_war }
		x = 7Apa
		y = 0
		cost = 1
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			custom_effect_tooltip = CAR_election_success_tooltip
			add_political_power = 180
			country_event = { id = cntd.1 }
			set_country_flag = CAR_by_election
		}
}
	
focus = {
		id = CAR_aftermath_of_civil_war
		icon = GFX_goal_generic_major_war
		available = {
			has_country_flag = had_war
			NOT = { has_war_with = SPR }
			NOT = { has_war_with = CNT }
		}
		mutually_exclusive = { focus = CAR_election_success }
		x = 9
		y = 0
		cost = 1
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			custom_effect_tooltip = CAR_aftermath_of_civil_war_tooltip
			add_political_power = 200
			country_event = { id = cntd.2 }
			set_country_flag = CAR_by_war
		}
}

focus = {
		id = CAR_consolidating_spain
		icon = GFX_goal_generic_alliance
		prerequisite = {
			focus = CAR_election_success
			focus = CAR_aftermath_of_civil_war
		}
		x = 8
		y = 1
		cost = 5
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			custom_effect_tooltip = CAR_consolidating_spain_tooltip
			add_political_power = 200
		}
}


### Internal Policies

focus = {
		id = CAR_domestic
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = CAR_consolidating_spain }
		x = 2
		y = 2
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_ideas = CAR_domestic
		}
}

focus = {
		id = CAR_oppress_opposition
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = CAR_domestic }
		x = 0
		y = 3
		cost = 10
		ai_will_do = {
			factor = 60
		}
		completion_reward = {
			add_political_power = 200
		}
}

focus = {
		id = CAR_reconcile_opposition
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = CAR_domestic }
		x = 2
		y = 3
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 200
			add_national_unity = 0.20
		}
}

focus = {
		id = CAR_home_rule
		icon = GFX_goal_generic_major_alliance
		prerequisite = {
			focus = CAR_oppress_opposition
			focus = CAR_reconcile_opposition
		}
		x = 1
		y = 4
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 200
			add_national_unity = 0.20
		}
}

### Industrial Reforms

focus = {
		id = CAR_industrial
		icon = GFX_goal_generic_production
		prerequisite = { focus = CAR_consolidating_spain }
		x = 6
		y = 2
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_ideas = CAR_industrial
		}
}

focus = {
		id = CAR_industry_1
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CAR_industrial }
		x = 4
		y = 3
		cost = 20
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			165 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			166 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			167 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
}

focus = {
		id = CAR_industry_2
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CAR_industry_1 }
		x = 4
		y = 4
		cost = 20
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			172 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
			176 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			171 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			174 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
		}
}

focus = {
		id = CAR_industry_3
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CAR_industry_2 }
		x = 4
		y = 5
		cost = 20
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			41 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			175 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
		}
}

focus = {
		id = CAR_mining_1
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CAR_industrial }
		available = { is_in_faction_with = POR }
		x = 6
		y = 3
		cost = 20
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_ideas = CAR_portuguese_economic_cooperation
			POR = {
				random_owned_controlled_state = {
					limit = {
						industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
}

focus = {
		id = CAR_mining_2
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CAR_mining_1 }
		available = { is_in_faction_with = ITA }
		x = 6
		y = 4
		cost = 20
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_ideas = CAR_italian_economic_cooperation
			ITA = {
				random_owned_controlled_state = {
					limit = {
						industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
}

focus = {
		id = CAR_mining_3
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CAR_mining_2 }
		available = { is_in_faction_with = NFA }
		x = 6
		y = 5
		cost = 20
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_ideas = CAR_french_economic_cooperation
			NFA = {
				random_owned_controlled_state = {
					limit = {
						industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
}

focus = {
		id = CAR_helping_hand
		icon = GFX_goal_generic_national_unity
		prerequisite = {
			focus = CAR_industry_3
			focus = CAR_mining_3
		}
		x = 5
		y = 6
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 40
			remove_ideas = CAR_black_monday
		}
}

focus = {
		id = CAR_militia
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = CAR_military }
		x = 8
		y = 3
		cost = 10
		completion_reward = {
			add_ideas = CAR_militia
		}
}
	
focus = {
		id = CAR_radio
		prerequisite = { focus = CAR_militia }
		icon = GFX_goal_generic_radar
		x = 8
		y = 4
		cost = 10
		completion_reward = {
			custom_effect_tooltip =  CAR_radio_tooltip
			add_ideas = CAR_radio
			add_research_slot = 1
		}
}
	
focus = {
		id = CAR_propaganda
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CAR_radio }
		x = 8
		y = 5
		cost = 10
		completion_reward = {
			add_ideas = CAR_propaganda
		}
}
	
focus = {
		id = CAR_schools
		icon = GFX_focus_research
		prerequisite = { focus = CAR_propaganda }
		x = 8
		y = 6
		cost = 10
		completion_reward = {
			add_research_slot = 1
		}
}

### Military Reforms

focus = {
		id = CAR_military
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = CAR_consolidating_spain }
		x = 10
		y = 2
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_ideas = CAR_military
		}
}

focus = {
		id = CAR_standing_army
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = CAR_military }
		mutually_exclusive = { focus = CAR_mobile_army }
		x = 10
		y = 3
		cost = 10
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			add_tech_bonus = {
				name = doctrine_bonus
				bonus = 0.5
				uses = 3
				category = cat_superior_firepower
			}
		}
}

focus = {
		id = CAR_infantry_weapons
		icon = GFX_goal_generic_small_arms
		prerequisite = {
			focus = CAR_standing_army
			focus = CAR_mobile_army
		}
		x = 10
		y = 4
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.5
				uses = 3
				category = infantry_weapons
			}
		}
}

focus = {
		id = CAR_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = CAR_infantry_weapons }
		x = 10
		y = 5
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_tech_bonus = {
				name = artillery
				bonus = 0.5
				uses = 3
				category = artillery
			}
		}
}

focus = {
		id = CAR_mobile_army
		icon = GFX_goal_generic_production2
		prerequisite = { focus = CAR_military }
		mutually_exclusive = { focus = CAR_standing_army }
		x = 12
		y = 3
		cost = 10
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_tech_bonus = {
				name = doctrine_bonus
				bonus = 0.5
				uses = 3
				category = cat_mobile_warfare
			}
		}
}

focus = {
		id = CAR_motorisation
		icon = GFX_goal_generic_army_motorized
		prerequisite = {
			focus = CAR_standing_army
			focus = CAR_mobile_army
		}
		x = 12
		y = 4
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 0.8
				uses = 3
				technology = motorised_infantry
			}
		}
}

focus = {
		id = CAR_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = CAR_motorisation }
		x = 12
		y = 5
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 3
				category = armor
			}
		}
}

focus = {
		id = CAR_army_innovations
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { 
			focus = CAR_artillery
			focus = CAR_tanks
		}
		x = 11
		y = 6
		cost = 10
		completion_reward = {
			add_ideas = CAR_army_innovations
		}
}

### Foreign Policies

focus = {
		id = CAR_foreign
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = CAR_consolidating_spain }
		x = 14
		y = 2
		cost = 1
		available = { is_subject = no
		controls_state = 41
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 40
			create_faction = Mediterranean_Bloc
		}
}

focus = {
		id = CAR_invite_italy
		icon = GFX_goal_generic_alliance
		available = {
			ITA = { 
				has_war = no
				is_subject = no
				NOT = { has_government = radical_socialist has_government = syndicalist has_government = totalist }
			}
		}
		prerequisite = { focus = CAR_foreign }
		x = 14
		y = 3
		cost = 1
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = { id = carfor.410 }
		}
}

focus = {
		id = CAR_invite_croatia
		icon = GFX_goal_generic_alliance
		available = {
			CRO = { 
				has_war = no
				is_subject = no
				NOT = { has_government = radical_socialist has_government = syndicalist has_government = totalist }
			}
		}
		prerequisite = { focus = CAR_invite_italy }
		x = 14
		y = 5
		cost = 1
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = { id = carfor.420 }
		}
}

focus = {
		id = CAR_invite_portugal
		icon = GFX_goal_generic_alliance
		available = {
			POR = { 
				has_war = no
				is_subject = no
				NOT = { has_government = radical_socialist has_government = syndicalist has_government = totalist }
			}
		}
		prerequisite = { focus = CAR_foreign }
		x = 15
		y = 4
		cost = 1
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = { id = carfor.430 }
		}
}

focus = {
		id = CAR_invite_france
		icon = GFX_goal_generic_alliance
		available = {
			NFA = { 
				has_war = no
				is_subject = no
				NOT = { has_government = radical_socialist has_government = syndicalist has_government = totalist }
				has_completed_focus = NFA_support_carlists
			}
		}
		prerequisite = { focus = CAR_foreign }
		x = 16
		y = 3
		cost = 1
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = { id = carfor.440 }
		}
}

focus = {
		id = CAR_french_restoration
		icon = GFX_goal_generic_alliance
		available = {
			FRA = { 
				has_war = yes
			}
			is_in_faction_with = NFA
		}
		prerequisite = { focus = CAR_invite_france }
		x = 16
		y = 5
		cost = 1
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			create_wargoal = { type = annex_everything target = FRA }
			NFA = {
				create_wargoal = { type = annex_everything target = FRA }
			}
		}
}
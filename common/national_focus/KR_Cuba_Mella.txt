###########################
### Cuban Mella Focuses ###
###########################
###     By Pietrus   	###
###########################

focus_tree = {
	id = CUB_mella_focuses
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}

	shared_focus = CUB_mella_begin
	shared_focus = CUB_new_economic_expansion
	shared_focus = CUB_foreign_relate
	shared_focus = CUB_begin_mil_reform
}

shared_focus = {
	id = CUB_mella_begin
	icon = GFX_focus_prc_agrarian_socialism
	x = 8
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_begin"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_mella_2
	icon = GFX_focus_AUS_agriculture
	x = 7
	y = 1
	cost = 7

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_begin
	}
	mutually_exclusive = {
		focus = CUB_mella_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_2"
		swap_ideas = {
			remove_idea = CUB_extsyndagr_2
			add_idea = CUB_extsyndagr_3
		}
		add_stability = 0.05
	}
}

shared_focus = {
	id = CUB_mella_3
	icon = GFX_goal_revolution_tools
	x = 9
	y = 1
	cost = 7

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_begin
	}
	mutually_exclusive = {
		focus = CUB_mella_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_3"
		swap_ideas = {
			remove_idea = CUB_extsyndagr_2
			add_idea = CUB_extsyndagr_comp
		}
		add_stability = -0.05
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
	}
}

shared_focus = {
	id = CUB_mella_4
	icon = GFX_HOL_crackdown_syndie
	x = 6
	y = 2
	cost = 3

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_4"
		add_stability = -0.05
		add_popularity = {ideology = syndicalist popularity = -0.1}
	}
}

shared_focus = {
	id = CUB_mella_5
	icon = GFX_goal_HOL_council_communism
	x = 8
	y = 2
	cost = 6

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_2
		focus = CUB_mella_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_5"
		315 = {
			add_extra_state_shared_building_slots = 3
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = CUB_mella_6
	icon = GFX_goal_LIB_reform_judiciary
	x = 10
	y = 2
	cost = 3

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_6"
		add_stability = -0.025
		add_ideas = CUB_judicial_reform
		add_political_power = -100
	}
}

shared_focus = {
	id = CUB_mella_7
	icon = GFX_goal_POR_burden_empire
	x = 7
	y = 3
	cost = 8

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_4
	}
	prerequisite = {
		focus = CUB_mella_5
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_7"
		country_event = cuba.214
		custom_effect_tooltip = CUB_mella_7_tt
	}
}

shared_focus = {
	id = CUB_mella_8
	icon = GFX_ITA_female_soldiers
	x = 9
	y = 3
	cost = 8

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_5
	}
	prerequisite = {
		focus = CUB_mella_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_8"
		add_ideas = CUB_sexism
		add_war_support = 0.05
	}
}

shared_focus = {
	id = CUB_mella_9
	icon = GFX_goal_bull
	x = 5
	y = 4
	cost = 5

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_7
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_9"
		country_event = cuba.215
		hidden_effect = {
			add_country_leader_trait = el_caballo
		}
	}
}

shared_focus = {
	id = CUB_mella_10
	icon = GFX_goal_burning_globe
	x = 7
	y = 4
	cost = 5

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_7
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_10"
		add_ideas = CUB_perm_rev
	}
}

shared_focus = {
	id = CUB_mella_11
	icon = GFX_goal_MAF_Kulturkampf
	x = 9
	y = 4
	cost = 6

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_7
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_11"
		add_stability = 0.075
		add_political_power = -100
	}
}

shared_focus = {
	id = CUB_mella_12
	icon = GFX_goal_great_science
	x = 11
	y = 4
	cost = 10

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_7
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_12"
		add_ideas = CUB_education
	}
}

shared_focus = {
	id = CUB_mella_13
	icon = GFX_focus_generic_strike_at_democracy2
	x = 8
	y = 5
	cost = 10

	available = {
		has_government = totalist
	}

	prerequisite = {
		focus = CUB_mella_9
	}
	prerequisite = {
		focus = CUB_mella_10
	}
	prerequisite = {
		focus = CUB_mella_11
	}
	prerequisite = {
		focus = CUB_mella_12
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_13"
		add_political_power = 300
		hidden_effect = {
			country_event = cuba.216
			country_event = {
				id = cubaflavor.11
				days = 45
			}
		}
	}
}

############################
### Cuban RevDem Focuses ###
############################
###      By Pietrus      ###
############################

focus_tree = {
	id = CUB_revdem_focuses
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}

	shared_focus = CUB_revdem_begin
	shared_focus = CUB_new_economic_expansion
	shared_focus = CUB_foreign_relate
	shared_focus = CUB_begin_mil_reform
}

shared_focus = {
	id = CUB_revdem_begin
	icon = GFX_goal_ideology_radical_socialist
	x = 3
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_begin"
		set_party_name =  {
			ideology = radical_socialist
			name = CUB_radical_socialist_party_radsocdem
			long_name = CUB_radical_socialist_party_long_radsocdem
		}
	}
}

shared_focus = {
	id = CUB_revdem_newparty
	icon = GFX_goal_generic_improve_relations
	x = 0
	y = 1
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_begin
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_newparty"
		add_stability = 0.05
		add_political_power = 50
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		create_country_leader = {
			name = "Manuel Bisb√© Alberni"
			desc = "POLITICS_MANUEL_BISBE_DESC"
			picture = "Portrait_Cuba_Manuel_Bisbe_Alberni.tga"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
			traits = {}
		}
	}
}

shared_focus = {
	id = CUB_revdem_2
	icon = GFX_goal_intergrate_the_militia
	x = -2
	y = 2
	relative_position_id = CUB_revdem_begin
	cost = 3

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_newparty
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_2"
		add_stability = 0.05

	}
}

shared_focus = {
	id = CUB_revdem_3
	icon = GFX_focus_generic_concessions
	x = 0
	y = 2
	relative_position_id = CUB_revdem_begin
	cost = 7

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_newparty
	}
	available = {
		OR = {
			has_idea = CUB_modsyndagr
			has_idea = CUB_modsyndagr_2
		}
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_3"
		if = {
			limit = {
				has_idea = CUB_modsyndagr
			}
			swap_ideas = {
				remove_idea = CUB_modsyndagr
				add_idea = CUB_modsyndagr_radplus
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_modsyndagr_2
				add_idea = CUB_modsyndagr_radplus
			}
		}
	}
}

shared_focus = {
	id = CUB_revdem_4
	icon = GFX_goal_HOL_crackdown_totalist
	x = 2
	y = 2
	relative_position_id = CUB_revdem_begin
	cost = 6

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_newparty
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_4"
		add_political_power = -20
		add_stability = 0.02
		add_war_support = 0.02
		add_popularity = {
			ideology = totalist
			popularity = -0.1
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = CUB_revdem_5
	icon = GFX_goal_agrarian_reform
	x = -1
	y = 3
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_2
	}
	prerequisite = {
		focus = CUB_revdem_3
	}
	prerequisite = {
		focus = CUB_revdem_4
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_5"
		swap_ideas = {
			remove_idea = CUB_modsyndagr_radplus
			add_idea = CUB_modsyndagr_radplus_2
		}
	}
}

shared_focus = {
	id = CUB_revdem_6
	icon = GFX_goal_support_democracy
	x = 1
	y = 3
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_2
	}
	prerequisite = {
		focus = CUB_revdem_3
	}
	prerequisite = {
		focus = CUB_revdem_4
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_6"
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.05
		}
		if = {
			limit = {
				date < 1937.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1933.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1937.1.28
				date < 1938.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1934.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1938.1.28
				date < 1939.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1935.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1939.1.28
				date < 1940.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1936.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1940.1.28
				date < 1941.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1937.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1941.1.28
				date < 1942.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1938.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1942.1.28
				date < 1943.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1939.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1943.1.28
				date < 1944.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1940.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1944.1.28
				date < 1945.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1941.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1945.1.28
				date < 1946.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1942.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1946.1.28
				date < 1947.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1943.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1947.1.28
				date < 1948.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1944.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1948.1.28
				date < 1949.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1945.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1949.1.28
				date < 1950.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1946.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1950.1.28
				date < 1951.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1947.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1951.1.28
				date < 1952.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1948.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1952.1.28
				date < 1953.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1949.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1953.1.28
				date < 1954.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1950.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1954.1.28
				date < 1955.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1951.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1955.1.28
				date < 1956.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1952.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1956.1.28
				date < 1957.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1953.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1957.1.28
				date < 1958.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1954.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1958.1.28
				date < 1959.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1955.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		if = {
			limit = {
				date > 1959.1.28
				date < 1960.1.28
			}
			hidden_effect = {
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1956.1.28"
					election_frequency = 48
					elections_allowed = yes
				}
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
	}
}

shared_focus = {
	id = CUB_revdem_7
	icon = GFX_focus_generic_socialist_science
	x = -2
	y = 4
	relative_position_id = CUB_revdem_begin
	cost = 10

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_5
	}
	prerequisite = {
		focus = CUB_revdem_6
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_7"
		add_political_power = -100
		add_timed_idea = {
			idea = CUB_radsocresearch
			days = 400
		}
	}
}

shared_focus = {
	id = CUB_revdem_8
	icon = GFX_goal_Agarian_Soldiers
	x = 0
	y = 4
	relative_position_id = CUB_revdem_begin
	cost = 8

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_5
	}
	prerequisite = {
		focus = CUB_revdem_6
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_8"
		add_political_power = 25
		army_experience = 25
		add_timed_idea = {
			idea = CUB_radsocmilsurge
			days = 360
		}
	}
}

shared_focus = {
	id = CUB_revdem_9
	icon = GFX_goal_graveyard
	x = 2
	y = 4
	relative_position_id = CUB_revdem_begin
	cost = 10

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_5
	}
	prerequisite = {
		focus = CUB_revdem_6
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_9"
		add_political_power = 150
	}
}

shared_focus = {
	id = CUB_revdem_10
	icon = GFX_goal_liberty
	x = 0
	y = 5
	relative_position_id = CUB_revdem_begin
	cost = 9

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_7
	}
	prerequisite = {
		focus = CUB_revdem_8
	}
	prerequisite = {
		focus = CUB_revdem_9
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_10"
		add_war_support = 0.05
		add_political_power = 50
		add_popularity = {
			ideology = social_liberal
			popularity = 0.07
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.07
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.07
		}
	}
}
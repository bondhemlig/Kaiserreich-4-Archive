### Southern China decisions

CHS_national_protection_alliance = {

	CHS_NPA_invite_country = {
		icon = generic_agreement

		visible = {
			FROM = {
				is_in_faction = no
				NOT = { has_country_flag = refused_npa }
			}
		}

		targets = { GXC HNN YUN SZC }
		target_trigger = {
			FROM = {
				is_in_faction = no
				NOT = { has_country_flag = refused_npa }
			}
		}

		fire_only_once = yes

		cost = 25

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				FROM = { has_war = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHS_NPA_invite_liangguang target: [From.GetName]"
			FROM = {
				country_event = { id = npa.5 }
			}
		}
	}
	CHS_NPA_attack_country = {
		icon = generic_prepare_civil_war

		visible = {
			FROM = {
				is_in_faction = no
				OR = {
					has_war = yes
					has_country_flag = refused_npa
				}
			}
		}

		targets = { GXC HNN YUN SZC }
		target_trigger = {
			FROM = {
				is_in_faction = no
				OR = {
					has_war = yes
					has_country_flag = refused_npa
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 14
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHS_NPA_invite_liangguang target: [From.GetName]"
			create_wargoal = {
				type = annex_everything
				target = FROM
			}
		}
	}
	CHS_NPA_attack_KMT = {
		icon = oppression
		
		targets = { CHI }
		target_trigger = {
			is_in_faction = no
			NOT = {
				has_country_flag = refused_npa
			}
		}

		fire_only_once = yes
		cost = 25
		days_remove = 14
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 0.75
				}
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GXC_purge_KMT"
			create_wargoal = {
				type = annex_everything
				target = FROM
			}
		}
	}
}
CHS_NPA_mopping_up = {
	CHS_NPA_mop_up_tag = {
		icon = oppression
		visible = {
			FROM = {
				is_valid_war_target = yes
				is_neighbor_of = ROOT
				is_in_faction = no
			}
		}
		targets = { GXC HNN YUN SZC XSM SIK TIB ANQ SQI SHX FNG TAN }
		target_root_trigger = {
			has_completed_focus = CHS_national_reunification
		}
		target_trigger = {
			FROM = {
				is_valid_war_target = yes
				is_neighbor_of = ROOT
				is_in_faction = no
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 14
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 0.75
				}
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				will_not_commit_suicide = yes
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHS_NPA_invite_liangguang target: [From.GetName]"
			FROM = {
				country_event = { id = npa.19 }
			}
		}
	}

	CHS_NPA_integrate_allies = {
		icon = generic_agreement

		visible = {
			is_faction_leader = yes
			is_neighbor_of = FROM
		}

		target_array = faction_members
		target_root_trigger = {
			has_completed_focus = CHS_national_reunification
			is_faction_leader = yes
		}
		target_trigger = {
			OR = {
				tag = TAN
				is_han_chinese_tag = yes
			}
		}

		cost = 40
		days_remove = 30
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHS_NPA_integrate_allies target: [From.GetName]"
			FROM = {
				country_event = {
					id = npa.19
					hours = 12
				}
			}
		}
	}
}
